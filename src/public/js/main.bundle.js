/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/app.js":(e,t,n)=>{"use strict";n.r(t);n("./node_modules/core-js/stable/index.js"),n("./node_modules/regenerator-runtime/runtime.js");var o=n("./src/js/data/config.js"),r=n("./src/js/utils/detector.js"),a=(n("./src/js/app/gameScene.js"),n("./src/js/webrtc/videoCall.js")),i=n("./src/js/app/game.js");n("./src/css/app.scss");console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),o.default.isDev=!0,function(){if(r.default.webgl){document.getElementById("appContainer");(0,i.startGame)(a.isInitiator)}else r.default.addGetWebGLMessage()}()},"./src/js/app/components/camera.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/data/config.js");function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=t.domElement.width,i=t.domElement.height;this.threeCamera=new o.PerspectiveCamera(r.default.camera.fov,a/i,r.default.camera.near,r.default.camera.far),this.threeCamera.position.set(r.default.camera.posX,r.default.camera.posY,r.default.camera.posZ),this.updateSize(t),window.addEventListener("resize",(function(){return n.updateSize(t)}),!1)}var t,n,i;return t=e,(n=[{key:"updateSize",value:function(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()}}])&&a(t.prototype,n),i&&a(t,i),e}()},"./src/js/app/components/controls.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/utils/orbitControls.js"),a=n.n(r),i=n("./src/js/data/config.js");function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new(a())(o);this.threeControls=new r(t,n),this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.threeControls.target.set(i.default.controls.target.x,i.default.controls.target.y,i.default.controls.target.z),this.threeControls.autoRotate=i.default.controls.autoRotate,this.threeControls.autoRotateSpeed=i.default.controls.autoRotateSpeed,this.threeControls.rotateSpeed=i.default.controls.rotateSpeed,this.threeControls.zoomSpeed=i.default.controls.zoomSpeed,this.threeControls.minDistance=i.default.controls.minDistance,this.threeControls.maxDistance=i.default.controls.maxDistance,this.threeControls.minPolarAngle=i.default.controls.minPolarAngle,this.threeControls.maxPolarAngle=i.default.controls.maxPolarAngle,this.threeControls.enableDamping=i.default.controls.enableDamping,this.threeControls.enableZoom=i.default.controls.enableZoom,this.threeControls.dampingFactor=i.default.controls.dampingFactor}}])&&s(t.prototype,n),r&&s(t,r),e}()},"./src/js/app/components/geometry.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/app/components/material.js"),a=n("./src/js/data/config.js");function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.geo=null}var t,n,s;return t=e,(n=[{key:"make",value:function(e){var t=this;return"plane"===e?function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.geo=new o.PlaneGeometry(e,n,r,a)}:"sphere"===e?function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;t.geo=new o.SphereGeometry(e,n,r)}:void 0}},{key:"place",value:function(e,t){var n,s,l=new r.default(15658734).standard,c=new o.Mesh(this.geo,l);(n=c.position).set.apply(n,i(e)),(s=c.rotation).set.apply(s,i(t)),a.default.shadow.enabled&&(c.receiveShadow=!0),this.scene.add(c)}}])&&l(t.prototype,n),s&&l(t,s),e}()},"./src/js/app/components/light.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/data/config.js");function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.ambientLight=new o.AmbientLight(r.default.ambientLight.color),this.ambientLight.visible=r.default.ambientLight.enabled,this.pointLight=new o.PointLight(r.default.pointLight.color,r.default.pointLight.intensity,r.default.pointLight.distance),this.pointLight.position.set(r.default.pointLight.x,r.default.pointLight.y,r.default.pointLight.z),this.pointLight.visible=r.default.pointLight.enabled,this.directionalLight=new o.DirectionalLight(r.default.directionalLight.color,r.default.directionalLight.intensity),this.directionalLight.position.set(r.default.directionalLight.x,r.default.directionalLight.y,r.default.directionalLight.z),this.directionalLight.visible=r.default.directionalLight.enabled,this.directionalLight.castShadow=r.default.shadow.enabled,this.directionalLight.shadow.bias=r.default.shadow.bias,this.directionalLight.shadow.camera.near=r.default.shadow.near,this.directionalLight.shadow.camera.far=r.default.shadow.far,this.directionalLight.shadow.camera.left=r.default.shadow.left,this.directionalLight.shadow.camera.right=r.default.shadow.right,this.directionalLight.shadow.camera.top=r.default.shadow.top,this.directionalLight.shadow.camera.bottom=r.default.shadow.bottom,this.directionalLight.shadow.mapSize.width=r.default.shadow.mapWidth,this.directionalLight.shadow.mapSize.height=r.default.shadow.mapHeight,r.default.isDev&&(this.directionalLightHelper=new o.CameraHelper(this.directionalLight.shadow.camera),this.directionalLightHelper.visible=r.default.shadow.helperEnabled),this.hemiLight=new o.HemisphereLight(r.default.hemiLight.color,r.default.hemiLight.groundColor,r.default.hemiLight.intensity),this.hemiLight.position.set(r.default.hemiLight.x,r.default.hemiLight.y,r.default.hemiLight.z),this.hemiLight.visible=r.default.hemiLight.enabled}},{key:"place",value:function(e){switch(e){case"ambient":this.scene.add(this.ambientLight);break;case"directional":this.scene.add(this.directionalLight),r.default.isDev&&this.scene.add(this.directionalLightHelper);break;case"point":this.scene.add(this.pointLight);break;case"hemi":this.scene.add(this.hemiLight)}}}])&&a(t.prototype,n),i&&a(t,i),e}()},"./src/js/app/components/material.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/three/build/three.module.js");var r=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.basic=new o.MeshBasicMaterial({color:t,side:o.DoubleSide}),this.standard=new o.MeshStandardMaterial({color:t,shading:o.FlatShading,roughness:1,metalness:0,side:o.DoubleSide}),this.wire=new o.MeshBasicMaterial({wireframe:!0})}},"./src/js/app/components/renderer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/data/config.js");function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.container=n,this.threeRenderer=new o.WebGLRenderer({antialias:!0,alpha:!0}),this.threeRenderer.setClearColor(t.fog.color),this.threeRenderer.setPixelRatio(window.devicePixelRatio),n.appendChild(this.threeRenderer.domElement),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=o.PCFSoftShadowMap,r.default.maxAnisotropy=this.threeRenderer.capabilities.getMaxAnisotropy(),this.updateSize(),document.addEventListener("DOMContentLoaded",(function(){return a.updateSize()}),!1),window.addEventListener("resize",(function(){return a.updateSize()}),!1)}var t,n,i;return t=e,(n=[{key:"updateSize",value:function(){this.threeRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight)}},{key:"render",value:function(e,t){this.threeRenderer.render(e,t)}}])&&a(t.prototype,n),i&&a(t,i),e}()},"./src/js/app/game.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{startGame:()=>y,getSceneJSON:()=>S,updateRemoteObjects:()=>M,moveRemoteVideoToScene:()=>L});var o=n("./node_modules/three/build/three.module.js"),r=(n("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),n("./node_modules/three/examples/jsm/loaders/GLTFLoader.js")),a=n("./node_modules/three/examples/jsm/controls/DragControls.js"),i=n("./src/js/app/game/gameController.js"),s=n("./src/js/app/game/scene.js");function l(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){l(a,o,r,i,s,"next",e)}function s(e){l(a,o,r,i,s,"throw",e)}i(void 0)}))}}var u,d,h,m,f=(0,i.GameController)(),p=new Map,g=new o.WebGLRenderer({alpha:!0}),v=[],b=!1;function y(e){b=e,console.log("Started game with isInitiator = "+e),g.setPixelRatio(window.devicePixelRatio),g.setSize(window.innerWidth,window.innerHeight),g.autoClear=!1,document.getElementById("appContainer").appendChild(g.domElement),u=(0,s.initScene)(),d=(0,s.initCamera)(b),function(){w.apply(this,arguments)}(),new a.DragControls([].concat(v),d,g.domElement).addEventListener("drag",(function(e){f.sendGameobjectUpdate(T(e.object)),R()})),E()}function w(){return(w=c(regeneratorRuntime.mark((function e(){var t,n,i,s,l,c,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new r.GLTFLoader,e.next=3,t.loadAsync("assets/models/duck.gltf");case 3:e.sent.scene.traverse((function(e){e.isMesh&&(m=new o.Mesh,e.scale.set(.01,.01,.01),m=e,new a.DragControls([m],d,g.domElement).addEventListener("drag",(function(e){f.sendGameobjectUpdate(T(e.object)),R()})))})),b?((n=m.clone()).name="duckMesh1",u.add(n),n.position.set(0,-4,0),p.set(n.name,n),x(n),(i=m.clone()).name="duckMesh2",i.position.set(1,-4,0),u.add(i),p.set(i.name,i),x(i)):((s=m.clone()).name="duckMesh3",s.position.set(-1,-4,0),u.add(s),p.set(s.name,s),x(s)),g.outputEncoding=o.sRGBEncoding,l=new o.PlaneGeometry(4,8/3),c=new o.MeshBasicMaterial({color:9127187,side:o.DoubleSide}),(h=new o.Mesh(l,c)).position.y=-2,h.rotation.x=Math.PI/2,u.add(h);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){setTimeout((function(){console.log("------------moveRemoteVideoToScene-------------");var e=document.getElementById("remoteVideo"),t=e.offsetWidth/e.offsetHeight;console.log(e),console.log("width: "+e.offsetWidth),console.log("height: "+e.offsetHeight);var n,r,a,i=new o.PlaneGeometry(4,4/t),s=(n="remoteVideo",r=document.getElementById(n),a=new o.VideoTexture(r),new o.MeshBasicMaterial({map:a,overdraw:!0,side:o.DoubleSide})),l=new o.Mesh(i,s);u.add(l)}),1e3)}function E(){requestAnimationFrame(E),g.render(u,d)}function T(e){var t={name:e.name,position:e.position,rotation:e.rotation},n=JSON.stringify(t);return console.log("JSON:"+n),n}function S(){h.uuid,h.position,h.rotation;return JSON.stringify(v)}function M(e){var t=JSON.parse(e);if(p.has(t.name)){var n=u.getObjectByName(t.name);n.position.x=t.position.x,n.position.y=t.position.y,n.position.z=t.position.z,n.rotation.x=t.rotation._x,n.rotation.y=t.rotation._y,n.rotation.z=t.rotation._z}else{m.name=t.name,m.position.set(t.position.x,t.position.y,t.position.z);var o=m.clone();p.set(o.name,o),u.add(o),x(o)}}function x(e){v.push(e),new a.DragControls([].concat(v),d,g.domElement).addEventListener("drag",(function(e){f.sendGameobjectUpdate(T(e.object)),R()}))}function R(){g.render(u,d)}},"./src/js/app/gameScene.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var o=n("./node_modules/three/build/three.module.js"),r=n("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),a=n("./src/js/app/components/renderer.js"),i=n("./src/js/app/components/camera.js"),s=n("./src/js/app/components/light.js"),l=n("./src/js/app/components/controls.js"),c=n("./src/js/app/components/geometry.js"),u=n("./src/js/app/helpers/stats.js"),d=n("./src/js/app/helpers/meshHelper.js"),h=n("./src/js/app/model/texture.js"),m=n("./src/js/app/model/model.js"),f=n("./src/js/app/managers/interaction.js"),p=n("./src/js/app/managers/datGUI.js"),g=n("./src/js/data/config.js");function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.clock=new o.Clock,this.scene=new o.Scene,this.scene.fog=new o.FogExp2(g.default.fog.color,g.default.fog.near),window.devicePixelRatio&&(g.default.dpr=window.devicePixelRatio),this.renderer=new a.default(this.scene,t),this.camera=new i.default(this.renderer.threeRenderer),this.controls=new l.default(this.camera.threeCamera,t),this.light=new s.default(this.scene);["ambient","directional","point","hemi"].forEach((function(e){return n.light.place(e)})),this.geometry=new c.default(this.scene),this.geometry.make("plane")(150,150,10,10),this.geometry.place([0,-20,0],[Math.PI/2,0,0]),g.default.isDev&&g.default.isShowingStats&&(this.stats=new u.default(this.renderer),this.stats.setUp()),g.default.isDev&&(this.gui=new p.default(this)),this.texture=new h.default,this.texture.load().then((function(){n.manager=new o.LoadingManager,n.model=new m.default(n.scene,n.manager,n.texture.textures),n.model.load(g.default.models[g.default.model.selected].type),n.manager.onProgress=function(e,t,n){console.log("".concat(e,": ").concat(t," ").concat(n))},n.manager.onLoad=function(){new f.default(n.renderer.threeRenderer,n.scene,n.camera.threeCamera,n.controls.threeControls),g.default.isDev&&(n.meshHelper=new d.default(n.scene,n.model.obj),g.default.mesh.enableHelper&&n.meshHelper.enable(),n.gui.load(n,n.model.obj)),g.default.isLoaded=!0,n.container.querySelector("#loading").style.display="none"}})),this.render()}var t,n,b;return t=e,(n=[{key:"render",value:function(){g.default.isDev&&g.default.isShowingStats&&u.default.start(),this.renderer.render(this.scene,this.camera.threeCamera),g.default.isDev&&g.default.isShowingStats&&u.default.end(),r.default.update(),this.controls.threeControls.update(),requestAnimationFrame(this.render.bind(this))}}])&&v(t.prototype,n),b&&v(t,b),e}()},"./src/js/app/game/gameController.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GameController:()=>a});var o=n("./src/js/webrtc/videoCall.js"),r=[],a=function(){return{addLocalObject:function(e){console.log("localObject added for game sync: "+JSON.stringify(e)+" id: "+e.id);var t={uuid:e.uuid,position:e.position,rotation:e.rotation},n=JSON.stringify(t);r.push(n)},startSharedSceneSync:function(){},stopSharedSceneSync:function(){clearInterval(undefined)},sendGameobjectUpdate:function(e){o.dataChannel&&void 0!==e&&"open"===o.dataChannel.readyState&&o.dataChannel.send(e)},updateRemoteObjects:function(e){var t=JSON.parse(e);localElement=getLocalObject,cube.position.x=t.position.x,cube.position.y=t.position.y,cube.position.z=t.position.z,cube.rotation.x=t.rotation._x,cube.rotation.y=t.rotation._y,cube.rotation.z=t.rotation._z}}}},"./src/js/app/game/scene.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{initScene:()=>a,initCamera:()=>i});var o,r=n("./node_modules/three/build/three.module.js");function a(){return(o=new r.Scene).background=null,function(){var e=new r.DirectionalLight(16777215,1);e.position.set(2,2,0),o.add(e);var t=new r.DirectionalLight(16777215,1);t.position.set(2,2,-20),o.add(t);var n=new r.DirectionalLight(16777215,1);n.position.set(2,2,20),o.add(n)}(),o}function i(e){var t=new r.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,500);return e?(console.log("changing camera position!"),t.position.x=0,t.position.y=0,t.position.z=-10,t.lookAt(0,0,0)):(t.position.x=0,t.position.y=0,t.position.z=10,t.lookAt(0,0,0)),t}},"./src/js/app/helpers/meshHelper.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/app/helpers/vertexNormalsHelper.js");function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mesh=n,this.scene=t;var a=new o.WireframeGeometry(this.mesh.geometry);this.wireLine=new o.LineSegments(a),this.wireLine.material.depthTest=!1,this.wireLine.material.opacity=.25,this.wireLine.material.transparent=!0;var i=new o.EdgesGeometry(this.mesh.geometry);this.edgesLine=new o.LineSegments(i),this.edgesLine.material.depthTest=!1,this.edgesLine.material.opacity=.25,this.edgesLine.material.transparent=!0,this.vertexHelper=new r.VertexNormalsHelper(this.mesh,2),this.boxHelper=new o.BoxHelper(this.mesh)}var t,n,i;return t=e,(n=[{key:"enable",value:function(){this.mesh.add(this.wireLine),this.mesh.add(this.edgesLine),this.scene.add(this.vertexHelper),this.scene.add(this.boxHelper)}},{key:"disable",value:function(){this.mesh.remove(this.wireLine),this.mesh.remove(this.edgesLine),this.scene.remove(this.vertexHelper),this.scene.remove(this.boxHelper)}}])&&a(t.prototype,n),i&&a(t,i),e}()},"./src/js/app/helpers/stats.js":(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r,a,i,s;n.r(t),n.d(t,{default:()=>l});var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t}var t,n,l;return t=e,l=[{key:"start",value:function(){r("frame").start(),i.start(),r("rAF").tick(),r("FPS").frame(),r("render").start()}},{key:"end",value:function(){r("render").end(),r("frame").end(),r("rStats").start(),r().update(),r("rStats").end()}}],(n=[{key:"setUp",value:function(){a=new BrowserStats,i=new glStats,s=new threeStats(this.renderer.threeRenderer),r=new rStats({CSSPath:"./css/",userTimingAPI:!0,values:{frame:{caption:"Total frame time (ms)",over:16,average:!0,avgMs:100},fps:{caption:"Framerate (FPS)",below:30},calls:{caption:"Calls (three.js)",over:3e3},raf:{caption:"Time since last rAF (ms)",average:!0,avgMs:100},rstats:{caption:"rStats update (ms)",average:!0,avgMs:100},texture:{caption:"GenTex",average:!0,avgMs:100}},groups:[{caption:"Framerate",values:["fps","raf"]},{caption:"Frame Budget",values:["frame","texture","setup","render"]}],fractions:[{base:"frame",steps:["texture","setup","render"]}],plugins:[a,s]})}}])&&o(t.prototype,n),l&&o(t,l),e}()},"./src/js/app/helpers/vertexNormalsHelper.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{VertexNormalsHelper:()=>l});var o=n("./node_modules/three/build/three.module.js"),r=new o.Vector3,a=new o.Vector3,i=new o.Matrix3,s=["a","b","c"];function l(e,t,n){this.object=e,this.size=void 0!==t?t:.1;var r=void 0!==n?n:16711680,a=0,i=this.object.geometry;i&&i.isGeometry?a=3*i.faces.length:i&&i.isBufferGeometry&&(a=i.attributes.normal.count);var s=new o.BufferGeometry,l=new o.Float32BufferAttribute(2*a*3,3);s.setAttribute("position",l),o.LineSegments.call(this,s,new o.LineBasicMaterial({color:r,toneMapped:!1})),this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.update()}l.prototype=Object.create(o.LineSegments.prototype),l.prototype.constructor=l,l.prototype.update=function(){var e;this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld,n=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry){var l=o.vertices,c=o.faces;e=0;for(var u=0,d=c.length;u<d;u++)for(var h=c[u],m=0,f=h.vertexNormals.length;m<f;m++){var p=l[h[s[m]]],g=h.vertexNormals[m];r.copy(p).applyMatrix4(t),a.copy(g).applyMatrix3(i).normalize().multiplyScalar(this.size).add(r),n.setXYZ(e,r.x,r.y,r.z),e+=1,n.setXYZ(e,a.x,a.y,a.z),e+=1}}else if(o&&o.isBufferGeometry){var v=o.attributes.position,b=o.attributes.normal;e=0;for(var y=0,w=v.count;y<w;y++)r.set(v.getX(y),v.getY(y),v.getZ(y)).applyMatrix4(t),a.set(b.getX(y),b.getY(y),b.getZ(y)),a.applyMatrix3(i).normalize().multiplyScalar(this.size).add(r),n.setXYZ(e,r.x,r.y,r.z),e+=1,n.setXYZ(e,a.x,a.y,a.z),e+=1}n.needsUpdate=!0}},"./src/js/app/loaders/GLTFLoader.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GLTFLoader:()=>a});var o=n("./node_modules/three/build/three.module.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(){function e(e){o.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(o.Loader.prototype),{constructor:e,load:function(e,t,n,r){var a,i=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:o.LoaderUtils.extractUrlBase(e),i.manager.itemStart(e);var s=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},l=new o.FileLoader(i.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),"use-credentials"===i.crossOrigin&&l.setWithCredentials(!0),l.load(e,(function(n){try{i.parse(n,a,(function(n){t(n),i.manager.itemEnd(e)}),s)}catch(e){s(e)}}),n,s)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,r,u){var d,p={};if("string"==typeof e)d=e;else if(o.LoaderUtils.decodeText(new Uint8Array(e,0,4))===c){try{p[n.KHR_BINARY_GLTF]=new h(e)}catch(e){return void(u&&u(e))}d=p[n.KHR_BINARY_GLTF].content}else d=o.LoaderUtils.decodeText(new Uint8Array(e));var b=JSON.parse(d);if(void 0===b.asset||b.asset.version[0]<2)u&&u(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(b.extensionsUsed)for(var y=0;y<b.extensionsUsed.length;++y){var w=b.extensionsUsed[y],L=b.extensionsRequired||[];switch(w){case n.KHR_LIGHTS_PUNCTUAL:p[w]=new i(b);break;case n.KHR_MATERIALS_CLEARCOAT:p[w]=new l;break;case n.KHR_MATERIALS_UNLIT:p[w]=new s;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:p[w]=new g;break;case n.KHR_DRACO_MESH_COMPRESSION:p[w]=new m(b,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:p[w]=new a(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:p[w]=new f;break;case n.KHR_MESH_QUANTIZATION:p[w]=new v;break;default:L.indexOf(w)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}new B(b,p,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(r,u)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function a(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function s(){this.name=n.KHR_MATERIALS_UNLIT}function l(){this.name=n.KHR_MATERIALS_CLEARCOAT}i.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new o.Color(16777215);void 0!==n.color&&r.fromArray(n.color);var a=void 0!==n.range?n.range:0;switch(n.type){case"directional":(t=new o.DirectionalLight(r)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new o.PointLight(r)).distance=a;break;case"spot":(t=new o.SpotLight(r)).distance=a,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},s.prototype.getMaterialType=function(){return o.MeshBasicMaterial},s.prototype.extendParams=function(e,t,n){var r=[];e.color=new o.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var i=a.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(r)},l.prototype.getMaterialType=function(){return o.MeshPhysicalMaterial},l.prototype.extendParams=function(e,t,n){var r=[],a=t.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var i=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new o.Vector2(i,i)}return Promise.all(r)};var c="glTF",u=1313821514,d=5130562;function h(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:o.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==c)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=new DataView(e,12),a=0;a<r.byteLength;){var i=r.getUint32(a,!0);a+=4;var s=r.getUint32(a,!0);if(a+=4,s===u){var l=new Uint8Array(e,12+a,i);this.content=o.LoaderUtils.decodeText(l)}else if(s===d){var h=12+a;this.body=e.slice(h,h+i)}a+=i}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function m(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function f(){this.name=n.KHR_TEXTURE_TRANSFORM}function p(e){o.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),i=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),s={specular:{value:(new o.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=s,this.onBeforeCompile=function(e){for(var o in s)e.uniforms[o]=s[o];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",a),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",i)},Object.defineProperties(this,{specular:{get:function(){return s.specular.value},set:function(e){s.specular.value=e}},specularMap:{get:function(){return s.specularMap.value},set:function(e){s.specularMap.value=e}},glossiness:{get:function(){return s.glossiness.value},set:function(e){s.glossiness.value=e}},glossinessMap:{get:function(){return s.glossinessMap.value},set:function(e){s.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return p},extendParams:function(e,t,n){var r=t.extensions[this.name];e.color=new o.Color(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var i=r.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new o.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new o.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var s=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",s)),a.push(n.assignTexture(e,"specularMap",s))}return Promise.all(a)},createMaterial:function(e){var t=new p(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=o.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function v(){this.name=n.KHR_MESH_QUANTIZATION}function b(e,t,n,r){o.Interpolant.call(this,e,t,n,r)}m.prototype.decodePrimitive=function(e,t){var n=this.json,o=this.dracoLoader,r=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,i={},s={},l={};for(var c in a){var u=j[c]||c.toLowerCase();i[u]=a[c]}for(c in e.attributes){u=j[c]||c.toLowerCase();if(void 0!==a[c]){var d=n.accessors[e.attributes[c]],h=x[d.componentType];l[u]=h,s[u]=!0===d.normalized}}return t.getDependency("bufferView",r).then((function(e){return new Promise((function(t){o.decodeDracoFile(e,(function(e){for(var n in e.attributes){var o=e.attributes[n],r=s[n];void 0!==r&&(o.normalized=r)}t(e)}),i,l)}))}))},f.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},p.prototype=Object.create(o.MeshStandardMaterial.prototype),p.prototype.constructor=p,p.prototype.copy=function(e){return o.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},b.prototype=Object.create(o.Interpolant.prototype),b.prototype.constructor=b,b.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,o=this.valueSize,r=e*o*3+o,a=0;a!==o;a++)t[a]=n[r+a];return t},b.prototype.beforeStart_=b.prototype.copySampleValue_,b.prototype.afterEnd_=b.prototype.copySampleValue_,b.prototype.interpolate_=function(e,t,n,o){for(var r=this.resultBuffer,a=this.sampleValues,i=this.valueSize,s=2*i,l=3*i,c=o-t,u=(n-t)/c,d=u*u,h=d*u,m=e*l,f=m-l,p=-2*h+3*d,g=h-d,v=1-p,b=g-d+u,y=0;y!==i;y++){var w=a[f+y+i],L=a[f+y+s]*c,E=a[m+y+i],T=a[m+y]*c;r[y]=v*w+b*L+p*E+g*T}return r};var y=0,w=1,L=2,E=3,T=4,S=5,M=6,x={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},R={9728:o.NearestFilter,9729:o.LinearFilter,9984:o.NearestMipmapNearestFilter,9985:o.LinearMipmapNearestFilter,9986:o.NearestMipmapLinearFilter,9987:o.LinearMipmapLinearFilter},C={33071:o.ClampToEdgeWrapping,33648:o.MirroredRepeatWrapping,10497:o.RepeatWrapping},A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},P={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},_={CUBICSPLINE:void 0,LINEAR:o.InterpolateLinear,STEP:o.InterpolateDiscrete},O="OPAQUE",k="MASK",I="BLEND",F={"image/png":o.RGBAFormat,"image/jpeg":o.RGBFormat};function H(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function D(e,t,n){for(var o in n.extensions)void 0===e[o]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[o]=n.extensions[o])}function U(e,t){void 0!==t.extras&&("object"===r(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function G(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,o=t.weights.length;n<o;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(n=0,o=r.length;n<o;n++)e.morphTargetDictionary[r[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function N(e){for(var t="",n=Object.keys(e).sort(),o=0,r=n.length;o<r;o++)t+=n[o]+":"+e[n[o]]+";";return t}function B(e,n,r){this.json=e||{},this.extensions=n||{},this.options=r||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new o.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new o.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function z(e,t,n){var r=t.attributes,a=[];function i(t,o){return n.getDependency("accessor",t).then((function(t){e.setAttribute(o,t)}))}for(var s in r){var l=j[s]||s.toLowerCase();l in e.attributes||a.push(i(r[s],l))}if(void 0!==t.indices&&!e.index){var c=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(c)}return U(e,t),function(e,t,n){var r=t.attributes,a=new o.Box3;if(void 0!==r.POSITION){var i=(m=n.json.accessors[r.POSITION]).min,s=m.max;if(void 0!==i&&void 0!==s){a.set(new o.Vector3(i[0],i[1],i[2]),new o.Vector3(s[0],s[1],s[2]));var l=t.targets;if(void 0!==l){for(var c=new o.Vector3,u=new o.Vector3,d=0,h=l.length;d<h;d++){var m,f=l[d];if(void 0!==f.POSITION)i=(m=n.json.accessors[f.POSITION]).min,s=m.max,void 0!==i&&void 0!==s?(u.setX(Math.max(Math.abs(i[0]),Math.abs(s[0]))),u.setY(Math.max(Math.abs(i[1]),Math.abs(s[1]))),u.setZ(Math.max(Math.abs(i[2]),Math.abs(s[2]))),c.max(u)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}a.expandByVector(c)}e.boundingBox=a;var p=new o.Sphere;a.getCenter(p.center),p.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=p}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var o=!1,r=!1,a=0,i=t.length;a<i&&(void 0!==(c=t[a]).POSITION&&(o=!0),void 0!==c.NORMAL&&(r=!0),!o||!r);a++);if(!o&&!r)return Promise.resolve(e);var s=[],l=[];for(a=0,i=t.length;a<i;a++){var c=t[a];if(o){var u=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;s.push(u)}r&&(u=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal,l.push(u))}return Promise.all([Promise.all(s),Promise.all(l)]).then((function(t){var n=t[0],a=t[1];return o&&(e.morphAttributes.position=n),r&&(e.morphAttributes.normal=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function V(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var s=n.count-2,l=[];if(t===o.TriangleFanDrawMode)for(i=1;i<=s;i++)l.push(n.getX(0)),l.push(n.getX(i)),l.push(n.getX(i+1));else for(i=0;i<s;i++)i%2==0?(l.push(n.getX(i)),l.push(n.getX(i+1)),l.push(n.getX(i+2))):(l.push(n.getX(i+2)),l.push(n.getX(i+1)),l.push(n.getX(i)));l.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(l),c}return B.prototype.parse=function(e,t){var n=this,o=this.json,r=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var a={scene:t[0][o.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:o.asset,parser:n,userData:{}};D(r,a,o),U(a,o),e(a)})).catch(t)},B.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],o={},r={},a=0,i=t.length;a<i;a++)for(var s=t[a].joints,l=0,c=s.length;l<c;l++)e[s[l]].isBone=!0;for(var u=0,d=e.length;u<d;u++){var h=e[u];void 0!==h.mesh&&(void 0===o[h.mesh]&&(o[h.mesh]=r[h.mesh]=0),o[h.mesh]++,void 0!==h.skin&&(n[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=o,this.json.meshUses=r},B.prototype.getDependency=function(e,t){var o=e+":"+t,r=this.cache.get(o);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this.loadMesh(t);break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this.loadBufferView(t);break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this.loadMaterial(t);break;case"texture":r=this.loadTexture(t);break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;case"light":r=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(o,r)}return r},B.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,o=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(o.map((function(t,o){return n.getDependency(e,o)}))),this.cache.add(e,t)}return t},B.prototype.loadBuffer=function(e){var t=this.json.buffers[e],o=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,n){o.load(H(t.uri,r.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},B.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,o=t.byteOffset||0;return e.slice(o,o+n)}))},B.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,i,s=e[0],l=A[r.type],c=x[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,h=r.byteOffset||0,m=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(m&&m!==d){var p=Math.floor(h/m),g="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,v=t.cache.get(g);v||(a=new c(s,p*m,r.count*m/u),v=new o.InterleavedBuffer(a,m/u),t.cache.add(g,v)),i=new o.InterleavedBufferAttribute(v,l,h%m/u,f)}else a=null===s?new c(r.count*l):new c(s,h,r.count*l),i=new o.BufferAttribute(a,l,f);if(void 0!==r.sparse){var b=A.SCALAR,y=x[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,L=r.sparse.values.byteOffset||0,E=new y(e[1],w,r.sparse.count*b),T=new c(e[2],L,r.sparse.count*l);null!==s&&(i=new o.BufferAttribute(i.array.slice(),i.itemSize,i.normalized));for(var S=0,M=E.length;S<M;S++){var R=E[S];if(i.setX(R,T[S*l]),l>=2&&i.setY(R,T[S*l+1]),l>=3&&i.setZ(R,T[S*l+2]),l>=4&&i.setW(R,T[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))},B.prototype.loadTexture=function(e){var t,r=this,a=this.json,i=this.options,s=this.textureLoader,l=self.URL||self.webkitURL,c=a.textures[e],u=c.extensions||{},d=(t=u[n.MSFT_TEXTURE_DDS]?a.images[u[n.MSFT_TEXTURE_DDS].source]:a.images[c.source]).uri,h=!1;return void 0!==t.bufferView&&(d=r.getDependency("bufferView",t.bufferView).then((function(e){h=!0;var n=new Blob([e],{type:t.mimeType});return d=l.createObjectURL(n)}))),Promise.resolve(d).then((function(e){var t=i.manager.getHandler(e);return t||(t=u[n.MSFT_TEXTURE_DDS]?r.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise((function(n,o){t.load(H(e,i.path),n,void 0,o)}))})).then((function(e){!0===h&&l.revokeObjectURL(d),e.flipY=!1,c.name&&(e.name=c.name),t.mimeType in F&&(e.format=F[t.mimeType]);var n=(a.samplers||{})[c.sampler]||{};return e.magFilter=R[n.magFilter]||o.LinearFilter,e.minFilter=R[n.minFilter]||o.LinearMipmapLinearFilter,e.wrapS=C[n.wrapS]||o.RepeatWrapping,e.wrapT=C[n.wrapT]||o.RepeatWrapping,e}))},B.prototype.assignTexture=function(e,t,r){var a=this;return this.getDependency("texture",r.index).then((function(i){if(!i.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":i.format=o.RGBFormat}if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),a.extensions[n.KHR_TEXTURE_TRANSFORM]){var s=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;s&&(i=a.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(i,s))}e[t]=i}))},B.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,i=void 0===t.attributes.normal,s=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,c=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+n.uuid,d=this.cache.get(u);d||(d=new o.PointsMaterial,o.Material.prototype.copy.call(d,n),d.color.copy(n.color),d.map=n.map,d.sizeAttenuation=!1,this.cache.add(u,d)),n=d}else if(e.isLine){u="LineBasicMaterial:"+n.uuid;var h=this.cache.get(u);h||(h=new o.LineBasicMaterial,o.Material.prototype.copy.call(h,n),h.color.copy(n.color),this.cache.add(u,h)),n=h}if(r||a||i||s||l){u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),s&&(u+="skinning:"),r&&(u+="vertex-tangents:"),a&&(u+="vertex-colors:"),i&&(u+="flat-shading:"),l&&(u+="morph-targets:"),c&&(u+="morph-normals:");var m=this.cache.get(u);m||(m=n.clone(),s&&(m.skinning=!0),r&&(m.vertexTangents=!0),a&&(m.vertexColors=!0),i&&(m.flatShading=!0),l&&(m.morphTargets=!0),c&&(m.morphNormals=!0),this.cache.add(u,m)),n=m}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),n.normalScale&&!r&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!r&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),e.material=n},B.prototype.loadMaterial=function(e){var t,r=this,a=this.json,i=this.extensions,s=a.materials[e],l={},c=s.extensions||{},u=[];if(c[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var d=i[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=d.getMaterialType(),u.push(d.extendParams(l,s,r))}else if(c[n.KHR_MATERIALS_UNLIT]){var h=i[n.KHR_MATERIALS_UNLIT];t=h.getMaterialType(),u.push(h.extendParams(l,s,r))}else{t=o.MeshStandardMaterial;var m=s.pbrMetallicRoughness||{};if(l.color=new o.Color(1,1,1),l.opacity=1,Array.isArray(m.baseColorFactor)){var f=m.baseColorFactor;l.color.fromArray(f),l.opacity=f[3]}void 0!==m.baseColorTexture&&u.push(r.assignTexture(l,"map",m.baseColorTexture)),l.metalness=void 0!==m.metallicFactor?m.metallicFactor:1,l.roughness=void 0!==m.roughnessFactor?m.roughnessFactor:1,void 0!==m.metallicRoughnessTexture&&(u.push(r.assignTexture(l,"metalnessMap",m.metallicRoughnessTexture)),u.push(r.assignTexture(l,"roughnessMap",m.metallicRoughnessTexture)))}!0===s.doubleSided&&(l.side=o.DoubleSide);var g=s.alphaMode||O;if(g===I?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,g===k&&(l.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&t!==o.MeshBasicMaterial&&(u.push(r.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new o.Vector2(1,1),void 0!==s.normalTexture.scale&&l.normalScale.set(s.normalTexture.scale,s.normalTexture.scale)),void 0!==s.occlusionTexture&&t!==o.MeshBasicMaterial&&(u.push(r.assignTexture(l,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(l.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&t!==o.MeshBasicMaterial&&(l.emissive=(new o.Color).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&t!==o.MeshBasicMaterial&&u.push(r.assignTexture(l,"emissiveMap",s.emissiveTexture)),c[n.KHR_MATERIALS_CLEARCOAT]){var v=i[n.KHR_MATERIALS_CLEARCOAT];t=v.getMaterialType(),u.push(v.extendParams(l,{extensions:c},r))}return Promise.all(u).then((function(){var e;return e=t===p?i[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):new t(l),s.name&&(e.name=s.name),e.map&&(e.map.encoding=o.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=o.sRGBEncoding),U(e,s),s.extensions&&D(i,e,s),e}))},B.prototype.loadGeometries=function(e){var t=this,r=this.extensions,a=this.primitiveCache;function i(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return z(n,e,t)}))}for(var s,l,c=[],u=0,d=e.length;u<d;u++){var h,m=e[u],f=(l=void 0,(l=(s=m).extensions&&s.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+N(l.attributes):s.indices+":"+N(s.attributes)+":"+s.mode),p=a[f];if(p)c.push(p.promise);else h=m.extensions&&m.extensions[n.KHR_DRACO_MESH_COMPRESSION]?i(m):z(new o.BufferGeometry,m,t),a[f]={primitive:m,promise:h},c.push(h)}return Promise.all(c)},B.prototype.loadMesh=function(e){for(var t,n=this,r=this.json.meshes[e],a=r.primitives,i=[],s=0,l=a.length;s<l;s++){var c=void 0===a[s].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new o.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:o.FrontSide})),t.DefaultMaterial):this.getDependency("material",a[s].material);i.push(c)}return i.push(n.loadGeometries(a)),Promise.all(i).then((function(t){for(var i=t.slice(0,t.length-1),s=t[t.length-1],l=[],c=0,u=s.length;c<u;c++){var d,h=s[c],m=a[c],f=i[c];if(m.mode===T||m.mode===S||m.mode===M||void 0===m.mode)!0!==(d=!0===r.isSkinnedMesh?new o.SkinnedMesh(h,f):new o.Mesh(h,f)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),m.mode===S?d.geometry=V(d.geometry,o.TriangleStripDrawMode):m.mode===M&&(d.geometry=V(d.geometry,o.TriangleFanDrawMode));else if(m.mode===w)d=new o.LineSegments(h,f);else if(m.mode===E)d=new o.Line(h,f);else if(m.mode===L)d=new o.LineLoop(h,f);else{if(m.mode!==y)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);d=new o.Points(h,f)}Object.keys(d.geometry.morphAttributes).length>0&&G(d,r),d.name=r.name||"mesh_"+e,s.length>1&&(d.name+="_"+c),U(d,r),n.assignFinalMaterial(d),l.push(d)}if(1===l.length)return l[0];var p=new o.Group;for(c=0,u=l.length;c<u;c++)p.add(l[c]);return p}))},B.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new o.PerspectiveCamera(o.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new o.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=n.name),U(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},B.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},B.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],i=[],s=[],l=0,c=t.channels.length;l<c;l++){var u=t.channels[l],d=t.samplers[u.sampler],h=u.target,m=void 0!==h.node?h.node:h.id,f=void 0!==t.parameters?t.parameters[d.input]:d.input,p=void 0!==t.parameters?t.parameters[d.output]:d.output;n.push(this.getDependency("node",m)),r.push(this.getDependency("accessor",f)),a.push(this.getDependency("accessor",p)),i.push(d),s.push(h)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(i),Promise.all(s)]).then((function(n){for(var r=n[0],a=n[1],i=n[2],s=n[3],l=n[4],c=[],u=0,d=r.length;u<d;u++){var h=r[u],m=a[u],f=i[u],p=s[u],g=l[u];if(void 0!==h){var v;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,P[g.path]){case P.weights:v=o.NumberKeyframeTrack;break;case P.rotation:v=o.QuaternionKeyframeTrack;break;case P.position:case P.scale:default:v=o.VectorKeyframeTrack}var y=h.name?h.name:h.uuid,w=void 0!==p.interpolation?_[p.interpolation]:o.InterpolateLinear,L=[];P[g.path]===P.weights?h.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&L.push(e.name?e.name:e.uuid)})):L.push(y);var E=f.array;if(f.normalized){var T;if(E.constructor===Int8Array)T=1/127;else if(E.constructor===Uint8Array)T=1/255;else if(E.constructor==Int16Array)T=1/32767;else{if(E.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");T=1/65535}for(var S=new Float32Array(E.length),M=0,x=E.length;M<x;M++)S[M]=E[M]*T;E=S}for(M=0,x=L.length;M<x;M++){var R=new v(L[M]+"."+P[g.path],m.array,E,w);"CUBICSPLINE"===p.interpolation&&(R.createInterpolant=function(e){return new b(this.times,this.values,this.getValueSize()/3,e)},R.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(R)}}}var C=t.name?t.name:"animation_"+e;return new o.AnimationClip(C,void 0,c)}))},B.prototype.loadNode=function(e){var t,r=this.json,a=this.extensions,i=this,s=r.meshReferences,l=r.meshUses,c=r.nodes[e];return(t=[],void 0!==c.mesh&&t.push(i.getDependency("mesh",c.mesh).then((function(e){var t;if(s[c.mesh]>1){var n=l[c.mesh]++;(t=e.clone()).name+="_instance_"+n}else t=e;return void 0!==c.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=c.weights.length;t<n;t++)e.morphTargetInfluences[t]=c.weights[t]})),t}))),void 0!==c.camera&&t.push(i.getDependency("camera",c.camera)),c.extensions&&c.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==c.extensions[n.KHR_LIGHTS_PUNCTUAL].light&&t.push(i.getDependency("light",c.extensions[n.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===c.isBone?new o.Bone:e.length>1?new o.Group:1===e.length?e[0]:new o.Object3D)!==e[0])for(var n=0,r=e.length;n<r;n++)t.add(e[n]);if(c.name&&(t.userData.name=c.name,t.name=o.PropertyBinding.sanitizeNodeName(c.name)),U(t,c),c.extensions&&D(a,t,c),void 0!==c.matrix){var i=new o.Matrix4;i.fromArray(c.matrix),t.applyMatrix4(i)}else void 0!==c.translation&&t.position.fromArray(c.translation),void 0!==c.rotation&&t.quaternion.fromArray(c.rotation),void 0!==c.scale&&t.scale.fromArray(c.scale);return t}))},B.prototype.loadScene=function(){function e(t,n,r,a){var i=r.nodes[t];return a.getDependency("node",t).then((function(e){return void 0===i.skin?e:a.getDependency("skin",i.skin).then((function(e){for(var n=[],o=0,r=(t=e).joints.length;o<r;o++)n.push(a.getDependency("node",t.joints[o]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],a=[],i=0,s=n.length;i<s;i++){var l=n[i];if(l){r.push(l);var c=new o.Matrix4;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*i),a.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new o.Skeleton(r,a),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var o=[];if(i.children)for(var s=i.children,l=0,c=s.length;l<c;l++){var u=s[l];o.push(e(u,t,r,a))}return Promise.all(o)}))}return function(t){var n=this.json,r=this.extensions,a=this.json.scenes[t],i=new o.Group;a.name&&(i.name=a.name),U(i,a),a.extensions&&D(r,i,a);for(var s=a.nodes||[],l=[],c=0,u=s.length;c<u;c++)l.push(e(s[c],i,n,this));return Promise.all(l).then((function(){return i}))}}(),e}()},"./src/js/app/managers/datGUI.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./src/js/data/config.js");function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gui=new dat.GUI,this.camera=t.camera.threeCamera,this.controls=t.controls.threeControls,this.light=t.light,this.scene=t.scene,this.model=null,this.meshHelper=null}var t,n,a;return t=e,(n=[{key:"load",value:function(e,t){var n=this;this.model=e.model,this.meshHelper=e.meshHelper;var a=this.gui.addFolder("Camera"),i=a.add(o.default.camera,"fov",0,180).name("Camera FOV");i.onChange((function(e){n.controls.enableRotate=!1,n.camera.fov=e})),i.onFinishChange((function(){n.camera.updateProjectionMatrix(),n.controls.enableRotate=!0}));var s=a.add(o.default.camera,"aspect",0,4).name("Camera Aspect");s.onChange((function(e){n.controls.enableRotate=!1,n.camera.aspect=e})),s.onFinishChange((function(){n.camera.updateProjectionMatrix(),n.controls.enableRotate=!0})),a.addColor(o.default.fog,"color").name("Fog Color").onChange((function(e){n.scene.fog.color.setHex(e)}));var l=a.add(o.default.fog,"near",0,.01).name("Fog Near");l.onChange((function(e){n.controls.enableRotate=!1,n.scene.fog.density=e})),l.onFinishChange((function(){n.controls.enableRotate=!0}));var c=this.gui.addFolder("Controls");c.add(o.default.controls,"autoRotate").name("Auto Rotate").onChange((function(e){n.controls.autoRotate=e}));var u=c.add(o.default.controls,"autoRotateSpeed",-1,1).name("Rotation Speed");u.onChange((function(e){n.controls.enableRotate=!1,n.controls.autoRotateSpeed=e})),u.onFinishChange((function(){n.controls.enableRotate=!0})),this.gui.addFolder("Model").add(o.default.model,"type",r(o.default.model.initialTypes)).name("Select Model").onChange((function(e){e&&(o.default.mesh.enableHelper&&n.meshHelper.disable(),o.default.model.selected=o.default.model.initialTypes.indexOf(e),n.unload(),n.model.unload(),n.model.load(e))}));var d=this.gui.addFolder("Mesh");d.add(o.default.mesh,"enableHelper",!0).name("Enable Helpers").onChange((function(e){e?n.meshHelper.enable():n.meshHelper.disable()})),d.add(o.default.mesh,"translucent",!0).name("Translucent").onChange((function(e){e?(t.material.transparent=!0,t.material.opacity=.5):t.material.opacity=1})),d.add(o.default.mesh,"wireframe",!0).name("Wireframe").onChange((function(e){t.material.wireframe=e}));var h=this.gui.addFolder("Ambient Light");h.add(o.default.ambientLight,"enabled").name("Enabled").onChange((function(e){n.light.ambientLight.visible=e})),h.addColor(o.default.ambientLight,"color").name("Color").onChange((function(e){n.light.ambientLight.color.setHex(e)}));var m=this.gui.addFolder("Directional Light");m.add(o.default.directionalLight,"enabled").name("Enabled").onChange((function(e){n.light.directionalLight.visible=e})),m.addColor(o.default.directionalLight,"color").name("Color").onChange((function(e){n.light.directionalLight.color.setHex(e)}));var f=m.add(o.default.directionalLight,"intensity",0,2).name("Intensity");f.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.intensity=e})),f.onFinishChange((function(){n.controls.enableRotate=!0}));var p=m.add(o.default.directionalLight,"x",-1e3,1e3).name("Position X");p.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.position.x=e})),p.onFinishChange((function(){n.controls.enableRotate=!0}));var g=m.add(o.default.directionalLight,"y",-1e3,1e3).name("Position Y");g.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.position.y=e})),g.onFinishChange((function(){n.controls.enableRotate=!0}));var v=m.add(o.default.directionalLight,"z",-1e3,1e3).name("Position Z");v.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.position.z=e})),v.onFinishChange((function(){n.controls.enableRotate=!0}));var b=this.gui.addFolder("Shadow Map");b.add(o.default.shadow,"enabled").name("Enabled").onChange((function(e){n.light.directionalLight.castShadow=e})),b.add(o.default.shadow,"helperEnabled").name("Helper Enabled").onChange((function(e){n.light.directionalLightHelper.visible=e}));var y=b.add(o.default.shadow,"near",0,400).name("Near");y.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.near=e})),y.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var w=b.add(o.default.shadow,"far",0,1200).name("Far");w.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.far=e})),w.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var L=b.add(o.default.shadow,"top",-400,400).name("Top");L.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.top=e})),L.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var E=b.add(o.default.shadow,"right",-400,400).name("Right");E.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.right=e})),E.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var T=b.add(o.default.shadow,"bottom",-400,400).name("Bottom");T.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.bottom=e})),T.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var S=b.add(o.default.shadow,"left",-400,400).name("Left");S.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.left=e})),S.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var M=b.add(o.default.shadow,"bias",-1e-5,1).name("Bias");M.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.bias=e})),M.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var x=this.gui.addFolder("Point Light");x.add(o.default.pointLight,"enabled").name("Enabled").onChange((function(e){n.light.pointLight.visible=e})),x.addColor(o.default.pointLight,"color").name("Color").onChange((function(e){n.light.pointLight.color.setHex(e)}));var R=x.add(o.default.pointLight,"intensity",0,2).name("Intensity");R.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.intensity=e})),R.onFinishChange((function(){n.controls.enableRotate=!0}));var C=x.add(o.default.pointLight,"distance",0,1e3).name("Distance");C.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.distance=e})),C.onFinishChange((function(){n.controls.enableRotate=!0}));var A=x.add(o.default.pointLight,"x",-1e3,1e3).name("Position X");A.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.position.x=e})),A.onFinishChange((function(){n.controls.enableRotate=!0}));var j=x.add(o.default.pointLight,"y",-1e3,1e3).name("Position Y");j.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.position.y=e})),j.onFinishChange((function(){n.controls.enableRotate=!0}));var P=x.add(o.default.pointLight,"z",-1e3,1e3).name("Position Z");P.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.position.z=e})),P.onFinishChange((function(){n.controls.enableRotate=!0}));var _=this.gui.addFolder("Hemi Light");_.add(o.default.hemiLight,"enabled").name("Enabled").onChange((function(e){n.light.hemiLight.visible=e})),_.addColor(o.default.hemiLight,"color").name("Color").onChange((function(e){n.light.hemiLight.color.setHex(e)})),_.addColor(o.default.hemiLight,"groundColor").name("ground Color").onChange((function(e){n.light.hemiLight.groundColor.setHex(e)}));var O=_.add(o.default.hemiLight,"intensity",0,2).name("Intensity");O.onChange((function(e){n.controls.enableRotate=!1,n.light.hemiLight.intensity=e})),O.onFinishChange((function(){n.controls.enableRotate=!0}));var k=_.add(o.default.hemiLight,"x",-1e3,1e3).name("Position X");k.onChange((function(e){n.controls.enableRotate=!1,n.light.hemiLight.position.x=e})),k.onFinishChange((function(){n.controls.enableRotate=!0}));var I=_.add(o.default.hemiLight,"y",-500,1e3).name("Position Y");I.onChange((function(e){n.controls.enableRotate=!1,n.light.hemiLight.position.y=e})),I.onFinishChange((function(){n.controls.enableRotate=!0}));var F=_.add(o.default.hemiLight,"z",-1e3,1e3).name("Position Z");F.onChange((function(e){n.controls.enableRotate=!1,n.light.hemiLight.position.z=e})),F.onFinishChange((function(){n.controls.enableRotate=!0}))}},{key:"unload",value:function(){this.gui.destroy(),this.gui=new dat.GUI}}])&&i(t.prototype,n),a&&i(t,a),e}()},"./src/js/app/managers/interaction.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./src/js/utils/keyboard.js"),r=n("./src/js/utils/helpers.js"),a=n("./src/js/data/config.js");function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(t,n,a,i){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.scene=n,this.camera=a,this.controls=i,this.timeout=null,this.keyboard=new o.default,this.renderer.domElement.addEventListener("mousemove",(function(e){return r.default.throttle(s.onMouseMove(e),250)}),!1),this.renderer.domElement.addEventListener("mouseleave",(function(e){return s.onMouseLeave(e)}),!1),this.renderer.domElement.addEventListener("mouseover",(function(e){return s.onMouseOver(e)}),!1),this.keyboard.domElement.addEventListener("keydown",(function(e){e.repeat||s.keyboard.eventMatches(e,"escape")&&console.log("Escape pressed")}))}var t,n,s;return t=e,(n=[{key:"onMouseOver",value:function(e){e.preventDefault(),a.default.isMouseOver=!0}},{key:"onMouseLeave",value:function(e){e.preventDefault(),a.default.isMouseOver=!1}},{key:"onMouseMove",value:function(e){e.preventDefault(),clearTimeout(this.timeout),this.timeout=setTimeout((function(){a.default.isMouseMoving=!1}),200),a.default.isMouseMoving=!0}}])&&i(t.prototype,n),s&&i(t,s),e}()},"./src/js/app/model/model.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/app/components/material.js"),a=n("./src/js/utils/helpers.js"),i=n("./src/js/utils/bufferGeometryUtils.js"),s=n("./src/js/app/loaders/GLTFLoader.js"),l=n("./src/js/data/config.js");function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.textures=o,this.manager=n,this.obj=null,this.ref=null}var t,n,u;return t=e,(n=[{key:"load",value:function(e){var t=this;switch(e){case"gltf":new s.GLTFLoader(this.manager).load(l.default.models[l.default.model.selected].path,(function(e){var n,r=e.scene;l.default.shadow.enabled&&r.traverse((function(e){(e.isMesh||e.isLight)&&(e.castShadow=!0),e.isMesh&&(e.material.wireframe=l.default.mesh.wireframe,n=e)})),t.obj=n,i.BufferGeometryUtils.computeTangents(n.geometry);var a=new o.Group;a.scale.multiplyScalar(.25),t.scene.add(a),t.ref=a,a.updateMatrixWorld(!0),a.add(n),t.scene.add(r)}),a.default.logProgress(),a.default.logError());break;case"object":new o.ObjectLoader(this.manager).load(l.default.models[l.default.model.selected].path,(function(e){e.traverse((function(e){if(e instanceof o.Mesh){var n=new r.default(16777215).standard;n.map=t.textures.UV,e.material=n,l.default.shadow.enabled&&(e.receiveShadow=!0,e.castShadow=!0)}})),t.obj=e,t.ref=e,e.scale.multiplyScalar(l.default.models[l.default.model.selected].scale),t.scene.add(e)}),a.default.logProgress(),a.default.logError())}}},{key:"unload",value:function(){this.scene.remove(this.ref)}}])&&c(t.prototype,n),u&&c(t,u),e}()},"./src/js/app/model/texture.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n("./node_modules/three/build/three.module.js"),r=n("./node_modules/es6-promise/dist/es6-promise.js"),a=n("./src/js/utils/helpers.js"),i=n("./src/js/data/config.js");function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textures={}}var t,n,l;return t=e,(n=[{key:"load",value:function(){var e=this,t=new o.TextureLoader,n=i.default.maxAnisotropy,s=i.default.texture.imageFiles,l=[];return t.setPath(i.default.texture.path),s.forEach((function(e){l.push(new r.Promise((function(r,i){t.load(e.image,(function(t){t.anisotropy=n;var a={};a[e.name]=t,a[e.name]instanceof o.Texture&&r(a)}),a.default.logProgress(),(function(t){return i(new Error(t+"An error occurred loading while loading "+e.image))}))})))})),r.Promise.all(l).then((function(t){for(var n=0;n<t.length;n++)e.textures[Object.keys(t[n])[0]]=t[n][Object.keys(t[n])[0]]}),(function(e){return console.log(e)}))}}])&&s(t.prototype,n),l&&s(t,l),e}()},"./src/js/data/config.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:n("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,model:{selected:0,initialTypes:["gltf","object"],type:"gltf"},models:[{path:"./assets/models/duck.gltf",scale:20,type:"gltf"},{path:"./assets/models/Teapot.json",scale:20,type:"object"}],texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!0,wireframe:!1,translucent:!1,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:40,near:2,far:1e3,aspect:1,posX:0,posY:30,posZ:40},controls:{autoRotate:!1,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:200,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/utils/bufferGeometryUtils.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BufferGeometryUtils:()=>r});var o=n("./node_modules/three/build/three.module.js"),r={computeTangents:function(e){var t=e.index,n=e.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var r=t.array,a=n.position.array,i=n.normal.array,s=n.uv.array,l=a.length/3;void 0===n.tangent&&e.setAttribute("tangent",new o.BufferAttribute(new Float32Array(4*l),4));for(var c=n.tangent.array,u=[],d=[],h=0;h<l;h++)u[h]=new o.Vector3,d[h]=new o.Vector3;var m=new o.Vector3,f=new o.Vector3,p=new o.Vector3,g=new o.Vector2,v=new o.Vector2,b=new o.Vector2,y=new o.Vector3,w=new o.Vector3,L=e.groups;0===L.length&&(L=[{start:0,count:r.length}]);h=0;for(var E=L.length;h<E;++h)for(var T=O=(_=L[h]).start,S=O+_.count;T<S;T+=3)k(r[T+0],r[T+1],r[T+2]);var M,x,R,C=new o.Vector3,A=new o.Vector3,j=new o.Vector3,P=new o.Vector3;for(h=0,E=L.length;h<E;++h){var _,O;for(T=O=(_=L[h]).start,S=O+_.count;T<S;T+=3)I(r[T+0]),I(r[T+1]),I(r[T+2])}}else console.error("THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function k(e,t,n){m.fromArray(a,3*e),f.fromArray(a,3*t),p.fromArray(a,3*n),g.fromArray(s,2*e),v.fromArray(s,2*t),b.fromArray(s,2*n),f.sub(m),p.sub(m),v.sub(g),b.sub(g);var o=1/(v.x*b.y-b.x*v.y);isFinite(o)&&(y.copy(f).multiplyScalar(b.y).addScaledVector(p,-v.y).multiplyScalar(o),w.copy(p).multiplyScalar(v.x).addScaledVector(f,-b.x).multiplyScalar(o),u[e].add(y),u[t].add(y),u[n].add(y),d[e].add(w),d[t].add(w),d[n].add(w))}function I(e){j.fromArray(i,3*e),P.copy(j),x=u[e],C.copy(x),C.sub(j.multiplyScalar(j.dot(x))).normalize(),A.crossVectors(P,x),R=A.dot(d[e]),M=R<0?-1:1,c[4*e]=C.x,c[4*e+1]=C.y,c[4*e+2]=C.z,c[4*e+3]=M}},mergeBufferGeometries:function(e,t){for(var n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),i={},s={},l=e[0].morphTargetsRelative,c=new o.BufferGeometry,u=0,d=0;d<e.length;++d){var h=e[d],m=0;if(n!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var f in h.attributes){if(!r.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;void 0===i[f]&&(i[f]=[]),i[f].push(h.attributes[f]),m++}if(m!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(l!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var f in h.morphAttributes){if(!a.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[f]&&(s[f]=[]),s[f].push(h.morphAttributes[f])}if(c.userData.mergedUserData=c.userData.mergedUserData||[],c.userData.mergedUserData.push(h.userData),t){var p;if(n)p=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;p=h.attributes.position.count}c.addGroup(u,p,d),u+=p}}if(n){var g=0,v=[];for(d=0;d<e.length;++d){for(var b=e[d].index,y=0;y<b.count;++y)v.push(b.getX(y)+g);g+=e[d].attributes.position.count}c.setIndex(v)}for(var f in i){var w=this.mergeBufferAttributes(i[f]);if(!w)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+f+" attribute."),null;c.setAttribute(f,w)}for(var f in s){var L=s[f][0].length;if(0===L)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[f]=[];for(d=0;d<L;++d){var E=[];for(y=0;y<s[f].length;++y)E.push(s[f][y][d]);var T=this.mergeBufferAttributes(E);if(!T)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+f+" morphAttribute."),null;c.morphAttributes[f].push(T)}}return c},mergeBufferAttributes:function(e){for(var t,n,r,a=0,i=0;i<e.length;++i){var s=e[i];if(s.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===r&&(r=s.normalized),r!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;a+=s.array.length}var l=new t(a),c=0;for(i=0;i<e.length;++i)l.set(e[i].array,c),c+=e[i].array.length;return new o.BufferAttribute(l,n,r)},interleaveAttributes:function(e){for(var t,n=0,r=0,a=0,i=e.length;a<i;++a){var s=e[a];if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=s.array.length,r+=s.itemSize}var l=new o.InterleavedBuffer(new t(n),r),c=0,u=[],d=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"],m=0;for(i=e.length;m<i;m++){var f=(s=e[m]).itemSize,p=s.count,g=new o.InterleavedBufferAttribute(l,f,c,s.normalized);u.push(g),c+=f;for(var v=0;v<p;v++)for(var b=0;b<f;b++)g[h[b]](v,s[d[b]](v))}return u},estimateBytesUsed:function(e){var t=0;for(var n in e.attributes){var o=e.getAttribute(n);t+=o.count*o.itemSize*o.array.BYTES_PER_ELEMENT}var r=e.getIndex();return t+=r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),a=e.getAttribute("position"),i=r?r.count:a.count,s=0,l=Object.keys(e.attributes),c={},u={},d=[],h=["getX","getY","getZ","getW"],m=0,f=l.length;m<f;m++){c[w=l[m]]=[],(S=e.morphAttributes[w])&&(u[w]=new Array(S.length).fill().map((function(){return[]})))}var p=Math.log10(1/t),g=Math.pow(10,p);for(m=0;m<i;m++){var v=r?r.getX(m):m,b="",y=0;for(f=l.length;y<f;y++)for(var w=l[y],L=(T=e.getAttribute(w)).itemSize,E=0;E<L;E++)b+="".concat(~~(T[h[E]](v)*g),",");if(b in n)d.push(n[b]);else{for(y=0,f=l.length;y<f;y++){w=l[y];var T=e.getAttribute(w),S=e.morphAttributes[w],M=(L=T.itemSize,c[w]),x=u[w];for(E=0;E<L;E++){var R=h[E];if(M.push(T[R](v)),S)for(var C=0,A=S.length;C<A;C++)x[C].push(S[C][R](v))}}n[b]=s,d.push(s),s++}}var j=e.clone();for(m=0,f=l.length;m<f;m++){w=l[m];var P=e.getAttribute(w),_=new P.array.constructor(c[w]);T=new o.BufferAttribute(_,P.itemSize,P.normalized);if(j.setAttribute(w,T),w in u)for(y=0;y<u[w].length;y++){var O=e.morphAttributes[w][y],k=(_=new O.array.constructor(u[w][y]),new o.BufferAttribute(_,O.itemSize,O.normalized));j.morphAttributes[w][y]=k}}return j.setIndex(d),j},toTrianglesDrawMode:function(e,t){if(t===o.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===o.TriangleFanDrawMode||t===o.TriangleStripDrawMode){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var s=n.count-2,l=[];if(t===o.TriangleFanDrawMode)for(i=1;i<=s;i++)l.push(n.getX(0)),l.push(n.getX(i)),l.push(n.getX(i+1));else for(i=0;i<s;i++)i%2==0?(l.push(n.getX(i)),l.push(n.getX(i+1)),l.push(n.getX(i+2))):(l.push(n.getX(i+2)),l.push(n.getX(i+1)),l.push(n.getX(i)));l.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(l),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}}},"./src/js/utils/detector.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,n,o;t=void 0!==(e=e||{}).parent?e.parent:document.body,n=void 0!==e.id?e.id:"oldie",(o=this.getWebGLErrorMessage()).id=n,t.appendChild(o)}}},"./src/js/utils/helpers.js":(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t),n.d(t,{default:()=>r});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"throttle",value:function(e,t,n){var o,r;return t||(t=250),function(){var a=n||this,i=+new Date,s=arguments;o&&i<o+t?(clearTimeout(r),r=setTimeout((function(){o=i,e.apply(a,s)}),t)):(o=i,e.apply(a,s))}}},{key:"logProgress",value:function(){return function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}}}},{key:"logError",value:function(){return function(e){console.error(e)}}},{key:"handleColorChange",value:function(e){return function(t){"string"==typeof t&&(t=t.replace("#","0x")),e.setHex(t)}}},{key:"update",value:function(e){this.needsUpdate(e.material,e.geometry)}},{key:"needsUpdate",value:function(e,t){return function(){e.shading=+e.shading,e.vertexColors=+e.vertexColors,e.side=+e.side,e.needsUpdate=!0,t.verticesNeedUpdate=!0,t.normalsNeedUpdate=!0,t.colorsNeedUpdate=!0}}},{key:"updateTexture",value:function(e,t,n){return function(o){e[t]=n[o],e.needsUpdate=!0}}}],(n=null)&&o(t.prototype,n),r&&o(t,r),e}()},"./src/js/utils/keyboard.js":(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t),n.d(t,{default:()=>a});var r={left:37,up:38,right:39,down:40,space:32,tab:9,escape:27},a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domElement=t||document,this.keyCodes={},this.domElement.addEventListener("keydown",(function(e){return n.onKeyChange(e)}),!1),this.domElement.addEventListener("keyup",(function(e){return n.onKeyChange(e)}),!1),window.addEventListener("blur",(function(){return n.onBlur}),!1)}var t,n,a;return t=e,(n=[{key:"destroy",value:function(){var e=this;this.domElement.removeEventListener("keydown",(function(t){return e.onKeyChange(t)}),!1),this.domElement.removeEventListener("keyup",(function(t){return e.onKeyChange(t)}),!1),window.removeEventListener("blur",(function(){return e.onBlur}),!1)}},{key:"onBlur",value:function(){for(var e in this.keyCodes)this.keyCodes[e]=!1}},{key:"onKeyChange",value:function(e){var t=e.keyCode;this.keyCodes[t]="keydown"===e.type}},{key:"pressed",value:function(e){for(var t=e.split("+"),n=0;n<t.length;n++){var o=t[n],a=!1;if(a=-1!=Object.keys(r).indexOf(o)?this.keyCodes[r[o]]:this.keyCodes[o.toUpperCase().charCodeAt(0)],!a)return!1}return!0}},{key:"eventMatches",value:function(e,t){for(var n=r,o=Object.keys(n),a=t.split("+"),i=0;i<a.length;i++){var s=a[i],l=!1;if("shift"===s?l=!!e.shiftKey:"ctrl"===s?l=!!e.ctrlKey:"alt"===s?l=!!e.altKey:"meta"===s?l=!!e.metaKey:-1!==o.indexOf(s)?l=e.keyCode===n[s]:e.keyCode===s.toUpperCase().charCodeAt(0)&&(l=!0),!l)return!1}return!0}}])&&o(t.prototype,n),a&&o(t,a),e}()},"./src/js/utils/orbitControls.js":e=>{e.exports=function(e){var t=e.MOUSE;function n(t){this.object=t,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25;var n,o,r,a,i,s,l,c,u=this,d=1e-6,h=0,m=0,f=1,p=new e.Vector3,g=!1;this.getPolarAngle=function(){return o},this.getAzimuthalAngle=function(){return n},this.rotateLeft=function(e){m-=e},this.rotateUp=function(e){h-=e},this.panLeft=(r=new e.Vector3,function(e){var t=this.object.matrix.elements;r.set(t[0],t[1],t[2]),r.multiplyScalar(-e),p.add(r)}),this.panUp=function(){var t=new e.Vector3;return function(e){var n=this.object.matrix.elements;t.set(n[4],n[5],n[6]),t.multiplyScalar(e),p.add(t)}}(),this.pan=function(t,n,o,r){if(u.object instanceof e.PerspectiveCamera){var a=u.object.position.clone().sub(u.target).length();a*=Math.tan(u.object.fov/2*Math.PI/180),u.panLeft(2*t*a/r),u.panUp(2*n*a/r)}else u.object instanceof e.OrthographicCamera?(u.panLeft(t*(u.object.right-u.object.left)/o),u.panUp(n*(u.object.top-u.object.bottom)/r)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){u.object instanceof e.PerspectiveCamera?f/=t:u.object instanceof e.OrthographicCamera?(u.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),u.object.updateProjectionMatrix(),g=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(t){u.object instanceof e.PerspectiveCamera?f*=t:u.object instanceof e.OrthographicCamera?(u.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),u.object.updateProjectionMatrix(),g=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=(a=new e.Vector3,i=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),s=i.clone().inverse(),l=new e.Vector3,c=new e.Quaternion,function(){var e=this.object.position;a.copy(e).sub(this.target),a.applyQuaternion(i),n=Math.atan2(a.x,a.z),o=Math.atan2(Math.sqrt(a.x*a.x+a.z*a.z),a.y),n+=m,o+=h,n=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,n)),o=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o)),o=Math.max(d,Math.min(Math.PI-d,o));var t=a.length()*f;return t=Math.max(this.minDistance,Math.min(this.maxDistance,t)),this.target.add(p),a.x=t*Math.sin(o)*Math.sin(n),a.y=t*Math.cos(o),a.z=t*Math.sin(o)*Math.cos(n),a.applyQuaternion(s),e.copy(this.target).add(a),this.object.lookAt(this.target),!0===this.enableDamping?(m*=1-this.dampingFactor,h*=1-this.dampingFactor):(m=0,h=0),f=1,p.set(0,0,0),!!(g||l.distanceToSquared(this.object.position)>d||8*(1-c.dot(this.object.quaternion))>d)&&(l.copy(this.object.position),c.copy(this.object.quaternion),g=!1,!0)})}function o(t,o){var r=new n(t);this.domElement=void 0!==o?o:document,Object.defineProperty(this,"constraint",{get:function(){return r}}),this.getPolarAngle=function(){return r.getPolarAngle()},this.getAzimuthalAngle=function(){return r.getAzimuthalAngle()},this.enabled=!0,this.center=this.target,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT};var a=this,i=new e.Vector2,s=new e.Vector2,l=new e.Vector2,c=new e.Vector2,u=new e.Vector2,d=new e.Vector2,h=new e.Vector2,m=new e.Vector2,f=new e.Vector2,p=-1,g=0,v=1,b=2,y=3,w=4,L=5,E=p;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var T={type:"change"},S={type:"start"},M={type:"end"};function x(e,t){var n=a.domElement===document?a.domElement.body:a.domElement;r.pan(e,t,n.clientWidth,n.clientHeight)}function R(){return Math.pow(.95,a.zoomSpeed)}function C(e){if(!1!==a.enabled){if(e.preventDefault(),e.button===a.mouseButtons.ORBIT){if(!1===a.enableRotate)return;E=g,i.set(e.clientX,e.clientY)}else if(e.button===a.mouseButtons.ZOOM){if(!1===a.enableZoom)return;E=v,h.set(e.clientX,e.clientY)}else if(e.button===a.mouseButtons.PAN){if(!1===a.enablePan)return;E=b,c.set(e.clientX,e.clientY)}E!==p&&(document.addEventListener("mousemove",A,!1),document.addEventListener("mouseup",j,!1),a.dispatchEvent(S))}}function A(e){if(!1!==a.enabled){e.preventDefault();var t=a.domElement===document?a.domElement.body:a.domElement;if(E===g){if(!1===a.enableRotate)return;s.set(e.clientX,e.clientY),l.subVectors(s,i),r.rotateLeft(2*Math.PI*l.x/t.clientWidth*a.rotateSpeed),r.rotateUp(2*Math.PI*l.y/t.clientHeight*a.rotateSpeed),i.copy(s)}else if(E===v){if(!1===a.enableZoom)return;m.set(e.clientX,e.clientY),f.subVectors(m,h),f.y>0?r.dollyIn(R()):f.y<0&&r.dollyOut(R()),h.copy(m)}else if(E===b){if(!1===a.enablePan)return;u.set(e.clientX,e.clientY),d.subVectors(u,c),x(d.x,d.y),c.copy(u)}E!==p&&a.update()}}function j(){!1!==a.enabled&&(document.removeEventListener("mousemove",A,!1),document.removeEventListener("mouseup",j,!1),a.dispatchEvent(M),E=p)}function P(e){if(!1!==a.enabled&&!1!==a.enableZoom&&E===p){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?r.dollyOut(R()):t<0&&r.dollyIn(R()),a.update(),a.dispatchEvent(S),a.dispatchEvent(M)}}function _(e){if(!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan)switch(e.keyCode){case a.keys.UP:x(0,a.keyPanSpeed),a.update();break;case a.keys.BOTTOM:x(0,-a.keyPanSpeed),a.update();break;case a.keys.LEFT:x(a.keyPanSpeed,0),a.update();break;case a.keys.RIGHT:x(-a.keyPanSpeed,0),a.update()}}function O(e){if(!1!==a.enabled){switch(e.touches.length){case 1:if(!1===a.enableRotate)return;E=y,i.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(!1===a.enableZoom)return;E=w;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);h.set(0,o);break;case 3:if(!1===a.enablePan)return;E=L,c.set(e.touches[0].pageX,e.touches[0].pageY);break;default:E=p}E!==p&&a.dispatchEvent(S)}}function k(e){if(!1!==a.enabled){e.preventDefault(),e.stopPropagation();var t=a.domElement===document?a.domElement.body:a.domElement;switch(e.touches.length){case 1:if(!1===a.enableRotate)return;if(E!==y)return;s.set(e.touches[0].pageX,e.touches[0].pageY),l.subVectors(s,i),r.rotateLeft(2*Math.PI*l.x/t.clientWidth*a.rotateSpeed),r.rotateUp(2*Math.PI*l.y/t.clientHeight*a.rotateSpeed),i.copy(s),a.update();break;case 2:if(!1===a.enableZoom)return;if(E!==w)return;var n=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,g=Math.sqrt(n*n+o*o);m.set(0,g),f.subVectors(m,h),f.y>0?r.dollyOut(R()):f.y<0&&r.dollyIn(R()),h.copy(m),a.update();break;case 3:if(!1===a.enablePan)return;if(E!==L)return;u.set(e.touches[0].pageX,e.touches[0].pageY),d.subVectors(u,c),x(d.x,d.y),c.copy(u),a.update();break;default:E=p}}}function I(){!1!==a.enabled&&(a.dispatchEvent(M),E=p)}function F(e){e.preventDefault()}this.update=function(){this.autoRotate&&E===p&&r.rotateLeft(2*Math.PI/60/60*a.autoRotateSpeed),!0===r.update()&&this.dispatchEvent(T)},this.reset=function(){E=p,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(T),this.update()},this.dispose=function(){this.domElement.removeEventListener("contextmenu",F,!1),this.domElement.removeEventListener("mousedown",C,!1),this.domElement.removeEventListener("mousewheel",P,!1),this.domElement.removeEventListener("MozMousePixelScroll",P,!1),this.domElement.removeEventListener("touchstart",O,!1),this.domElement.removeEventListener("touchend",I,!1),this.domElement.removeEventListener("touchmove",k,!1),document.removeEventListener("mousemove",A,!1),document.removeEventListener("mouseup",j,!1),window.removeEventListener("keydown",_,!1)},this.domElement.addEventListener("contextmenu",F,!1),this.domElement.addEventListener("mousedown",C,!1),this.domElement.addEventListener("mousewheel",P,!1),this.domElement.addEventListener("MozMousePixelScroll",P,!1),this.domElement.addEventListener("touchstart",O,!1),this.domElement.addEventListener("touchend",I,!1),this.domElement.addEventListener("touchmove",k,!1),window.addEventListener("keydown",_,!1),this.update()}return t||(t={LEFT:0,MIDDLE:1,RIGHT:2}),o.prototype=Object.create(e.EventDispatcher.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{object:{get:function(){return this.constraint.object}},target:{get:function(){return this.constraint.target},set:function(e){console.warn("THREE.OrbitControls: target is now immutable. Use target.set() instead."),this.constraint.target.copy(e)}},minDistance:{get:function(){return this.constraint.minDistance},set:function(e){this.constraint.minDistance=e}},maxDistance:{get:function(){return this.constraint.maxDistance},set:function(e){this.constraint.maxDistance=e}},minZoom:{get:function(){return this.constraint.minZoom},set:function(e){this.constraint.minZoom=e}},maxZoom:{get:function(){return this.constraint.maxZoom},set:function(e){this.constraint.maxZoom=e}},minPolarAngle:{get:function(){return this.constraint.minPolarAngle},set:function(e){this.constraint.minPolarAngle=e}},maxPolarAngle:{get:function(){return this.constraint.maxPolarAngle},set:function(e){this.constraint.maxPolarAngle=e}},minAzimuthAngle:{get:function(){return this.constraint.minAzimuthAngle},set:function(e){this.constraint.minAzimuthAngle=e}},maxAzimuthAngle:{get:function(){return this.constraint.maxAzimuthAngle},set:function(e){this.constraint.maxAzimuthAngle=e}},enableDamping:{get:function(){return this.constraint.enableDamping},set:function(e){this.constraint.enableDamping=e}},dampingFactor:{get:function(){return this.constraint.dampingFactor},set:function(e){this.constraint.dampingFactor=e}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.constraint.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.constraint.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor=e}}}),o}},"./src/js/webrtc/peerConnection.js":(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t),n.d(t,{default:()=>r});var r=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.peerConnectionConfig={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{urls:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{urls:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}]},this.rtcPeerConnection=this.create(),this.dataChannels=[],this.rtcPeerConnection}var t,n,r;return t=e,(n=[{key:"create",value:function(){try{return location.hostname,this.rtcPeerConnection=new RTCPeerConnection(this.peerConnectionConfig),console.log("Created RTCPeerConnnection: "+this.rtcPeerConnection),this.rtcPeerConnection}catch(e){return console.log("Failed to create PeerConnection, exception: "+e.message),void alert("Cannot create RTCPeerConnection object.")}}},{key:"createDataChannel",value:function(e){if(this.rtcPeerConnection){var t=this.rtcPeerConnection.createDataChannel(e,{ordered:!1,id:room});this.dataChannels.push(t)}}}])&&o(t.prototype,n),r&&o(t,r),e}()},"./src/js/webrtc/videoCall.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{dataChannel:()=>o,isInitiator:()=>r,default:()=>c});var o,r,a=n("./src/js/webrtc/peerConnection.js"),i=n("./src/js/app/game.js");function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var c=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=!1;var t,n,l,c=!1,u=!1,d=prompt("Enter room name:"),h=io.connect();function m(e){console.log("Client sending message: ",e),h.emit("message",d,e)}""!==d&&(h.emit("create or join",d),console.log("Attempted to create or join room",d)),h.on("created",(function(e){console.log("Created room "+e),r=!0})),h.on("full",(function(e){console.log("Room "+e+" is full")})),h.on("join",(function(e){console.log("Another peer made a request to join room "+e),console.log("This peer is the initiator of room "+e+"!"),c=!0})),h.on("joined",(function(e){console.log("joined: "+e),c=!0})),h.on("log",(function(e){console.log.apply(console,e)})),h.on("message",(function(e){if(console.log("Client received message:",e),"got user media"===e)g();else if("offer"===e.type)r||u||g(),l.setRemoteDescription(e).then((function(){return console.log("Sending answer to peer."),void l.createAnswer().then(E,T)}));else if("answer"===e.type&&u)l.setRemoteDescription(new RTCSessionDescription(e));else if("candidate"===e.type&&u){var t=new RTCIceCandidate({sdpMLineIndex:e.label,candidate:e.candidate});l.addIceCandidate(t)}else"bye"===e&&u&&(console.log("Session terminated."),S(),r=!0)}));var f=document.querySelector("#localVideo"),p=document.querySelector("#remoteVideo");navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){console.log("Adding local stream."),t=e,f.srcObject=e,m("got user media"),r&&g()})).catch((function(e){alert("getUserMedia() error: "+e.name)}));var g=function(){if(console.log(">>>>>>> maybeStart() ",u,t,c),!u&&void 0!==t&&c){console.log(">>>>>> creating peer connection"),b();var e,n=s(t.getTracks());try{for(n.s();!(e=n.n()).done;){var a=e.value;l.addTrack(a)}}catch(e){n.e(e)}finally{n.f()}(0,i.moveRemoteVideoToScene)(),u=!0,console.log("isInitiator",r),r&&(console.log("CREATING DATACHANNEL gameUpdates"),(o=l.createDataChannel("gameUpdates")).onmessage=x,o.onerror=R,o.onopen=C,o.onclose=C,console.log("CREATED DATACHANNEL gameUpdates"),console.log("Created RTCDataChannel"),console.log("Sending offer to peer"),l.createOffer(E,L))}};window.onpagehide=function(){console.log("Hanging up."),S(),m("bye")};var v=navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2?"pagehide":"beforeunload";window.addEventListener(v,(function(e){m("bye")}));var b=function(){(l=new a.default).onicecandidate=y,l.ontrack=w,l.ondatachannel=M};function y(e){console.log("icecandidate event: ",e),e.candidate?m({type:"candidate",label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate}):console.log("End of candidates.")}function w(e){e.streams&&e.streams[0]?(console.log("event streams detected"),p.srcObject=e.streams[0]):(n||(console.log("Creating new MediaStream"),n=new MediaStream),console.log("adding track to remote stream"),n.addTrack(e.track),p.setAttribute("src",n),p.srcObject=n),p.autoplay=!0}function L(e){console.log("createOffer() error: ",e)}function E(e){l.setLocalDescription(e),console.log("setLocalAndSendMessage sending message",e),m(e)}function T(e){console.log("Failed to create session description: "+e.toString())}function S(){u=!1,o.close(),l.close(),l=null,p.pause(),p.removeAttribute("src"),p.removeAttribute("autoplay"),n=null,p.load()}function M(e){console.log("Received Channel Callback"),(o=e.channel).onmessage=x,o.onerror=function(e){console.log("Data Channel Error:",e)},o.onopen=C,o.onclose=C,console.log("CREATED DATACHANNEL gameUpdates")}function x(e){(0,i.updateRemoteObjects)(e.data)}function R(e){console.log("Data Channel Error:",e)}function C(e){o&&("open"===o.readyState?console.log("DATA CHANNEL STATE: open"):console.log("DATA CHANNEL STATE: closed"))}}},"./src/css/app.scss":(e,t,n)=>{"use strict";n.r(t)}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2NhbWVyYS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2NvbnRyb2xzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvZ2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9saWdodC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL21hdGVyaWFsLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvcmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvZ2FtZS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9nYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvZ2FtZS9nYW1lQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9nYW1lL3NjZW5lLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2hlbHBlcnMvbWVzaEhlbHBlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9oZWxwZXJzL3N0YXRzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2hlbHBlcnMvdmVydGV4Tm9ybWFsc0hlbHBlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9sb2FkZXJzL0dMVEZMb2FkZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvbWFuYWdlcnMvZGF0R1VJLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21hbmFnZXJzL2ludGVyYWN0aW9uLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21vZGVsL21vZGVsLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21vZGVsL3RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9kYXRhL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2J1ZmZlckdlb21ldHJ5VXRpbHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9kZXRlY3Rvci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9rZXlib2FyZC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL29yYml0Q29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy93ZWJydGMvcGVlckNvbm5lY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy93ZWJydGMvdmlkZW9DYWxsLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJDb25maWciLCJEZXRlY3RvciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdGFydEdhbWUiLCJpc0luaXRpYXRvciIsImluaXRHYW1lIiwiQ2FtZXJhIiwicmVuZGVyZXIiLCJ3aWR0aCIsImRvbUVsZW1lbnQiLCJoZWlnaHQiLCJ0aGlzIiwidGhyZWVDYW1lcmEiLCJUSFJFRSIsInBvc2l0aW9uIiwic2V0IiwidXBkYXRlU2l6ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiQ29udHJvbHMiLCJjYW1lcmEiLCJjb250YWluZXIiLCJvcmJpdENvbnRyb2xzIiwiT3JiaXRDb250cm9scyIsInRocmVlQ29udHJvbHMiLCJpbml0IiwidGFyZ2V0IiwiYXV0b1JvdGF0ZSIsImF1dG9Sb3RhdGVTcGVlZCIsInJvdGF0ZVNwZWVkIiwiem9vbVNwZWVkIiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsIm1pblBvbGFyQW5nbGUiLCJtYXhQb2xhckFuZ2xlIiwiZW5hYmxlRGFtcGluZyIsImVuYWJsZVpvb20iLCJkYW1waW5nRmFjdG9yIiwiR2VvbWV0cnkiLCJzY2VuZSIsImdlbyIsInR5cGUiLCJ3aWR0aFNlZ21lbnRzIiwiaGVpZ2h0U2VnbWVudHMiLCJyYWRpdXMiLCJyb3RhdGlvbiIsIm1hdGVyaWFsIiwiTWF0ZXJpYWwiLCJzdGFuZGFyZCIsIm1lc2giLCJyZWNlaXZlU2hhZG93IiwiYWRkIiwiTGlnaHQiLCJhbWJpZW50TGlnaHQiLCJ2aXNpYmxlIiwicG9pbnRMaWdodCIsImRpcmVjdGlvbmFsTGlnaHQiLCJjYXN0U2hhZG93Iiwic2hhZG93IiwiYmlhcyIsIm5lYXIiLCJmYXIiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJtYXBTaXplIiwiZGlyZWN0aW9uYWxMaWdodEhlbHBlciIsImhlbWlMaWdodCIsImxpZ2h0TmFtZSIsImNvbG9yIiwiYmFzaWMiLCJzaWRlIiwic2hhZGluZyIsInJvdWdobmVzcyIsIm1ldGFsbmVzcyIsIndpcmUiLCJ3aXJlZnJhbWUiLCJSZW5kZXJlciIsInRocmVlUmVuZGVyZXIiLCJhbnRpYWxpYXMiLCJhbHBoYSIsInNldENsZWFyQ29sb3IiLCJmb2ciLCJzZXRQaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImFwcGVuZENoaWxkIiwic2hhZG93TWFwIiwiZW5hYmxlZCIsImNhcGFiaWxpdGllcyIsImdldE1heEFuaXNvdHJvcHkiLCJzZXRTaXplIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJyZW5kZXIiLCJsb2NhbFNjZW5lIiwibG9jYWxDYW1lcmEiLCJjdWJlIiwiZHVja01lc2giLCJnYW1lQ29udHJvbGxlciIsIkdhbWVDb250cm9sbGVyIiwib2JqZWN0c1RvU3luYyIsIk1hcCIsImRyYWdnYWJsZU9iamVjdHNTZWxsZXIiLCJpc1NlbGxlciIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImF1dG9DbGVhciIsImluaXRTY2VuZSIsImluaXRDYW1lcmEiLCJpbml0M0RPYmplY3RzIiwiRHJhZ0NvbnRyb2xzIiwiZXZlbnQiLCJzZW5kR2FtZW9iamVjdFVwZGF0ZSIsImdldE9iakpTT04iLCJvYmplY3QiLCJhbmltYXRlIiwibG9hZGVyIiwiR0xURkxvYWRlciIsImxvYWRBc3luYyIsInRyYXZlcnNlIiwibyIsImlzTWVzaCIsInNjYWxlIiwiZHVja01lc2gxIiwiY2xvbmUiLCJuYW1lIiwiYWRkT2JqZWN0VG9EcmFnQ29ucm9scyIsImR1Y2tNZXNoMiIsImR1Y2tNZXNoMyIsIm91dHB1dEVuY29kaW5nIiwiZ2VvbWV0cnkiLCJwbGFuZSIsInkiLCJ4IiwiTWF0aCIsIlBJIiwibW92ZVJlbW90ZVZpZGVvVG9TY2VuZSIsInNldFRpbWVvdXQiLCJyZW1vdGVWaWRlbyIsInJlb21vdGVWaWRlb0FzcGVjdFJhdGlvIiwiaWQiLCJ2aWRlb0VsZW1lbnQiLCJ2aWRlb1RleHR1cmUiLCJ2aWRlb0dlb21ldHJ5IiwidmlkZW9NYXRlcmlhbCIsIm1hcCIsIm92ZXJkcmF3IiwiY3ViZTIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvYmoiLCJqc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFNjZW5lSlNPTiIsInV1aWQiLCJ1cGRhdGVSZW1vdGVPYmplY3RzIiwiZGF0YSIsInBhcnNlIiwiaGFzIiwibG9jYWxFbGVtZW50IiwiZ2V0T2JqZWN0QnlOYW1lIiwieiIsIl94IiwiX3kiLCJfeiIsIm5ld09iaiIsInB1c2giLCJHYW1lU2NlbmUiLCJjbG9jayIsImNvbnRyb2xzIiwibGlnaHQiLCJmb3JFYWNoIiwicGxhY2UiLCJtYWtlIiwic3RhdHMiLCJTdGF0cyIsInNldFVwIiwiZ3VpIiwiRGF0R1VJIiwidGV4dHVyZSIsIlRleHR1cmUiLCJsb2FkIiwidGhlbiIsIm1hbmFnZXIiLCJtb2RlbCIsIk1vZGVsIiwidGV4dHVyZXMiLCJvblByb2dyZXNzIiwiaXRlbSIsImxvYWRlZCIsInRvdGFsIiwib25Mb2FkIiwiSW50ZXJhY3Rpb24iLCJtZXNoSGVscGVyIiwiTWVzaEhlbHBlciIsImVuYWJsZSIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJUV0VFTiIsInVwZGF0ZSIsImJpbmQiLCJsb2NhbE9iamVjdHMiLCJhZGRMb2NhbE9iamVjdCIsImN1c3RvbU9iamVjdCIsInN0YXJ0U2hhcmVkU2NlbmVTeW5jIiwic3RvcFNoYXJlZFNjZW5lU3luYyIsImNsZWFySW50ZXJ2YWwiLCJzaGFyZWRTY2VuZVN5bmMiLCJvYmplY3RKc29uIiwiZGF0YUNoYW5uZWwiLCJnZXRMb2NhbE9iamVjdCIsImJhY2tncm91bmQiLCJkaXJlY3Rpb25hbExpZ2h0MSIsImRpcmVjdGlvbmFsTGlnaHQyIiwiZGlyZWN0aW9uYWxMaWdodDMiLCJpbml0TGlnaHQiLCJsb29rQXQiLCJ3aXJlTGluZSIsImRlcHRoVGVzdCIsIm9wYWNpdHkiLCJ0cmFuc3BhcmVudCIsImVkZ2VzIiwiZWRnZXNMaW5lIiwidmVydGV4SGVscGVyIiwiVmVydGV4Tm9ybWFsc0hlbHBlciIsImJveEhlbHBlciIsInJlbW92ZSIsInJTIiwiYlMiLCJnbFMiLCJ0UyIsInN0YXJ0IiwidGljayIsImZyYW1lIiwiZW5kIiwiQnJvd3NlclN0YXRzIiwiZ2xTdGF0cyIsInRocmVlU3RhdHMiLCJyU3RhdHMiLCJDU1NQYXRoIiwidXNlclRpbWluZ0FQSSIsInZhbHVlcyIsImNhcHRpb24iLCJvdmVyIiwiYXZlcmFnZSIsImF2Z01zIiwiZnBzIiwiYmVsb3ciLCJjYWxscyIsInJhZiIsInJzdGF0cyIsImdyb3VwcyIsImZyYWN0aW9ucyIsImJhc2UiLCJzdGVwcyIsInBsdWdpbnMiLCJfdjEiLCJWZWN0b3IzIiwiX3YyIiwiX25vcm1hbE1hdHJpeCIsIk1hdHJpeDMiLCJfa2V5cyIsInNpemUiLCJoZXgiLCJ1bmRlZmluZWQiLCJuTm9ybWFscyIsIm9iakdlb21ldHJ5IiwiaXNHZW9tZXRyeSIsImZhY2VzIiwibGVuZ3RoIiwiaXNCdWZmZXJHZW9tZXRyeSIsImF0dHJpYnV0ZXMiLCJub3JtYWwiLCJjb3VudCIsIkJ1ZmZlckdlb21ldHJ5IiwicG9zaXRpb25zIiwiRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIkxpbmVTZWdtZW50cyIsIkxpbmVCYXNpY01hdGVyaWFsIiwidG9uZU1hcHBlZCIsIm1hdHJpeEF1dG9VcGRhdGUiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsImlkeCIsInVwZGF0ZU1hdHJpeFdvcmxkIiwiZ2V0Tm9ybWFsTWF0cml4IiwibWF0cml4V29ybGQiLCJ2ZXJ0aWNlcyIsImkiLCJsIiwiZmFjZSIsImoiLCJqbCIsInZlcnRleE5vcm1hbHMiLCJ2ZXJ0ZXgiLCJjb3B5IiwiYXBwbHlNYXRyaXg0IiwiYXBwbHlNYXRyaXgzIiwibm9ybWFsaXplIiwibXVsdGlwbHlTY2FsYXIiLCJzZXRYWVoiLCJvYmpQb3MiLCJvYmpOb3JtIiwiZ2V0WCIsImdldFkiLCJnZXRaIiwibmVlZHNVcGRhdGUiLCJMb2FkZXIiLCJkcmFjb0xvYWRlciIsImRkc0xvYWRlciIsIkdMVEZSZWdpc3RyeSIsIm9iamVjdHMiLCJnZXQiLCJrZXkiLCJyZW1vdmVBbGwiLCJhc3NpZ24iLCJ1cmwiLCJvbkVycm9yIiwicmVzb3VyY2VQYXRoIiwic2NvcGUiLCJwYXRoIiwiTG9hZGVyVXRpbHMiLCJpdGVtU3RhcnQiLCJfb25FcnJvciIsImUiLCJlcnJvciIsIml0ZW1FcnJvciIsIml0ZW1FbmQiLCJGaWxlTG9hZGVyIiwic2V0UGF0aCIsInNldFJlc3BvbnNlVHlwZSIsImNyb3NzT3JpZ2luIiwic2V0V2l0aENyZWRlbnRpYWxzIiwiZ2x0ZiIsInNldERSQUNPTG9hZGVyIiwic2V0RERTTG9hZGVyIiwiY29udGVudCIsImV4dGVuc2lvbnMiLCJVaW50OEFycmF5IiwiQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMiLCJFWFRFTlNJT05TIiwiS0hSX0JJTkFSWV9HTFRGIiwiR0xURkJpbmFyeUV4dGVuc2lvbiIsImFzc2V0IiwidmVyc2lvbiIsIkVycm9yIiwiZXh0ZW5zaW9uc1VzZWQiLCJleHRlbnNpb25OYW1lIiwiZXh0ZW5zaW9uc1JlcXVpcmVkIiwiS0hSX0xJR0hUU19QVU5DVFVBTCIsIkdMVEZMaWdodHNFeHRlbnNpb24iLCJLSFJfTUFURVJJQUxTX0NMRUFSQ09BVCIsIkdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24iLCJLSFJfTUFURVJJQUxTX1VOTElUIiwiR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uIiwiS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUyIsIkdMVEZNYXRlcmlhbHNQYnJTcGVjdWxhckdsb3NzaW5lc3NFeHRlbnNpb24iLCJLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiIsIkdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbiIsIk1TRlRfVEVYVFVSRV9ERFMiLCJHTFRGVGV4dHVyZUREU0V4dGVuc2lvbiIsIktIUl9URVhUVVJFX1RSQU5TRk9STSIsIkdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uIiwiS0hSX01FU0hfUVVBTlRJWkFUSU9OIiwiR0xURk1lc2hRdWFudGl6YXRpb25FeHRlbnNpb24iLCJpbmRleE9mIiwid2FybiIsIkdMVEZQYXJzZXIiLCJleHRlbnNpb24iLCJsaWdodERlZnMiLCJsaWdodHMiLCJsb2FkTGlnaHQiLCJsaWdodEluZGV4IiwibGlnaHROb2RlIiwibGlnaHREZWYiLCJDb2xvciIsImZyb21BcnJheSIsInJhbmdlIiwiRGlyZWN0aW9uYWxMaWdodCIsIlBvaW50TGlnaHQiLCJkaXN0YW5jZSIsIlNwb3RMaWdodCIsInNwb3QiLCJpbm5lckNvbmVBbmdsZSIsIm91dGVyQ29uZUFuZ2xlIiwiYW5nbGUiLCJwZW51bWJyYSIsImRlY2F5IiwiaW50ZW5zaXR5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRNYXRlcmlhbFR5cGUiLCJNZXNoQmFzaWNNYXRlcmlhbCIsImV4dGVuZFBhcmFtcyIsIm1hdGVyaWFsUGFyYW1zIiwibWF0ZXJpYWxEZWYiLCJwYXJzZXIiLCJwZW5kaW5nIiwibWV0YWxsaWNSb3VnaG5lc3MiLCJwYnJNZXRhbGxpY1JvdWdobmVzcyIsIkFycmF5IiwiaXNBcnJheSIsImJhc2VDb2xvckZhY3RvciIsImFycmF5IiwiYmFzZUNvbG9yVGV4dHVyZSIsImFzc2lnblRleHR1cmUiLCJhbGwiLCJNZXNoUGh5c2ljYWxNYXRlcmlhbCIsImNsZWFyY29hdEZhY3RvciIsImNsZWFyY29hdCIsImNsZWFyY29hdFRleHR1cmUiLCJjbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3IiLCJjbGVhcmNvYXRSb3VnaG5lc3MiLCJjbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlIiwiY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZSIsImNsZWFyY29hdE5vcm1hbFNjYWxlIiwiVmVjdG9yMiIsIkJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMiLCJib2R5IiwiaGVhZGVyVmlldyIsIkRhdGFWaWV3IiwiaGVhZGVyIiwibWFnaWMiLCJzbGljZSIsImdldFVpbnQzMiIsImNodW5rVmlldyIsImNodW5rSW5kZXgiLCJieXRlTGVuZ3RoIiwiY2h1bmtMZW5ndGgiLCJjaHVua1R5cGUiLCJjb250ZW50QXJyYXkiLCJieXRlT2Zmc2V0IiwicHJlbG9hZCIsIkdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsIiwicGFyYW1zIiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJpc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCIsInNwZWN1bGFyTWFwUGFyc0ZyYWdtZW50Q2h1bmsiLCJqb2luIiwiZ2xvc3NpbmVzc01hcFBhcnNGcmFnbWVudENodW5rIiwic3BlY3VsYXJNYXBGcmFnbWVudENodW5rIiwiZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmsiLCJsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVuayIsInVuaWZvcm1zIiwic3BlY3VsYXIiLCJ2YWx1ZSIsInNldEhleCIsImdsb3NzaW5lc3MiLCJzcGVjdWxhck1hcCIsImdsb3NzaW5lc3NNYXAiLCJfZXh0cmFVbmlmb3JtcyIsIm9uQmVmb3JlQ29tcGlsZSIsInNoYWRlciIsInVuaWZvcm1OYW1lIiwiZnJhZ21lbnRTaGFkZXIiLCJyZXBsYWNlIiwiZGVmaW5lUHJvcGVydGllcyIsInYiLCJkZWZpbmVzIiwiVVNFX0dMT1NTSU5FU1NNQVAiLCJVU0VfUk9VR0hORVNTTUFQIiwibWV0YWxuZXNzTWFwIiwicm91Z2huZXNzTWFwIiwic2V0VmFsdWVzIiwic3BlY3VsYXJHbG9zc2luZXNzUGFyYW1zIiwicGJyU3BlY3VsYXJHbG9zc2luZXNzIiwiZGlmZnVzZUZhY3RvciIsImRpZmZ1c2VUZXh0dXJlIiwiZW1pc3NpdmUiLCJnbG9zc2luZXNzRmFjdG9yIiwic3BlY3VsYXJGYWN0b3IiLCJzcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlIiwic3BlY0dsb3NzTWFwRGVmIiwiY3JlYXRlTWF0ZXJpYWwiLCJsaWdodE1hcCIsImxpZ2h0TWFwSW50ZW5zaXR5IiwiYW9NYXAiLCJhb01hcEludGVuc2l0eSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiZW1pc3NpdmVNYXAiLCJidW1wTWFwIiwiYnVtcFNjYWxlIiwibm9ybWFsTWFwIiwibm9ybWFsTWFwVHlwZSIsIlRhbmdlbnRTcGFjZU5vcm1hbE1hcCIsIm5vcm1hbFNjYWxlIiwiZGlzcGxhY2VtZW50TWFwIiwiZGlzcGxhY2VtZW50U2NhbGUiLCJkaXNwbGFjZW1lbnRCaWFzIiwiYWxwaGFNYXAiLCJlbnZNYXAiLCJlbnZNYXBJbnRlbnNpdHkiLCJyZWZyYWN0aW9uUmF0aW8iLCJHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudCIsInBhcmFtZXRlclBvc2l0aW9ucyIsInNhbXBsZVZhbHVlcyIsInNhbXBsZVNpemUiLCJyZXN1bHRCdWZmZXIiLCJJbnRlcnBvbGFudCIsImRlY29kZVByaW1pdGl2ZSIsInByaW1pdGl2ZSIsImJ1ZmZlclZpZXdJbmRleCIsImJ1ZmZlclZpZXciLCJnbHRmQXR0cmlidXRlTWFwIiwidGhyZWVBdHRyaWJ1dGVNYXAiLCJhdHRyaWJ1dGVOb3JtYWxpemVkTWFwIiwiYXR0cmlidXRlVHlwZU1hcCIsImF0dHJpYnV0ZU5hbWUiLCJ0aHJlZUF0dHJpYnV0ZU5hbWUiLCJBVFRSSUJVVEVTIiwidG9Mb3dlckNhc2UiLCJhY2Nlc3NvckRlZiIsImFjY2Vzc29ycyIsImNvbXBvbmVudFR5cGUiLCJXRUJHTF9DT01QT05FTlRfVFlQRVMiLCJub3JtYWxpemVkIiwiZ2V0RGVwZW5kZW5jeSIsImRlY29kZURyYWNvRmlsZSIsImF0dHJpYnV0ZSIsImV4dGVuZFRleHR1cmUiLCJ0cmFuc2Zvcm0iLCJvZmZzZXQiLCJyZXBlYXQiLCJ0ZXhDb29yZCIsInNvdXJjZSIsImNvcHlTYW1wbGVWYWx1ZV8iLCJpbmRleCIsInJlc3VsdCIsInZhbHVlU2l6ZSIsImJlZm9yZVN0YXJ0XyIsImFmdGVyRW5kXyIsImludGVycG9sYXRlXyIsImkxIiwidDAiLCJ0IiwidDEiLCJzdHJpZGUiLCJzdHJpZGUyIiwic3RyaWRlMyIsInRkIiwicCIsInBwIiwicHBwIiwib2Zmc2V0MSIsIm9mZnNldDAiLCJzMiIsInMzIiwiczAiLCJzMSIsInAwIiwibTAiLCJwMSIsIm0xIiwiV0VCR0xfQ09OU1RBTlRTIiwiNTEyMCIsIkludDhBcnJheSIsIjUxMjEiLCI1MTIyIiwiSW50MTZBcnJheSIsIjUxMjMiLCJVaW50MTZBcnJheSIsIjUxMjUiLCJVaW50MzJBcnJheSIsIjUxMjYiLCJGbG9hdDMyQXJyYXkiLCJXRUJHTF9GSUxURVJTIiwiOTcyOCIsIk5lYXJlc3RGaWx0ZXIiLCI5NzI5IiwiTGluZWFyRmlsdGVyIiwiOTk4NCIsIk5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyIiwiOTk4NSIsIkxpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXIiLCI5OTg2IiwiTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlciIsIjk5ODciLCJMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXIiLCJXRUJHTF9XUkFQUElOR1MiLCIzMzA3MSIsIkNsYW1wVG9FZGdlV3JhcHBpbmciLCIzMzY0OCIsIk1pcnJvcmVkUmVwZWF0V3JhcHBpbmciLCIxMDQ5NyIsIlJlcGVhdFdyYXBwaW5nIiwiV0VCR0xfVFlQRV9TSVpFUyIsIlNDQUxBUiIsIlZFQzIiLCJWRUMzIiwiVkVDNCIsIk1BVDIiLCJNQVQzIiwiTUFUNCIsIlBPU0lUSU9OIiwiTk9STUFMIiwiVEFOR0VOVCIsIlRFWENPT1JEXzAiLCJURVhDT09SRF8xIiwiQ09MT1JfMCIsIldFSUdIVFNfMCIsIkpPSU5UU18wIiwiUEFUSF9QUk9QRVJUSUVTIiwidHJhbnNsYXRpb24iLCJ3ZWlnaHRzIiwiSU5URVJQT0xBVElPTiIsIkNVQklDU1BMSU5FIiwiTElORUFSIiwiSW50ZXJwb2xhdGVMaW5lYXIiLCJTVEVQIiwiSW50ZXJwb2xhdGVEaXNjcmV0ZSIsIkFMUEhBX01PREVTIiwiTUlNRV9UWVBFX0ZPUk1BVFMiLCJSR0JBRm9ybWF0IiwiUkdCRm9ybWF0IiwicmVzb2x2ZVVSTCIsInRlc3QiLCJhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEiLCJrbm93bkV4dGVuc2lvbnMiLCJvYmplY3REZWYiLCJ1c2VyRGF0YSIsImdsdGZFeHRlbnNpb25zIiwiYXNzaWduRXh0cmFzVG9Vc2VyRGF0YSIsImdsdGZEZWYiLCJleHRyYXMiLCJ1cGRhdGVNb3JwaFRhcmdldHMiLCJtZXNoRGVmIiwiaWwiLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLCJ0YXJnZXROYW1lcyIsIm1vcnBoVGFyZ2V0RGljdGlvbmFyeSIsImNyZWF0ZUF0dHJpYnV0ZXNLZXkiLCJhdHRyaWJ1dGVzS2V5Iiwia2V5cyIsInNvcnQiLCJvcHRpb25zIiwiY2FjaGUiLCJwcmltaXRpdmVDYWNoZSIsInRleHR1cmVMb2FkZXIiLCJUZXh0dXJlTG9hZGVyIiwic2V0Q3Jvc3NPcmlnaW4iLCJmaWxlTG9hZGVyIiwiYWRkUHJpbWl0aXZlQXR0cmlidXRlcyIsInByaW1pdGl2ZURlZiIsImFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yIiwiYWNjZXNzb3JJbmRleCIsImFjY2Vzc29yIiwiZ2x0ZkF0dHJpYnV0ZU5hbWUiLCJpbmRpY2VzIiwic2V0SW5kZXgiLCJib3giLCJCb3gzIiwibWluIiwibWF4IiwidGFyZ2V0cyIsIm1heERpc3BsYWNlbWVudCIsInZlY3RvciIsInNldFgiLCJhYnMiLCJzZXRZIiwic2V0WiIsImV4cGFuZEJ5VmVjdG9yIiwiYm91bmRpbmdCb3giLCJzcGhlcmUiLCJTcGhlcmUiLCJnZXRDZW50ZXIiLCJjZW50ZXIiLCJkaXN0YW5jZVRvIiwiYm91bmRpbmdTcGhlcmUiLCJjb21wdXRlQm91bmRzIiwiaGFzTW9ycGhQb3NpdGlvbiIsImhhc01vcnBoTm9ybWFsIiwicGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzIiwicGVuZGluZ05vcm1hbEFjY2Vzc29ycyIsInBlbmRpbmdBY2Nlc3NvciIsIm1vcnBoUG9zaXRpb25zIiwibW9ycGhOb3JtYWxzIiwibW9ycGhBdHRyaWJ1dGVzIiwibW9ycGhUYXJnZXRzUmVsYXRpdmUiLCJhZGRNb3JwaFRhcmdldHMiLCJ0b1RyaWFuZ2xlc0RyYXdNb2RlIiwiZHJhd01vZGUiLCJnZXRJbmRleCIsImdldEF0dHJpYnV0ZSIsIm51bWJlck9mVHJpYW5nbGVzIiwibmV3SW5kaWNlcyIsIlRyaWFuZ2xlRmFuRHJhd01vZGUiLCJuZXdHZW9tZXRyeSIsIm1hcmtEZWZzIiwiZ2V0RGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jaWVzIiwic2NlbmVzIiwiYW5pbWF0aW9ucyIsImNhbWVyYXMiLCJub2RlRGVmcyIsIm5vZGVzIiwic2tpbkRlZnMiLCJza2lucyIsIm1lc2hEZWZzIiwibWVzaGVzIiwibWVzaFJlZmVyZW5jZXMiLCJtZXNoVXNlcyIsInNraW5JbmRleCIsInNraW5MZW5ndGgiLCJqb2ludHMiLCJpc0JvbmUiLCJub2RlSW5kZXgiLCJub2RlTGVuZ3RoIiwibm9kZURlZiIsInNraW4iLCJpc1NraW5uZWRNZXNoIiwiY2FjaGVLZXkiLCJkZXBlbmRlbmN5IiwibG9hZFNjZW5lIiwibG9hZE5vZGUiLCJsb2FkTWVzaCIsImxvYWRBY2Nlc3NvciIsImxvYWRCdWZmZXJWaWV3IiwibG9hZEJ1ZmZlciIsImxvYWRNYXRlcmlhbCIsImxvYWRUZXh0dXJlIiwibG9hZFNraW4iLCJsb2FkQW5pbWF0aW9uIiwibG9hZENhbWVyYSIsImRlZnMiLCJkZWYiLCJidWZmZXJJbmRleCIsImJ1ZmZlckRlZiIsImJ1ZmZlcnMiLCJ1cmkiLCJyZWplY3QiLCJidWZmZXJWaWV3RGVmIiwiYnVmZmVyVmlld3MiLCJidWZmZXIiLCJzcGFyc2UiLCJwZW5kaW5nQnVmZmVyVmlld3MiLCJidWZmZXJBdHRyaWJ1dGUiLCJpdGVtU2l6ZSIsIlR5cGVkQXJyYXkiLCJlbGVtZW50Qnl0ZXMiLCJCWVRFU19QRVJfRUxFTUVOVCIsIml0ZW1CeXRlcyIsImJ5dGVTdHJpZGUiLCJpYlNsaWNlIiwiZmxvb3IiLCJpYkNhY2hlS2V5IiwiaWIiLCJJbnRlcmxlYXZlZEJ1ZmZlciIsIkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlIiwiQnVmZmVyQXR0cmlidXRlIiwiaXRlbVNpemVJbmRpY2VzIiwiVHlwZWRBcnJheUluZGljZXMiLCJieXRlT2Zmc2V0SW5kaWNlcyIsImJ5dGVPZmZzZXRWYWx1ZXMiLCJzcGFyc2VJbmRpY2VzIiwic3BhcnNlVmFsdWVzIiwic2V0VyIsInRleHR1cmVJbmRleCIsIlVSTCIsInNlbGYiLCJ3ZWJraXRVUkwiLCJ0ZXh0dXJlRGVmIiwidGV4dHVyZUV4dGVuc2lvbnMiLCJzb3VyY2VVUkkiLCJpbWFnZXMiLCJpc09iamVjdFVSTCIsImJsb2IiLCJCbG9iIiwibWltZVR5cGUiLCJjcmVhdGVPYmplY3RVUkwiLCJnZXRIYW5kbGVyIiwicmV2b2tlT2JqZWN0VVJMIiwiZmxpcFkiLCJmb3JtYXQiLCJzYW1wbGVyIiwic2FtcGxlcnMiLCJtYWdGaWx0ZXIiLCJtaW5GaWx0ZXIiLCJ3cmFwUyIsIndyYXBUIiwibWFwTmFtZSIsIm1hcERlZiIsImlzQ29tcHJlc3NlZFRleHR1cmUiLCJhc3NpZ25GaW5hbE1hdGVyaWFsIiwidXNlVmVydGV4VGFuZ2VudHMiLCJ0YW5nZW50IiwidXNlVmVydGV4Q29sb3JzIiwidXNlRmxhdFNoYWRpbmciLCJ1c2VTa2lubmluZyIsInVzZU1vcnBoVGFyZ2V0cyIsInVzZU1vcnBoTm9ybWFscyIsImlzUG9pbnRzIiwicG9pbnRzTWF0ZXJpYWwiLCJQb2ludHNNYXRlcmlhbCIsInNpemVBdHRlbnVhdGlvbiIsImlzTGluZSIsImxpbmVNYXRlcmlhbCIsImNhY2hlZE1hdGVyaWFsIiwic2tpbm5pbmciLCJ2ZXJ0ZXhUYW5nZW50cyIsInZlcnRleENvbG9ycyIsImZsYXRTaGFkaW5nIiwibW9ycGhUYXJnZXRzIiwidXYyIiwidXYiLCJtYXRlcmlhbEluZGV4IiwibWF0ZXJpYWxUeXBlIiwibWF0ZXJpYWxzIiwibWF0ZXJpYWxFeHRlbnNpb25zIiwic2dFeHRlbnNpb24iLCJrbXVFeHRlbnNpb24iLCJtZXRhbGxpY0ZhY3RvciIsInJvdWdobmVzc0ZhY3RvciIsIm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSIsImRvdWJsZVNpZGVkIiwiRG91YmxlU2lkZSIsImFscGhhTW9kZSIsImRlcHRoV3JpdGUiLCJhbHBoYVRlc3QiLCJhbHBoYUN1dG9mZiIsIm5vcm1hbFRleHR1cmUiLCJvY2NsdXNpb25UZXh0dXJlIiwic3RyZW5ndGgiLCJlbWlzc2l2ZUZhY3RvciIsImVtaXNzaXZlVGV4dHVyZSIsImNsZWFyY29hdEV4dGVuc2lvbiIsImVuY29kaW5nIiwic1JHQkVuY29kaW5nIiwibG9hZEdlb21ldHJpZXMiLCJwcmltaXRpdmVzIiwiY3JlYXRlRHJhY29QcmltaXRpdmUiLCJkcmFjb0V4dGVuc2lvbiIsImdlb21ldHJ5UHJvbWlzZSIsIm1vZGUiLCJjYWNoZWQiLCJwcm9taXNlIiwibWVzaEluZGV4IiwiRnJvbnRTaWRlIiwicmVzdWx0cyIsImdlb21ldHJpZXMiLCJTa2lubmVkTWVzaCIsIk1lc2giLCJza2luV2VpZ2h0Iiwibm9ybWFsaXplU2tpbldlaWdodHMiLCJUcmlhbmdsZVN0cmlwRHJhd01vZGUiLCJMaW5lIiwiTGluZUxvb3AiLCJQb2ludHMiLCJncm91cCIsIkdyb3VwIiwiY2FtZXJhSW5kZXgiLCJjYW1lcmFEZWYiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIk1hdGhVdGlscyIsInlmb3YiLCJhc3BlY3RSYXRpbyIsInpuZWFyIiwiemZhciIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsInhtYWciLCJ5bWFnIiwic2tpbkRlZiIsInNraW5FbnRyeSIsImludmVyc2VCaW5kTWF0cmljZXMiLCJhbmltYXRpb25JbmRleCIsImFuaW1hdGlvbkRlZiIsInBlbmRpbmdOb2RlcyIsInBlbmRpbmdJbnB1dEFjY2Vzc29ycyIsInBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMiLCJwZW5kaW5nU2FtcGxlcnMiLCJwZW5kaW5nVGFyZ2V0cyIsImNoYW5uZWxzIiwiY2hhbm5lbCIsIm5vZGUiLCJpbnB1dCIsInBhcmFtZXRlcnMiLCJvdXRwdXQiLCJpbnB1dEFjY2Vzc29ycyIsIm91dHB1dEFjY2Vzc29ycyIsInRyYWNrcyIsImlucHV0QWNjZXNzb3IiLCJvdXRwdXRBY2Nlc3NvciIsIlR5cGVkS2V5ZnJhbWVUcmFjayIsInVwZGF0ZU1hdHJpeCIsIk51bWJlcktleWZyYW1lVHJhY2siLCJRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayIsIlZlY3RvcktleWZyYW1lVHJhY2siLCJ0YXJnZXROYW1lIiwiaW50ZXJwb2xhdGlvbiIsIm91dHB1dEFycmF5Iiwic2NhbGVkIiwidHJhY2siLCJjcmVhdGVJbnRlcnBvbGFudCIsInRpbWVzIiwiZ2V0VmFsdWVTaXplIiwiaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUiLCJBbmltYXRpb25DbGlwIiwiaW5zdGFuY2VOdW0iLCJCb25lIiwiT2JqZWN0M0QiLCJQcm9wZXJ0eUJpbmRpbmciLCJtYXRyaXgiLCJNYXRyaXg0IiwicXVhdGVybmlvbiIsImJ1aWxkTm9kZUhpZXJhY2h5Iiwibm9kZUlkIiwicGFyZW50T2JqZWN0IiwicGVuZGluZ0pvaW50cyIsImpvaW50Tm9kZXMiLCJib25lcyIsImJvbmVJbnZlcnNlcyIsImpvaW50Tm9kZSIsIm1hdCIsIlNrZWxldG9uIiwiY2hpbGRyZW4iLCJjaGlsZCIsInNjZW5lSW5kZXgiLCJzY2VuZURlZiIsIm5vZGVJZHMiLCJtYWluIiwiZGF0IiwiR1VJIiwiY2FtZXJhRm9sZGVyIiwiYWRkRm9sZGVyIiwiY2FtZXJhRk9WR3VpIiwib25DaGFuZ2UiLCJlbmFibGVSb3RhdGUiLCJmb3YiLCJvbkZpbmlzaENoYW5nZSIsImNhbWVyYUFzcGVjdEd1aSIsImFkZENvbG9yIiwiY2FtZXJhRm9nTmVhckd1aSIsImRlbnNpdHkiLCJjb250cm9sc0ZvbGRlciIsImNvbnRyb2xzQXV0b1JvdGF0ZVNwZWVkR3VpIiwiZGlzYWJsZSIsInVubG9hZCIsIm1lc2hGb2xkZXIiLCJhbWJpZW50TGlnaHRGb2xkZXIiLCJkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyIiwiZGlyZWN0aW9uYWxMaWdodEludGVuc2l0eUd1aSIsImRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblhHdWkiLCJkaXJlY3Rpb25hbExpZ2h0UG9zaXRpb25ZR3VpIiwiZGlyZWN0aW9uYWxMaWdodFBvc2l0aW9uWkd1aSIsInNoYWRvd0ZvbGRlciIsInNoYWRvd05lYXJHdWkiLCJkaXNwb3NlIiwic2hhZG93RmFyR3VpIiwic2hhZG93VG9wR3VpIiwic2hhZG93UmlnaHRHdWkiLCJzaGFkb3dCb3R0b21HdWkiLCJzaGFkb3dMZWZ0R3VpIiwic2hhZG93Qmlhc0d1aSIsInBvaW50TGlnaHRGb2xkZXIiLCJwb2ludExpZ2h0SW50ZW5zaXR5R3VpIiwicG9pbnRMaWdodERpc3RhbmNlR3VpIiwicG9pbnRMaWdodFBvc2l0aW9uWEd1aSIsInBvaW50TGlnaHRQb3NpdGlvbllHdWkiLCJwb2ludExpZ2h0UG9zaXRpb25aR3VpIiwiaGVtaUxpZ2h0Rm9sZGVyIiwiZ3JvdW5kQ29sb3IiLCJoZW1pTGlnaHRJbnRlbnNpdHlHdWkiLCJoZW1pTGlnaHRQb3NpdGlvblhHdWkiLCJoZW1pTGlnaHRQb3NpdGlvbllHdWkiLCJoZW1pTGlnaHRQb3NpdGlvblpHdWkiLCJkZXN0cm95IiwidGltZW91dCIsImtleWJvYXJkIiwiS2V5Ym9hcmQiLCJIZWxwZXJzIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlTGVhdmUiLCJvbk1vdXNlT3ZlciIsImV2ZW50TWF0Y2hlcyIsInByZXZlbnREZWZhdWx0IiwiY2xlYXJUaW1lb3V0IiwicmVmIiwiaXNMaWdodCIsIkJ1ZmZlckdlb21ldHJ5VXRpbHMiLCJVViIsIm1heEFuaXNvdHJvcHkiLCJpbWFnZUZpbGVzIiwicHJvbWlzZUFycmF5IiwiaW1hZ2VGaWxlIiwiaW1hZ2UiLCJhbmlzb3Ryb3B5IiwibW9kZWxPQkoiLCJ4aHIiLCJyZWFzb24iLCJpc0RldiIsImlzU2hvd2luZ1N0YXRzIiwiaXNMb2FkZWQiLCJpc1R3ZWVuaW5nIiwiaXNSb3RhdGluZyIsImlzTW91c2VNb3ZpbmciLCJpc01vdXNlT3ZlciIsImRwciIsImVhc2luZyIsImR1cmF0aW9uIiwic2VsZWN0ZWQiLCJpbml0aWFsVHlwZXMiLCJtb2RlbHMiLCJlbmFibGVIZWxwZXIiLCJ0cmFuc2x1Y2VudCIsInBvc1giLCJwb3NZIiwicG9zWiIsIm1pbkF6aW11dGhBbmdsZSIsIkluZmluaXR5IiwibWF4QXppbXV0aEFuZ2xlIiwiaGVscGVyRW5hYmxlZCIsIm1hcFdpZHRoIiwibWFwSGVpZ2h0IiwiY29tcHV0ZVRhbmdlbnRzIiwibm9ybWFscyIsInV2cyIsIm5WZXJ0aWNlcyIsInRhbmdlbnRzIiwidGFuMSIsInRhbjIiLCJ2QSIsInZCIiwidkMiLCJ1dkEiLCJ1dkIiLCJ1dkMiLCJzZGlyIiwidGRpciIsImhhbmRsZVRyaWFuZ2xlIiwidyIsInRtcCIsInRtcDIiLCJuIiwibjIiLCJoYW5kbGVWZXJ0ZXgiLCJhIiwiYiIsImMiLCJzdWIiLCJyIiwiaXNGaW5pdGUiLCJhZGRTY2FsZWRWZWN0b3IiLCJkb3QiLCJjcm9zc1ZlY3RvcnMiLCJtZXJnZUJ1ZmZlckdlb21ldHJpZXMiLCJ1c2VHcm91cHMiLCJpc0luZGV4ZWQiLCJhdHRyaWJ1dGVzVXNlZCIsIlNldCIsIm1vcnBoQXR0cmlidXRlc1VzZWQiLCJtZXJnZWRHZW9tZXRyeSIsImF0dHJpYnV0ZXNDb3VudCIsIm1lcmdlZFVzZXJEYXRhIiwiYWRkR3JvdXAiLCJpbmRleE9mZnNldCIsIm1lcmdlZEluZGV4IiwibWVyZ2VkQXR0cmlidXRlIiwibWVyZ2VCdWZmZXJBdHRyaWJ1dGVzIiwibnVtTW9ycGhUYXJnZXRzIiwibW9ycGhBdHRyaWJ1dGVzVG9NZXJnZSIsIm1lcmdlZE1vcnBoQXR0cmlidXRlIiwiYXJyYXlMZW5ndGgiLCJpc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlIiwiaW50ZXJsZWF2ZUF0dHJpYnV0ZXMiLCJpbnRlcmxlYXZlZEJ1ZmZlciIsInJlcyIsImdldHRlcnMiLCJzZXR0ZXJzIiwiaWJhIiwiayIsImVzdGltYXRlQnl0ZXNVc2VkIiwibWVtIiwiYXR0ciIsIm1lcmdlVmVydGljZXMiLCJ0b2xlcmFuY2UiLCJOdW1iZXIiLCJFUFNJTE9OIiwiaGFzaFRvSW5kZXgiLCJ2ZXJ0ZXhDb3VudCIsIm5leHRJbmRleCIsImF0dHJpYnV0ZU5hbWVzIiwiYXR0ckFycmF5cyIsIm1vcnBoQXR0cnNBcnJheXMiLCJtb3JwaEF0dHIiLCJmaWxsIiwiZGVjaW1hbFNoaWZ0IiwibG9nMTAiLCJzaGlmdE11bHRpcGxpZXIiLCJwb3ciLCJoYXNoIiwibmV3YXJyYXkiLCJuZXdNb3JwaEFycmF5cyIsImdldHRlckZ1bmMiLCJtIiwibWwiLCJvbGRBdHRyaWJ1dGUiLCJvbGRNb3JwaEF0dHJpYnV0ZSIsIm1vcnBoQXR0cmlidXRlIiwiVHJpYW5nbGVzRHJhd01vZGUiLCJjbGVhckdyb3VwcyIsImNhbnZhcyIsIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsIndlYmdsIiwiY3JlYXRlRWxlbWVudCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImdldENvbnRleHQiLCJ3b3JrZXJzIiwiV29ya2VyIiwiZmlsZWFwaSIsIkZpbGUiLCJGaWxlUmVhZGVyIiwiRmlsZUxpc3QiLCJnZXRXZWJHTEVycm9yTWVzc2FnZSIsImVsZW1lbnQiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidGV4dEFsaWduIiwicGFkZGluZyIsIm1hcmdpbiIsImlubmVySFRNTCIsImFkZEdldFdlYkdMTWVzc2FnZSIsInBhcmVudCIsImZuIiwidGhyZXNoaG9sZCIsImxhc3QiLCJkZWZlclRpbWVyIiwiY29udGV4dCIsIm5vdyIsIkRhdGUiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJsZW5ndGhDb21wdXRhYmxlIiwicGVyY2VudENvbXBsZXRlIiwicm91bmQiLCJ2ZXJ0aWNlc05lZWRVcGRhdGUiLCJub3JtYWxzTmVlZFVwZGF0ZSIsImNvbG9yc05lZWRVcGRhdGUiLCJtYXRlcmlhbEtleSIsIkFMSUFTIiwia2V5Q29kZXMiLCJvbktleUNoYW5nZSIsIm9uQmx1ciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcm9wIiwia2V5Q29kZSIsImtleURlc2MiLCJzcGxpdCIsInByZXNzZWQiLCJ0b1VwcGVyQ2FzZSIsImNoYXJDb2RlQXQiLCJhbGlhc2VzIiwiYWxpYXNLZXlzIiwic2hpZnRLZXkiLCJjdHJsS2V5IiwiYWx0S2V5IiwibWV0YUtleSIsIm1vZHVsZSIsImV4cG9ydHMiLCJNT1VTRSIsIk9yYml0Q29uc3RyYWludCIsIm1pblpvb20iLCJtYXhab29tIiwidGhldGEiLCJwaGkiLCJxdWF0IiwicXVhdEludmVyc2UiLCJsYXN0UG9zaXRpb24iLCJsYXN0UXVhdGVybmlvbiIsIkVQUyIsInBoaURlbHRhIiwidGhldGFEZWx0YSIsInBhbk9mZnNldCIsInpvb21DaGFuZ2VkIiwiZ2V0UG9sYXJBbmdsZSIsImdldEF6aW11dGhhbEFuZ2xlIiwicm90YXRlTGVmdCIsInJvdGF0ZVVwIiwicGFuTGVmdCIsInRlIiwiZWxlbWVudHMiLCJwYW5VcCIsInBhbiIsImRlbHRhWCIsImRlbHRhWSIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwidGFyZ2V0RGlzdGFuY2UiLCJ0YW4iLCJkb2xseUluIiwiZG9sbHlTY2FsZSIsInpvb20iLCJkb2xseU91dCIsIlF1YXRlcm5pb24iLCJzZXRGcm9tVW5pdFZlY3RvcnMiLCJ1cCIsImludmVyc2UiLCJhcHBseVF1YXRlcm5pb24iLCJhdGFuMiIsInNxcnQiLCJzaW4iLCJjb3MiLCJkaXN0YW5jZVRvU3F1YXJlZCIsImNvbnN0cmFpbnQiLCJkZWZpbmVQcm9wZXJ0eSIsImVuYWJsZVBhbiIsImtleVBhblNwZWVkIiwiZW5hYmxlS2V5cyIsIkxFRlQiLCJVUCIsIlJJR0hUIiwiQk9UVE9NIiwibW91c2VCdXR0b25zIiwiT1JCSVQiLCJaT09NIiwiTUlERExFIiwiUEFOIiwicm90YXRlU3RhcnQiLCJyb3RhdGVFbmQiLCJyb3RhdGVEZWx0YSIsInBhblN0YXJ0IiwicGFuRW5kIiwicGFuRGVsdGEiLCJkb2xseVN0YXJ0IiwiZG9sbHlFbmQiLCJkb2xseURlbHRhIiwiU1RBVEUiLCJzdGF0ZSIsInRhcmdldDAiLCJwb3NpdGlvbjAiLCJ6b29tMCIsImNoYW5nZUV2ZW50Iiwic3RhcnRFdmVudCIsImVuZEV2ZW50IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRab29tU2NhbGUiLCJvbk1vdXNlRG93biIsImJ1dHRvbiIsImNsaWVudFgiLCJjbGllbnRZIiwib25Nb3VzZVVwIiwiZGlzcGF0Y2hFdmVudCIsInN1YlZlY3RvcnMiLCJvbk1vdXNlV2hlZWwiLCJzdG9wUHJvcGFnYXRpb24iLCJkZWx0YSIsIndoZWVsRGVsdGEiLCJkZXRhaWwiLCJvbktleURvd24iLCJ0b3VjaHN0YXJ0IiwidG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJkeCIsImR5IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJjb250ZXh0bWVudSIsInJlc2V0IiwiRXZlbnREaXNwYXRjaGVyIiwibm9ab29tIiwibm9Sb3RhdGUiLCJub1BhbiIsIm5vS2V5cyIsInN0YXRpY01vdmluZyIsImR5bmFtaWNEYW1waW5nRmFjdG9yIiwiUGVlckNvbm5lY3Rpb24iLCJwZWVyQ29ubmVjdGlvbkNvbmZpZyIsInJ0Y1BlZXJDb25uZWN0aW9uIiwiZGF0YUNoYW5uZWxzIiwibG9jYXRpb24iLCJob3N0bmFtZSIsIlJUQ1BlZXJDb25uZWN0aW9uIiwibWVzc2FnZSIsImFsZXJ0IiwiY2hhbm5lbE5hbWUiLCJjcmVhdGVEYXRhQ2hhbm5lbCIsIm9yZGVyZWQiLCJyb29tIiwiVmlkZW9DYWxsIiwibG9jYWxTdHJlYW0iLCJyZW1vdGVTdHJlYW0iLCJwZWVyQ29ubmVjdGlvbiIsImlzQ2hhbm5lbFJlYWR5IiwiaXNTdGFydGVkIiwicm9vbU5hbWUiLCJwcm9tcHQiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJzZW5kU2lnbmFsaW5nTWVzc2FnZSIsImVtaXQiLCJvbiIsIm1heWJlU3RhcnQiLCJzZXRSZW1vdGVEZXNjcmlwdGlvbiIsImNyZWF0ZUFuc3dlciIsInNldExvY2FsQW5kU2VuZE1lc3NhZ2UiLCJvbkNyZWF0ZVNlc3Npb25EZXNjcmlwdGlvbkVycm9yIiwiUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIiwiY2FuZGlkYXRlIiwiUlRDSWNlQ2FuZGlkYXRlIiwic2RwTUxpbmVJbmRleCIsImxhYmVsIiwiYWRkSWNlQ2FuZGlkYXRlIiwic3RvcCIsImxvY2FsVmlkZW8iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJ2aWRlbyIsImF1ZGlvIiwic3RyZWFtIiwic3JjT2JqZWN0IiwiaW5pdFBlZXJDb25uZWN0aW9uIiwiZ2V0VHJhY2tzIiwiYWRkVHJhY2siLCJvbm1lc3NhZ2UiLCJoYW5kbGVSZWNlaXZlTWVzc2FnZSIsIm9uZXJyb3IiLCJoYW5kbGVEYXRhQ2hhbm5lbEVycm9yIiwib25vcGVuIiwiaGFuZGxlRGF0YUNoYW5uZWxTdGF0dXNDaGFuZ2UiLCJvbmNsb3NlIiwiY3JlYXRlT2ZmZXIiLCJoYW5kbGVDcmVhdGVPZmZlckVycm9yIiwib25wYWdlaGlkZSIsImV2ZW50TmFtZSIsInVzZXJBZ2VudCIsIm1hdGNoIiwibWF4VG91Y2hQb2ludHMiLCJvbmljZWNhbmRpZGF0ZSIsImhhbmRsZUljZUNhbmRpZGF0ZSIsIm9udHJhY2siLCJoYW5kbGVUcmFja0FkZGVkIiwib25kYXRhY2hhbm5lbCIsImhhbmRsZURhdGFDaGFubmVsQWRkZWQiLCJzZHBNaWQiLCJzdHJlYW1zIiwiTWVkaWFTdHJlYW0iLCJhdXRvcGxheSIsInNlc3Npb25EZXNjcmlwdGlvbiIsInNldExvY2FsRGVzY3JpcHRpb24iLCJ0b1N0cmluZyIsImNsb3NlIiwicGF1c2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZWFkeVN0YXRlIl0sIm1hcHBpbmdzIjoiO3FjQWVJQSxRQUFRQyxJQUFJLDJDQUVaQyxpQkFBZSxFQWdCbkIsV0FFSSxHQUFJQyxnQkFFRyxDQUNlQyxTQUFTQyxlQUFlLGlCQUUxQ0MsZUFBVUMsb0JBSlZKLCtCQWZSSyxJLHdWQ2hCcUJDLEUsV0FDbkIsV0FBWUMsR0FBVSxZLDRGQUFBLFNBQ3BCLElBQU1DLEVBQVFELEVBQVNFLFdBQVdELE1BQzVCRSxFQUFTSCxFQUFTRSxXQUFXQyxPQUduQ0MsS0FBS0MsWUFBYyxJQUFJQyxvQkFBd0JkLHFCQUFtQlMsRUFBUUUsRUFBUVgsc0JBQW9CQSxzQkFDdEdZLEtBQUtDLFlBQVlFLFNBQVNDLElBQUloQixzQkFBb0JBLHNCQUFvQkEsdUJBR3RFWSxLQUFLSyxXQUFXVCxHQUdoQlUsT0FBT0MsaUJBQWlCLFVBQVUsa0JBQU0sRUFBS0YsV0FBV1QsTUFBVyxHLGlEQUdyRSxTQUFXQSxHQUVUSSxLQUFLQyxZQUFZTyxPQUFTWixFQUFTRSxXQUFXRCxNQUFRRCxFQUFTRSxXQUFXQyxPQUcxRUMsS0FBS0MsWUFBWVEsOEIsMmFDcEJBQyxFLFdBQ25CLFdBQVlDLEVBQVFDLEksNEZBQVcsU0FFN0IsSUFBTUMsRUFBZ0IsSUFBSUMsSUFBSixDQUFrQlosR0FDeENGLEtBQUtlLGNBQWdCLElBQUlGLEVBQWNGLEVBQVFDLEdBRS9DWixLQUFLZ0IsTywyQ0FHUCxXQUNFaEIsS0FBS2UsY0FBY0UsT0FBT2IsSUFBSWhCLDRCQUEwQkEsNEJBQTBCQSw2QkFDbEZZLEtBQUtlLGNBQWNHLFdBQWE5Qiw4QkFDaENZLEtBQUtlLGNBQWNJLGdCQUFrQi9CLG1DQUNyQ1ksS0FBS2UsY0FBY0ssWUFBY2hDLCtCQUNqQ1ksS0FBS2UsY0FBY00sVUFBWWpDLDZCQUMvQlksS0FBS2UsY0FBY08sWUFBY2xDLCtCQUNqQ1ksS0FBS2UsY0FBY1EsWUFBY25DLCtCQUNqQ1ksS0FB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dUI3c0MsR0FDNUJySCxRQUFRQyxJQUFJLDhCQUNadU4sRUFBY25HLEVBQU00dkIsU0FDUjhiLFVBQVlDLEVBQ3hCeGxDLEVBQVl5bEMsUUFBVSxTQUFVbCtCLEdBQzVCL1UsUUFBUUMsSUFBSSxzQkFBdUI4VSxJQUV2Q3ZILEVBQVkybEMsT0FBU0MsRUFDckI1bEMsRUFBWTZsQyxRQUFVRCxFQUN0QnB6QyxRQUFRQyxJQUFJLG1DQUdoQixTQUFTK3lDLEVBQXFCM3JDLElBQzFCNEMseUJBQW9CNUMsRUFBTTZDLE1BRzlCLFNBQVNncEMsRUFBdUJuK0IsR0FDNUIvVSxRQUFRQyxJQUFJLHNCQUF1QjhVLEdBR3ZDLFNBQVNxK0IsRUFBOEIvckMsR0FDL0JtRyxJQUdjLFNBRkZBLEVBQVlxbkMsV0FHcEI3MEMsUUFBUUMsSUFBSSw0QkFFWkQsUUFBUUMsSUFBSSxrQyIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImNvcmUtanMvc3RhYmxlXCI7XHJcbmltcG9ydCBcInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZVwiO1xyXG5cclxuaW1wb3J0IENvbmZpZyBmcm9tICcuL2RhdGEvY29uZmlnJztcclxuaW1wb3J0IERldGVjdG9yIGZyb20gJy4vdXRpbHMvZGV0ZWN0b3InO1xyXG5pbXBvcnQgR2FtZVNjZW5lIGZyb20gJy4vYXBwL2dhbWVTY2VuZSc7XHJcbmltcG9ydCBWaWRlb0NhbGwsIHtpc0luaXRpYXRvcn0gZnJvbSAnLi93ZWJydGMvdmlkZW9DYWxsJztcclxuaW1wb3J0IHtzdGFydEdhbWV9IGZyb20gJy4vYXBwL2dhbWUnO1xyXG5cclxuLy8gU3R5bGVzXHJcbmltcG9ydCAnLi8uLi9jc3MvYXBwLnNjc3MnO1xyXG5cclxubGV0IHZpZGVvQ2FsbDtcclxuLy8gQ2hlY2sgZW52aXJvbm1lbnQgYW5kIHNldCB0aGUgQ29uZmlnIGhlbHBlclxyXG5pZihfX0VOVl9fID09PSAnZGV2Jykge1xyXG4gICAgY29uc29sZS5sb2coJy0tLS0tIFJVTk5JTkcgSU4gREVWIEVOVklST05NRU5UISAtLS0tLScpO1xyXG5cclxuICAgIENvbmZpZy5pc0RldiA9IHRydWU7XHJcbn1cclxuXHJcbmluaXRWaWRlb0NoYXQoKVxyXG5pbml0R2FtZSgpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGluaXRWaWRlb0NoYXQoKSB7XHJcbiAgICBpZihfX0VOVl9fICE9PSAnZGV2Jykge1xyXG4gICAgICAgIHZpZGVvQ2FsbCA9IG5ldyBWaWRlb0NhbGwoKTtcclxuICAgICAgICAvLyBUT0RPIGdldCBpc0luaXRpYXRvciBmcm9tIFZpZGVvQ2FsbCBzb21laG93Li4uXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gaW5pdEdhbWUoKSB7XHJcbiAgICAvLyBDaGVjayBmb3Igd2ViR0wgY2FwYWJpbGl0aWVzXHJcbiAgICBpZighRGV0ZWN0b3Iud2ViZ2wpIHtcclxuICAgICAgICBEZXRlY3Rvci5hZGRHZXRXZWJHTE1lc3NhZ2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcENvbnRhaW5lcicpO1xyXG4gICAgICAgIC8vIG5ldyBHYW1lU2NlbmUoY29udGFpbmVyKTtcclxuICAgICAgICBzdGFydEdhbWUoaXNJbml0aWF0b3IpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xyXG5cclxuLy8gQ2xhc3MgdGhhdCBjcmVhdGVzIGFuZCB1cGRhdGVzIHRoZSBtYWluIGNhbWVyYVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xyXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XHJcbiAgICBjb25zdCB3aWR0aCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSByZW5kZXJlci5kb21FbGVtZW50LmhlaWdodDtcclxuXHJcbiAgICAvLyBDcmVhdGUgYW5kIHBvc2l0aW9uIGEgUGVyc3BlY3RpdmUgQ2FtZXJhXHJcbiAgICB0aGlzLnRocmVlQ2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKENvbmZpZy5jYW1lcmEuZm92LCB3aWR0aCAvIGhlaWdodCwgQ29uZmlnLmNhbWVyYS5uZWFyLCBDb25maWcuY2FtZXJhLmZhcik7XHJcbiAgICB0aGlzLnRocmVlQ2FtZXJhLnBvc2l0aW9uLnNldChDb25maWcuY2FtZXJhLnBvc1gsIENvbmZpZy5jYW1lcmEucG9zWSwgQ29uZmlnLmNhbWVyYS5wb3NaKTtcclxuXHJcbiAgICAvLyBJbml0aWFsIHNpemluZ1xyXG4gICAgdGhpcy51cGRhdGVTaXplKHJlbmRlcmVyKTtcclxuICAgIFxyXG4gICAgLy8gTGlzdGVuZXJzXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy51cGRhdGVTaXplKHJlbmRlcmVyKSwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2l6ZShyZW5kZXJlcikge1xyXG4gICAgLy8gVXBkYXRlIGNhbWVyYSBhc3BlY3QgcmF0aW8gd2l0aCB3aW5kb3cgYXNwZWN0IHJhdGlvXHJcbiAgICB0aGlzLnRocmVlQ2FtZXJhLmFzcGVjdCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQud2lkdGggLyByZW5kZXJlci5kb21FbGVtZW50LmhlaWdodDtcclxuXHJcbiAgICAvLyBBbHdheXMgY2FsbCB1cGRhdGVQcm9qZWN0aW9uTWF0cml4IG9uIGNhbWVyYSBjaGFuZ2VcclxuICAgIHRoaXMudGhyZWVDYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5pbXBvcnQgT3JiaXRDb250cm9scyBmcm9tICcuLi8uLi91dGlscy9vcmJpdENvbnRyb2xzJztcclxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XHJcblxyXG4vLyBDb250cm9scyBiYXNlZCBvbiBvcmJpdCBjb250cm9sc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9scyB7XHJcbiAgY29uc3RydWN0b3IoY2FtZXJhLCBjb250YWluZXIpIHtcclxuICAgIC8vIE9yYml0IGNvbnRyb2xzIGZpcnN0IG5lZWRzIHRvIHBhc3MgaW4gVEhSRUUgdG8gY29uc3RydWN0b3JcclxuICAgIGNvbnN0IG9yYml0Q29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyhUSFJFRSk7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMgPSBuZXcgb3JiaXRDb250cm9scyhjYW1lcmEsIGNvbnRhaW5lcik7XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLnRhcmdldC5zZXQoQ29uZmlnLmNvbnRyb2xzLnRhcmdldC54LCBDb25maWcuY29udHJvbHMudGFyZ2V0LnksIENvbmZpZy5jb250cm9scy50YXJnZXQueik7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuYXV0b1JvdGF0ZSA9IENvbmZpZy5jb250cm9scy5hdXRvUm90YXRlO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLmF1dG9Sb3RhdGVTcGVlZCA9IENvbmZpZy5jb250cm9scy5hdXRvUm90YXRlU3BlZWQ7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMucm90YXRlU3BlZWQgPSBDb25maWcuY29udHJvbHMucm90YXRlU3BlZWQ7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuem9vbVNwZWVkID0gQ29uZmlnLmNvbnRyb2xzLnpvb21TcGVlZDtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5taW5EaXN0YW5jZSA9IENvbmZpZy5jb250cm9scy5taW5EaXN0YW5jZTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5tYXhEaXN0YW5jZSA9IENvbmZpZy5jb250cm9scy5tYXhEaXN0YW5jZTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5taW5Qb2xhckFuZ2xlID0gQ29uZmlnLmNvbnRyb2xzLm1pblBvbGFyQW5nbGU7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMubWF4UG9sYXJBbmdsZSA9IENvbmZpZy5jb250cm9scy5tYXhQb2xhckFuZ2xlO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLmVuYWJsZURhbXBpbmcgPSBDb25maWcuY29udHJvbHMuZW5hYmxlRGFtcGluZztcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5lbmFibGVab29tID0gQ29uZmlnLmNvbnRyb2xzLmVuYWJsZVpvb207XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuZGFtcGluZ0ZhY3RvciA9IENvbmZpZy5jb250cm9scy5kYW1waW5nRmFjdG9yO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5pbXBvcnQgTWF0ZXJpYWwgZnJvbSAnLi9tYXRlcmlhbCc7XHJcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xyXG5cclxuLy8gVGhpcyBoZWxwZXIgY2xhc3MgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuZCB0aGVuIHBsYWNlIGdlb21ldHJ5IGluIHRoZSBzY2VuZVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW9tZXRyeSB7XHJcbiAgY29uc3RydWN0b3Ioc2NlbmUpIHtcclxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgIHRoaXMuZ2VvID0gbnVsbDtcclxuICB9XHJcblxyXG4gIG1ha2UodHlwZSkge1xyXG4gICAgaWYodHlwZSA9PT0gJ3BsYW5lJykge1xyXG4gICAgICByZXR1cm4gKHdpZHRoLCBoZWlnaHQsIHdpZHRoU2VnbWVudHMgPSAxLCBoZWlnaHRTZWdtZW50cyA9IDEpID0+IHtcclxuICAgICAgICB0aGlzLmdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KHdpZHRoLCBoZWlnaHQsIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0eXBlID09PSAnc3BoZXJlJykge1xyXG4gICAgICByZXR1cm4gKHJhZGl1cywgd2lkdGhTZWdtZW50cyA9IDMyLCBoZWlnaHRTZWdtZW50cyA9IDMyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5nZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkocmFkaXVzLCB3aWR0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cyk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwbGFjZShwb3NpdGlvbiwgcm90YXRpb24pIHtcclxuICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKDB4ZWVlZWVlKS5zdGFuZGFyZDtcclxuICAgIGNvbnN0IG1lc2ggPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlbywgbWF0ZXJpYWwpO1xyXG5cclxuICAgIC8vIFVzZSBFUzYgc3ByZWFkIHRvIHNldCBwb3NpdGlvbiBhbmQgcm90YXRpb24gZnJvbSBwYXNzZWQgaW4gYXJyYXlcclxuICAgIG1lc2gucG9zaXRpb24uc2V0KC4uLnBvc2l0aW9uKTtcclxuICAgIG1lc2gucm90YXRpb24uc2V0KC4uLnJvdGF0aW9uKTtcclxuXHJcbiAgICBpZihDb25maWcuc2hhZG93LmVuYWJsZWQpIHtcclxuICAgICAgbWVzaC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNjZW5lLmFkZChtZXNoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XHJcblxyXG4vLyBTZXRzIHVwIGFuZCBwbGFjZXMgYWxsIGxpZ2h0cyBpbiBzY2VuZVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWdodCB7XHJcbiAgY29uc3RydWN0b3Ioc2NlbmUpIHtcclxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuXHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAvLyBBbWJpZW50XHJcbiAgICB0aGlzLmFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoQ29uZmlnLmFtYmllbnRMaWdodC5jb2xvcik7XHJcbiAgICB0aGlzLmFtYmllbnRMaWdodC52aXNpYmxlID0gQ29uZmlnLmFtYmllbnRMaWdodC5lbmFibGVkO1xyXG5cclxuICAgIC8vIFBvaW50IGxpZ2h0XHJcbiAgICB0aGlzLnBvaW50TGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodChDb25maWcucG9pbnRMaWdodC5jb2xvciwgQ29uZmlnLnBvaW50TGlnaHQuaW50ZW5zaXR5LCBDb25maWcucG9pbnRMaWdodC5kaXN0YW5jZSk7XHJcbiAgICB0aGlzLnBvaW50TGlnaHQucG9zaXRpb24uc2V0KENvbmZpZy5wb2ludExpZ2h0LngsIENvbmZpZy5wb2ludExpZ2h0LnksIENvbmZpZy5wb2ludExpZ2h0LnopO1xyXG4gICAgdGhpcy5wb2ludExpZ2h0LnZpc2libGUgPSBDb25maWcucG9pbnRMaWdodC5lbmFibGVkO1xyXG5cclxuICAgIC8vIERpcmVjdGlvbmFsIGxpZ2h0XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodChDb25maWcuZGlyZWN0aW9uYWxMaWdodC5jb2xvciwgQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQuaW50ZW5zaXR5KTtcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5zZXQoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQueCwgQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQueSwgQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQueik7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQudmlzaWJsZSA9IENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LmVuYWJsZWQ7XHJcblxyXG4gICAgLy8gU2hhZG93IG1hcFxyXG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LmNhc3RTaGFkb3cgPSBDb25maWcuc2hhZG93LmVuYWJsZWQ7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmJpYXMgPSBDb25maWcuc2hhZG93LmJpYXM7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5uZWFyID0gQ29uZmlnLnNoYWRvdy5uZWFyO1xyXG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gQ29uZmlnLnNoYWRvdy5mYXI7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gQ29uZmlnLnNoYWRvdy5sZWZ0O1xyXG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEucmlnaHQgPSBDb25maWcuc2hhZG93LnJpZ2h0O1xyXG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEudG9wID0gQ29uZmlnLnNoYWRvdy50b3A7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5ib3R0b20gPSBDb25maWcuc2hhZG93LmJvdHRvbTtcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IENvbmZpZy5zaGFkb3cubWFwV2lkdGg7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gQ29uZmlnLnNoYWRvdy5tYXBIZWlnaHQ7XHJcblxyXG4gICAgLy8gU2hhZG93IGNhbWVyYSBoZWxwZXJcclxuICAgIGlmKENvbmZpZy5pc0Rldikge1xyXG4gICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhKTtcclxuICAgICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0SGVscGVyLnZpc2libGUgPSBDb25maWcuc2hhZG93LmhlbHBlckVuYWJsZWQ7XHJcbiAgICB9XHJcbiAgICAvLyBIZW1pc3BoZXJlIGxpZ2h0XHJcbiAgICB0aGlzLmhlbWlMaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoQ29uZmlnLmhlbWlMaWdodC5jb2xvciwgQ29uZmlnLmhlbWlMaWdodC5ncm91bmRDb2xvciwgQ29uZmlnLmhlbWlMaWdodC5pbnRlbnNpdHkpO1xyXG4gICAgdGhpcy5oZW1pTGlnaHQucG9zaXRpb24uc2V0KENvbmZpZy5oZW1pTGlnaHQueCwgQ29uZmlnLmhlbWlMaWdodC55LCBDb25maWcuaGVtaUxpZ2h0LnopO1xyXG4gICAgdGhpcy5oZW1pTGlnaHQudmlzaWJsZSA9IENvbmZpZy5oZW1pTGlnaHQuZW5hYmxlZDtcclxuICB9XHJcblxyXG4gIHBsYWNlKGxpZ2h0TmFtZSkge1xyXG4gICAgc3dpdGNoKGxpZ2h0TmFtZSkge1xyXG4gICAgICBjYXNlICdhbWJpZW50JzpcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmFtYmllbnRMaWdodCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdkaXJlY3Rpb25hbCc6XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5kaXJlY3Rpb25hbExpZ2h0KTtcclxuICAgICAgICBpZihDb25maWcuaXNEZXYpIHtcclxuICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuZGlyZWN0aW9uYWxMaWdodEhlbHBlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAncG9pbnQnOlxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucG9pbnRMaWdodCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdoZW1pJzpcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmhlbWlMaWdodCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbi8vIFVTZSB0aGlzIGNsYXNzIGFzIGEgaGVscGVyIHRvIHNldCB1cCBzb21lIGRlZmF1bHQgbWF0ZXJpYWxzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdGVyaWFsIHtcclxuICBjb25zdHJ1Y3Rvcihjb2xvcikge1xyXG4gICAgdGhpcy5iYXNpYyA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgIGNvbG9yLFxyXG4gICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnN0YW5kYXJkID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgY29sb3IsXHJcbiAgICAgIHNoYWRpbmc6IFRIUkVFLkZsYXRTaGFkaW5nLFxyXG4gICAgICByb3VnaG5lc3M6IDEsXHJcbiAgICAgIG1ldGFsbmVzczogMCxcclxuICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy53aXJlID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHt3aXJlZnJhbWU6IHRydWV9KTtcclxuICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xyXG5cclxuLy8gTWFpbiB3ZWJHTCByZW5kZXJlciBjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XHJcbiAgY29uc3RydWN0b3Ioc2NlbmUsIGNvbnRhaW5lcikge1xyXG4gICAgLy8gUHJvcGVydGllc1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcblxyXG4gICAgLy8gQ3JlYXRlIFdlYkdMIHJlbmRlcmVyIGFuZCBzZXQgaXRzIGFudGlhbGlhc1xyXG4gICAgdGhpcy50aHJlZVJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xyXG4gICAgICBhbnRpYWxpYXM6IHRydWUsXHJcbiAgICAgIGFscGhhOiB0cnVlXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTZXQgY2xlYXIgY29sb3IgdG8gZm9nIHRvIGVuYWJsZSBmb2cgb3IgdG8gaGV4IGNvbG9yIGZvciBubyBmb2dcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRDbGVhckNvbG9yKHNjZW5lLmZvZy5jb2xvcik7XHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7IC8vIEZvciByZXRpbmFcclxuXHJcbiAgICAvLyBBcHBlbmRzIGNhbnZhc1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGhyZWVSZW5kZXJlci5kb21FbGVtZW50KTtcclxuXHJcbiAgICAvLyBTaGFkb3cgbWFwIG9wdGlvbnNcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xyXG5cclxuICAgIC8vIEdldCBhbmlzb3Ryb3B5IGZvciB0ZXh0dXJlc1xyXG4gICAgQ29uZmlnLm1heEFuaXNvdHJvcHkgPSB0aGlzLnRocmVlUmVuZGVyZXIuY2FwYWJpbGl0aWVzLmdldE1heEFuaXNvdHJvcHkoKTtcclxuXHJcbiAgICAvLyBJbml0aWFsIHNpemUgdXBkYXRlIHNldCB0byBjYW52YXMgY29udGFpbmVyXHJcbiAgICB0aGlzLnVwZGF0ZVNpemUoKTtcclxuXHJcbiAgICAvLyBMaXN0ZW5lcnNcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB0aGlzLnVwZGF0ZVNpemUoKSwgZmFsc2UpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMudXBkYXRlU2l6ZSgpLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTaXplKCkge1xyXG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldFNpemUodGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoc2NlbmUsIGNhbWVyYSkge1xyXG4gICAgLy8gUmVuZGVycyBzY2VuZSB0byBjYW52YXMgdGFyZ2V0XHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCBUV0VFTiBmcm9tICdAdHdlZW5qcy90d2Vlbi5qcyc7XHJcbmltcG9ydCB7R0xURkxvYWRlcn0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlcic7XHJcbmltcG9ydCB7RHJhZ0NvbnRyb2xzfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvRHJhZ0NvbnRyb2xzJ1xyXG5pbXBvcnQge09yYml0Q29udHJvbHN9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJztcclxuaW1wb3J0IHtHYW1lQ29udHJvbGxlcn0gZnJvbSAnLi9nYW1lL2dhbWVDb250cm9sbGVyLmpzJztcclxuXHJcbmltcG9ydCB7aW5pdFNjZW5lLCBpbml0Q2FtZXJhfSBmcm9tICcuL2dhbWUvc2NlbmUnO1xyXG5cclxuZXhwb3J0IHtzdGFydEdhbWUsIGdldFNjZW5lSlNPTiwgdXBkYXRlUmVtb3RlT2JqZWN0cywgbW92ZVJlbW90ZVZpZGVvVG9TY2VuZX07XHJcblxyXG5jb25zdCBnYW1lQ29udHJvbGxlciA9IEdhbWVDb250cm9sbGVyKCk7XHJcblxyXG4vLyBhbiBhcnJheSBvZiBvYmplY3RzIHRvIHN5bmNcclxuY29uc3Qgb2JqZWN0c1RvU3luYyA9IG5ldyBNYXAoKTtcclxuXHJcbmNvbnN0IHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xyXG4gICAgYWxwaGE6IHRydWVcclxufSk7XHJcblxyXG5sZXQgbG9jYWxTY2VuZTtcclxubGV0IGxvY2FsQ2FtZXJhO1xyXG5cclxubGV0IGRyYWdDb250cm9sO1xyXG5sZXQgZHJhZ2dhYmxlT2JqZWN0c1NlbGxlciA9IFtdO1xyXG5cclxubGV0IGN1YmUsIGN1YmUyLCBjdWJlMztcclxubGV0IGlzU2VsbGVyID0gZmFsc2U7XHJcblxyXG5sZXQgZHVja01lc2g7XHJcbi8vIGxldCBvcmJpdENvbnRyb2xzO1xyXG5cclxuZnVuY3Rpb24gc3RhcnRHYW1lKGlzSW5pdGlhdG9yKSB7XHJcbiAgICBpc1NlbGxlciA9IGlzSW5pdGlhdG9yO1xyXG4gICAgY29uc29sZS5sb2coXCJTdGFydGVkIGdhbWUgd2l0aCBpc0luaXRpYXRvciA9IFwiICsgaXNJbml0aWF0b3IpO1xyXG4gICAgaW5pdCgpO1xyXG4gICAgaW5pdDNET2JqZWN0cygpO1xyXG4gICAgYWN0aXZhdGVEcmFnQ29udHJvbHMoKTtcclxuICAgIGFuaW1hdGUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdCgpIHtcclxuXHJcbiAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyApO1xyXG4gICAgcmVuZGVyZXIuc2V0U2l6ZSggd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCApO1xyXG4gICAgcmVuZGVyZXIuYXV0b0NsZWFyID0gZmFsc2U7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcENvbnRhaW5lclwiKS5hcHBlbmRDaGlsZCggcmVuZGVyZXIuZG9tRWxlbWVudCApO1xyXG5cclxuICAgIGxvY2FsU2NlbmUgPSBpbml0U2NlbmUoKTtcclxuICAgIGxvY2FsQ2FtZXJhID0gIGluaXRDYW1lcmEoaXNTZWxsZXIpO1xyXG5cclxuICAgIC8vIG9yYml0Q29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyggbG9jYWxDYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQgKTtcclxuXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXQzRE9iamVjdHMoKSB7XHJcbiAgICBjb25zdCBsb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xyXG4gICAgbGV0IGxvYWRlZERhdGEgPSBhd2FpdCBsb2FkZXIubG9hZEFzeW5jKCdhc3NldHMvbW9kZWxzL2R1Y2suZ2x0ZicpO1xyXG4gICAgbG9hZGVkRGF0YS5zY2VuZS50cmF2ZXJzZSgobykgPT4ge1xyXG4gICAgICAgIGlmIChvLmlzTWVzaCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmRpcignTG9hZGVkIGRhdGE6ICcgKyBKU09OLnN0cmluZ2lmeShvKSk7XHJcbiAgICAgICAgICAgIGR1Y2tNZXNoID0gbmV3IFRIUkVFLk1lc2goKTtcclxuICAgICAgICAgICAgby5zY2FsZS5zZXQoMC4wMSwwLjAxLDAuMDEpO1xyXG5cclxuICAgICAgICAgICAgZHVja01lc2ggPSBvO1xyXG4gICAgICAgICAgICBsZXQgZHJhZ28gPSBuZXcgRHJhZ0NvbnRyb2xzKCBbZHVja01lc2hdLCBsb2NhbENhbWVyYSwgcmVuZGVyZXIuZG9tRWxlbWVudCApO1xyXG4gICAgICAgICAgICBkcmFnby5hZGRFdmVudExpc3RlbmVyKCAnZHJhZycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lQ29udHJvbGxlci5zZW5kR2FtZW9iamVjdFVwZGF0ZShnZXRPYmpKU09OKGV2ZW50Lm9iamVjdCkpO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyKCk7XHJcbiAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChpc1NlbGxlcikgeyBcclxuICAgICAgICAvLyBpbml0IHNlbGxlciBzcGVjaWZpYyBpdGVtcyBpbiBsb2NhbCBzY2VuZVxyXG5cclxuICAgICAgICBsZXQgZHVja01lc2gxID0gZHVja01lc2guY2xvbmUoKTtcclxuICAgICAgICBkdWNrTWVzaDEubmFtZSA9IFwiZHVja01lc2gxXCI7XHJcbiAgICAgICAgbG9jYWxTY2VuZS5hZGQoZHVja01lc2gxKTtcclxuICAgICAgICBkdWNrTWVzaDEucG9zaXRpb24uc2V0KDAsIC00LCAwKTtcclxuICAgICAgICBvYmplY3RzVG9TeW5jLnNldChkdWNrTWVzaDEubmFtZSwgZHVja01lc2gxKTtcclxuICAgICAgICBhZGRPYmplY3RUb0RyYWdDb25yb2xzKGR1Y2tNZXNoMSk7XHJcblxyXG4gICAgICAgIGxldCBkdWNrTWVzaDIgPSBkdWNrTWVzaC5jbG9uZSgpO1xyXG4gICAgICAgIGR1Y2tNZXNoMi5uYW1lID0gXCJkdWNrTWVzaDJcIjtcclxuICAgICAgICBkdWNrTWVzaDIucG9zaXRpb24uc2V0KDEsIC00LCAwKTtcclxuICAgICAgICBsb2NhbFNjZW5lLmFkZChkdWNrTWVzaDIpO1xyXG4gICAgICAgIG9iamVjdHNUb1N5bmMuc2V0KGR1Y2tNZXNoMi5uYW1lLCBkdWNrTWVzaDIpO1xyXG4gICAgICAgIGFkZE9iamVjdFRvRHJhZ0NvbnJvbHMoZHVja01lc2gyKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGluaXQgYnV5ZXIgc3BlY2lmaWMgaXRlbXMgaW4gbG9jYWwgc2NlbmVcclxuXHJcbiAgICAgICAgbGV0IGR1Y2tNZXNoMyA9IGR1Y2tNZXNoLmNsb25lKCk7XHJcbiAgICAgICAgZHVja01lc2gzLm5hbWUgPSBcImR1Y2tNZXNoM1wiO1xyXG4gICAgICAgIGR1Y2tNZXNoMy5wb3NpdGlvbi5zZXQoLTEsIC00LCAwKTtcclxuICAgICAgICBsb2NhbFNjZW5lLmFkZChkdWNrTWVzaDMpO1xyXG4gICAgICAgIG9iamVjdHNUb1N5bmMuc2V0KGR1Y2tNZXNoMy5uYW1lLCBkdWNrTWVzaDMpO1xyXG4gICAgICAgIGFkZE9iamVjdFRvRHJhZ0NvbnJvbHMoZHVja01lc2gzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICBcclxuICAgIHJlbmRlcmVyLm91dHB1dEVuY29kaW5nID0gVEhSRUUuc1JHQkVuY29kaW5nO1xyXG5cclxuICAgIFxyXG5cclxuICAgIC8vIGluaXQgc3RhdGljIHN0dWZmIGZvciBib3RoIChlZy4gY291bnRlciwgZXRjKVxyXG4gICAgLy8gbG9hZDNkQXNzZXQobG9hZGVyLCAnLi4vLi4vYXNzZXRzL2Ficmljb3QuZ2x0ZicsIG5ldyBUSFJFRS5WZWN0b3IzKDAuMiwgMC4yLCAwLjIpLCAnYXByaWNvdFRlbXBsYXRlJywgcGVyc29uYWxTcGFjZSk7XHJcbiAgICAvLyBsb2FkM2RBc3NldChsb2FkZXIsICcuLi8uLi9hc3NldHMvYmFuYW5hLmdsYicsIG5ldyBUSFJFRS5WZWN0b3IzKDAuMiwgMC4yLCAwLjIpLCAnYmFuYW5hVGVtcGxhdGUnLCBwZXJzb25hbFNwYWNlKTtcclxuICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoIDQsIDgvMyApO1xyXG4gICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHtjb2xvcjogMHg4QjQ1MTMsIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGV9ICk7XHJcbiAgICBjb25zdCBwbGFuZSA9IG5ldyBUSFJFRS5NZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcclxuICAgIHBsYW5lLnBvc2l0aW9uLnkgPSAtMjtcclxuICAgIHBsYW5lLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcclxuICAgIGxvY2FsU2NlbmUuYWRkKCBwbGFuZSApO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gbW92ZVJlbW90ZVZpZGVvVG9TY2VuZSgpIHtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tbW92ZVJlbW90ZVZpZGVvVG9TY2VuZS0tLS0tLS0tLS0tLS1cIik7XHJcbiAgICAgICAgY29uc3QgcmVtb3RlVmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbW90ZVZpZGVvXCIpO1xyXG4gICAgICAgIGNvbnN0IHJlb21vdGVWaWRlb0FzcGVjdFJhdGlvID0gcmVtb3RlVmlkZW8ub2Zmc2V0V2lkdGgvcmVtb3RlVmlkZW8ub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlbW90ZVZpZGVvKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIndpZHRoOiBcIiArIHJlbW90ZVZpZGVvLm9mZnNldFdpZHRoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImhlaWdodDogXCIgKyByZW1vdGVWaWRlby5vZmZzZXRIZWlnaHQpO1xyXG5cclxuICAgICAgICBjb25zdCB2aWRlb0dlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoIDQsIDQvcmVvbW90ZVZpZGVvQXNwZWN0UmF0aW8gKTtcclxuICAgICAgICBjb25zdCB2aWRlb01hdGVyaWFsID0gbWFrZVZpZGVvTWF0ZXJpYWwoXCJyZW1vdGVWaWRlb1wiKTtcclxuICAgICAgICBjb25zdCBjdWJlMiA9IG5ldyBUSFJFRS5NZXNoKCB2aWRlb0dlb21ldHJ5LCB2aWRlb01hdGVyaWFsICk7XHJcbiAgICAgICAgbG9jYWxTY2VuZS5hZGQoIGN1YmUyICk7XHJcbiAgICB9LCAxMDAwICk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBhY3RpdmF0ZURyYWdDb250cm9scygpIHtcclxuXHJcbiAgICBcclxuICAgIGRyYWdDb250cm9sID0gbmV3IERyYWdDb250cm9scyggWyAuLi5kcmFnZ2FibGVPYmplY3RzU2VsbGVyIF0sIGxvY2FsQ2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50ICk7XHJcbiAgICAvL2RyYWdDb250cm9sLnRyYW5zZm9yR3JvdXAgPSB0cnVlO1xyXG4gICAgZHJhZ0NvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lciggJ2RyYWcnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGdhbWVDb250cm9sbGVyLnNlbmRHYW1lb2JqZWN0VXBkYXRlKGdldE9iakpTT04oZXZlbnQub2JqZWN0KSk7XHJcbiAgICAgICAgcmVuZGVyKCk7XHJcbiAgICB9ICk7XHJcbiAgIFxyXG4gICAgLy8gZHJhZ0NvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAvLyAgICAgaWYoZXZlbnQub2JqZWN0LnBvc2l0aW9uLnkgPiAtMS41KSB7XHJcblxyXG4gICAgLy8gICAgICAgICBsZXQgdGVtcCA9IGV2ZW50Lm9iamVjdC5jbG9uZSgpO1xyXG4gICAgLy8gICAgICAgICB0ZW1wLnBvc2l0aW9uLnNldChldmVudC5vYmplY3QucG9zaXRpb24ueCwgZXZlbnQub2JqZWN0LnBvc2l0aW9uLnksIGV2ZW50Lm9iamVjdC5wb3NpdGlvbi56KTtcclxuICAgIC8vICAgICAgICAgdGVtcC5uYW1lID0gdGVtcC51dWlkO1xyXG4gICAgLy8gICAgICAgICBwZXJzb25hbFNwYWNlLmFkZCh0ZW1wKTtcclxuICAgIC8vICAgICAgICAgb2JqZWN0c1RvU3luYy5zZXQodGVtcC5uYW1lLCB0ZW1wKTtcclxuICAgIC8vICAgICAgICAgYWRkT2JqZWN0VG9EcmFnQ29ucm9scyh0ZW1wKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZXZlbnQub2JqZWN0LnBvc2l0aW9uLnNldChldmVudC5vYmplY3Quc3RhcnRQb3NpdGlvbi54LCBldmVudC5vYmplY3Quc3RhcnRQb3NpdGlvbi55LCBldmVudC5vYmplY3Quc3RhcnRQb3NpdGlvbi56KTtcclxuICAgIC8vIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhbmltYXRlKCkge1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBhbmltYXRlICk7XHJcbiAgICAvL2N1YmUucm90YXRpb24ueSArPSAwLjAxO1xyXG4gICAgLy8gb3JiaXRDb250cm9scy51cGRhdGUoKTtcclxuICAgIHJlbmRlcmVyLnJlbmRlciggbG9jYWxTY2VuZSwgbG9jYWxDYW1lcmEgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0T2JqSlNPTihvYmplY3QpIHtcclxuICAgIGxldCBvYmogPSB7bmFtZTogb2JqZWN0Lm5hbWUsIHBvc2l0aW9uOiBvYmplY3QucG9zaXRpb24sIHJvdGF0aW9uOiBvYmplY3Qucm90YXRpb259O1xyXG4gICAgbGV0IGpzb24gPSBKU09OLnN0cmluZ2lmeShvYmopO1xyXG4gICAgY29uc29sZS5sb2coJ0pTT046JyArIGpzb24pXHJcbiAgICByZXR1cm4ganNvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U2NlbmVKU09OKCkge1xyXG4gICAgLy8gVE9ETyBidWlsZCBhbmQgcmV0dXJuIGEgSlNPTiBmcm9tIGFsbCBsb2NhbE9iamVjdHMsIG5vdCBvbmx5IGN1YmVcclxuICAgIGxldCBjdWJlT2JqID0ge3V1aWQ6IGN1YmUudXVpZCwgcG9zaXRpb246IGN1YmUucG9zaXRpb24sIHJvdGF0aW9uOiBjdWJlLnJvdGF0aW9ufTtcclxuICAgIC8vIGxldCBqc29uID0gSlNPTi5zdHJpbmdpZnkoY3ViZU9iaik7XHJcbiAgICBsZXQganNvbiA9IEpTT04uc3RyaW5naWZ5KGRyYWdnYWJsZU9iamVjdHNTZWxsZXIpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ0pTT046JyArIGpzb24pXHJcbiAgICByZXR1cm4ganNvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUmVtb3RlT2JqZWN0cyhkYXRhKSB7XHJcbiAgICBsZXQgb2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdQYXJzZWQgSlNPTiB1dWlkOiAnICsgb2JqLnV1aWQgKyAnLCBwb3NpdGlvbng6ICcgKyBvYmoucG9zaXRpb24ueCArICcsIHJvdGF0aW9ueDogJyArIG9iai5yb3RhdGlvbi5feCk7XHJcblxyXG4gICAgaWYob2JqZWN0c1RvU3luYy5oYXMob2JqLm5hbWUpKSB7XHJcbiAgICAgICAgbGV0IGxvY2FsRWxlbWVudCA9IGxvY2FsU2NlbmUuZ2V0T2JqZWN0QnlOYW1lKG9iai5uYW1lKTtcclxuXHJcbiAgICAgICAgbG9jYWxFbGVtZW50LnBvc2l0aW9uLnggPSBvYmoucG9zaXRpb24ueDtcclxuICAgICAgICBsb2NhbEVsZW1lbnQucG9zaXRpb24ueSA9IG9iai5wb3NpdGlvbi55O1xyXG4gICAgICAgIGxvY2FsRWxlbWVudC5wb3NpdGlvbi56ID0gb2JqLnBvc2l0aW9uLno7XHJcbiAgICAgICAgbG9jYWxFbGVtZW50LnJvdGF0aW9uLnggPSBvYmoucm90YXRpb24uX3g7XHJcbiAgICAgICAgbG9jYWxFbGVtZW50LnJvdGF0aW9uLnkgPSBvYmoucm90YXRpb24uX3k7XHJcbiAgICAgICAgbG9jYWxFbGVtZW50LnJvdGF0aW9uLnogPSBvYmoucm90YXRpb24uX3o7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNyZWF0ZXMgYW5kIGFkZCB0byBzY2VuZSBhbmQgb2JqZWN0c1RvU3luY1xyXG4gICAgICAgIGR1Y2tNZXNoLm5hbWUgPSBvYmoubmFtZTtcclxuICAgICAgICBkdWNrTWVzaC5wb3NpdGlvbi5zZXQob2JqLnBvc2l0aW9uLngsIG9iai5wb3NpdGlvbi55LCBvYmoucG9zaXRpb24ueik7XHJcbiAgICAgICAgbGV0IG5ld09iaiA9IGR1Y2tNZXNoLmNsb25lKCk7XHJcbiAgICAgICAgLy8gbGV0IG5ld09iaiA9IGluaXRDdWJlKERFRkFVTFRfVkFMVUVTLmdlb21ldHJ5Q3ViZSwgREVGQVVMVF9WQUxVRVMuY29sb3JSZWQsIG5ldyBUSFJFRS5WZWN0b3IzKG9iai5wb3NpdGlvbi54LCBvYmoucG9zaXRpb24ueSwgb2JqLnBvc2l0aW9uLnopLCB0cnVlLCBkcmFnZ2FibGVPYmplY3RzU2VsbGVyLCBwZXJzb25hbFNwYWNlKTtcclxuICAgICAgICBvYmplY3RzVG9TeW5jLnNldChuZXdPYmoubmFtZSwgbmV3T2JqKTtcclxuICAgICAgICAvLyBuZXdPYmoucG9zaXRpb24uc2V0KG9iai5wb3NpdGlvbi54LCBvYmoucG9zaXRpb24ueSwgb2JqLnBvc2l0aW9uLnopO1xyXG4gICAgICAgIGxvY2FsU2NlbmUuYWRkKG5ld09iaik7XHJcbiAgICAgICAgYWRkT2JqZWN0VG9EcmFnQ29ucm9scyhuZXdPYmopO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvL1RPT0QgbWF5YmUgdHdlZW4vaW50ZXJwb2xhdGUgYmV0d2VlbiBwb3NpdGlvbnNcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkT2JqZWN0VG9EcmFnQ29ucm9scyhvYmopIHtcclxuICAgIGRyYWdnYWJsZU9iamVjdHNTZWxsZXIucHVzaChvYmopO1xyXG4gICAgZHJhZ0NvbnRyb2wgPSBuZXcgRHJhZ0NvbnRyb2xzKFsuLi5kcmFnZ2FibGVPYmplY3RzU2VsbGVyXSwgbG9jYWxDYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWcnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGdhbWVDb250cm9sbGVyLnNlbmRHYW1lb2JqZWN0VXBkYXRlKGdldE9iakpTT04oZXZlbnQub2JqZWN0KSk7XHJcbiAgICAgICAgcmVuZGVyKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFrZVZpZGVvTWF0ZXJpYWwoaWQpIHtcclxuICAgIGxldCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICBsZXQgdmlkZW9UZXh0dXJlID0gbmV3IFRIUkVFLlZpZGVvVGV4dHVyZSh2aWRlb0VsZW1lbnQpO1xyXG4gIFxyXG4gICAgbGV0IHZpZGVvTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICBtYXA6IHZpZGVvVGV4dHVyZSxcclxuICAgICAgb3ZlcmRyYXc6IHRydWUsXHJcbiAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGUsXHJcbiAgICB9KTtcclxuICBcclxuICAgIHJldHVybiB2aWRlb01hdGVyaWFsO1xyXG4gIH1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcigpIHtcclxuXHJcbiAgICByZW5kZXJlci5yZW5kZXIoIGxvY2FsU2NlbmUsIGxvY2FsQ2FtZXJhICk7XHJcbn1cclxuXHJcbiIsIi8vIEdsb2JhbCBpbXBvcnRzIC1cclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgVFdFRU4gZnJvbSAnQHR3ZWVuanMvdHdlZW4uanMnO1xyXG5cclxuLy8gTG9jYWwgaW1wb3J0cyAtXHJcbi8vIENvbXBvbmVudHNcclxuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vY29tcG9uZW50cy9yZW5kZXJlcic7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9jb21wb25lbnRzL2NhbWVyYSc7XHJcbmltcG9ydCBMaWdodCBmcm9tICcuL2NvbXBvbmVudHMvbGlnaHQnO1xyXG5pbXBvcnQgQ29udHJvbHMgZnJvbSAnLi9jb21wb25lbnRzL2NvbnRyb2xzJztcclxuaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4vY29tcG9uZW50cy9nZW9tZXRyeSc7XHJcblxyXG4vLyBIZWxwZXJzXHJcbmltcG9ydCBTdGF0cyBmcm9tICcuL2hlbHBlcnMvc3RhdHMnO1xyXG5pbXBvcnQgTWVzaEhlbHBlciBmcm9tICcuL2hlbHBlcnMvbWVzaEhlbHBlcic7XHJcblxyXG4vLyBNb2RlbFxyXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL21vZGVsL3RleHR1cmUnO1xyXG5pbXBvcnQgTW9kZWwgZnJvbSAnLi9tb2RlbC9tb2RlbCc7XHJcblxyXG4vLyBNYW5hZ2Vyc1xyXG5pbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSAnLi9tYW5hZ2Vycy9pbnRlcmFjdGlvbic7XHJcbmltcG9ydCBEYXRHVUkgZnJvbSAnLi9tYW5hZ2Vycy9kYXRHVUknO1xyXG5cclxuLy8gZGF0YVxyXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4vLi4vZGF0YS9jb25maWcnO1xyXG4vLyAtLSBFbmQgb2YgaW1wb3J0c1xyXG5cclxuLy8gVGhpcyBjbGFzcyBpbnN0YW50aWF0ZXMgYW5kIHRpZXMgYWxsIG9mIHRoZSBjb21wb25lbnRzIHRvZ2V0aGVyLCBzdGFydHMgdGhlIGxvYWRpbmcgcHJvY2VzcyBhbmQgcmVuZGVycyB0aGUgbWFpbiBsb29wXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVTY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XHJcbiAgICAvLyBTZXQgY29udGFpbmVyIHByb3BlcnR5IHRvIGNvbnRhaW5lciBlbGVtZW50XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuXHJcbiAgICAvLyBTdGFydCBUaHJlZSBjbG9ja1xyXG4gICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xyXG5cclxuICAgIC8vIE1haW4gc2NlbmUgY3JlYXRpb25cclxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcclxuICAgIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZ0V4cDIoQ29uZmlnLmZvZy5jb2xvciwgQ29uZmlnLmZvZy5uZWFyKTtcclxuXHJcbiAgICAvLyBHZXQgRGV2aWNlIFBpeGVsIFJhdGlvIGZpcnN0IGZvciByZXRpbmFcclxuICAgIGlmKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB7XHJcbiAgICAgIENvbmZpZy5kcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYWluIHJlbmRlcmVyIGNvbnN0cnVjdG9yXHJcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKHRoaXMuc2NlbmUsIGNvbnRhaW5lcik7XHJcblxyXG4gICAgLy8gQ29tcG9uZW50cyBpbnN0YW50aWF0aW9uc1xyXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMucmVuZGVyZXIudGhyZWVSZW5kZXJlcik7XHJcbiAgICB0aGlzLmNvbnRyb2xzID0gbmV3IENvbnRyb2xzKHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhLCBjb250YWluZXIpO1xyXG4gICAgdGhpcy5saWdodCA9IG5ldyBMaWdodCh0aGlzLnNjZW5lKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYW5kIHBsYWNlIGxpZ2h0cyBpbiBzY2VuZVxyXG4gICAgY29uc3QgbGlnaHRzID0gWydhbWJpZW50JywgJ2RpcmVjdGlvbmFsJywgJ3BvaW50JywgJ2hlbWknXTtcclxuICAgIGxpZ2h0cy5mb3JFYWNoKChsaWdodCkgPT4gdGhpcy5saWdodC5wbGFjZShsaWdodCkpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhbmQgcGxhY2UgZ2VvIGluIHNjZW5lXHJcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KHRoaXMuc2NlbmUpO1xyXG4gICAgdGhpcy5nZW9tZXRyeS5tYWtlKCdwbGFuZScpKDE1MCwgMTUwLCAxMCwgMTApO1xyXG4gICAgdGhpcy5nZW9tZXRyeS5wbGFjZShbMCwgLTIwLCAwXSwgW01hdGguUEkgLyAyLCAwLCAwXSk7XHJcblxyXG4gICAgLy8gU2V0IHVwIHJTdGF0cyBpZiBkZXYgZW52aXJvbm1lbnRcclxuICAgIGlmKENvbmZpZy5pc0RldiAmJiBDb25maWcuaXNTaG93aW5nU3RhdHMpIHtcclxuICAgICAgdGhpcy5zdGF0cyA9IG5ldyBTdGF0cyh0aGlzLnJlbmRlcmVyKTtcclxuICAgICAgdGhpcy5zdGF0cy5zZXRVcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB1cCBkYXQgZ3VpXHJcbiAgICBpZiAoQ29uZmlnLmlzRGV2KSB7XHJcbiAgICAgIHRoaXMuZ3VpID0gbmV3IERhdEdVSSh0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEluc3RhbnRpYXRlIHRleHR1cmUgY2xhc3NcclxuICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlKCk7XHJcblxyXG4gICAgLy8gU3RhcnQgbG9hZGluZyB0aGUgdGV4dHVyZXMgYW5kIHRoZW4gZ28gb24gdG8gbG9hZCB0aGUgbW9kZWwgYWZ0ZXIgdGhlIHRleHR1cmUgUHJvbWlzZXMgaGF2ZSByZXNvbHZlZFxyXG4gICAgdGhpcy50ZXh0dXJlLmxvYWQoKS50aGVuKCgpID0+IHtcclxuICAgICAgdGhpcy5tYW5hZ2VyID0gbmV3IFRIUkVFLkxvYWRpbmdNYW5hZ2VyKCk7XHJcblxyXG4gICAgICAvLyBUZXh0dXJlcyBsb2FkZWQsIGxvYWQgbW9kZWxcclxuICAgICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCh0aGlzLnNjZW5lLCB0aGlzLm1hbmFnZXIsIHRoaXMudGV4dHVyZS50ZXh0dXJlcyk7XHJcbiAgICAgIHRoaXMubW9kZWwubG9hZChDb25maWcubW9kZWxzW0NvbmZpZy5tb2RlbC5zZWxlY3RlZF0udHlwZSk7XHJcblxyXG4gICAgICAvLyBvblByb2dyZXNzIGNhbGxiYWNrXHJcbiAgICAgIHRoaXMubWFuYWdlci5vblByb2dyZXNzID0gKGl0ZW0sIGxvYWRlZCwgdG90YWwpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgJHtpdGVtfTogJHtsb2FkZWR9ICR7dG90YWx9YCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBBbGwgbG9hZGVycyBkb25lIG5vd1xyXG4gICAgICB0aGlzLm1hbmFnZXIub25Mb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIFNldCB1cCBpbnRlcmFjdGlvbiBtYW5hZ2VyIHdpdGggdGhlIGFwcCBub3cgdGhhdCB0aGUgbW9kZWwgaXMgZmluaXNoZWQgbG9hZGluZ1xyXG4gICAgICAgIG5ldyBJbnRlcmFjdGlvbih0aGlzLnJlbmRlcmVyLnRocmVlUmVuZGVyZXIsIHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhLCB0aGlzLmNvbnRyb2xzLnRocmVlQ29udHJvbHMpO1xyXG5cclxuICAgICAgICAvLyBBZGQgZGF0LkdVSSBjb250cm9scyBpZiBkZXZcclxuICAgICAgICBpZihDb25maWcuaXNEZXYpIHtcclxuICAgICAgICAgIHRoaXMubWVzaEhlbHBlciA9IG5ldyBNZXNoSGVscGVyKHRoaXMuc2NlbmUsIHRoaXMubW9kZWwub2JqKTtcclxuICAgICAgICAgIGlmIChDb25maWcubWVzaC5lbmFibGVIZWxwZXIpIHRoaXMubWVzaEhlbHBlci5lbmFibGUoKTtcclxuXHJcbiAgICAgICAgICB0aGlzLmd1aS5sb2FkKHRoaXMsIHRoaXMubW9kZWwub2JqKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEV2ZXJ5dGhpbmcgaXMgbm93IGZ1bGx5IGxvYWRlZFxyXG4gICAgICAgIENvbmZpZy5pc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignI2xvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU3RhcnQgcmVuZGVyIHdoaWNoIGRvZXMgbm90IHdhaXQgZm9yIG1vZGVsIGZ1bGx5IGxvYWRlZFxyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIC8vIFJlbmRlciByU3RhdHMgaWYgRGV2XHJcbiAgICBpZihDb25maWcuaXNEZXYgJiYgQ29uZmlnLmlzU2hvd2luZ1N0YXRzKSB7XHJcbiAgICAgIFN0YXRzLnN0YXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsbCByZW5kZXIgZnVuY3Rpb24gYW5kIHBhc3MgaW4gY3JlYXRlZCBzY2VuZSBhbmQgY2FtZXJhXHJcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSk7XHJcblxyXG4gICAgLy8gclN0YXRzIGhhcyBmaW5pc2hlZCBkZXRlcm1pbmluZyByZW5kZXIgY2FsbCBub3dcclxuICAgIGlmKENvbmZpZy5pc0RldiAmJiBDb25maWcuaXNTaG93aW5nU3RhdHMpIHtcclxuICAgICAgU3RhdHMuZW5kKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVsdGEgdGltZSBpcyBzb21ldGltZXMgbmVlZGVkIGZvciBjZXJ0YWluIHVwZGF0ZXNcclxuICAgIC8vY29uc3QgZGVsdGEgPSB0aGlzLmNsb2NrLmdldERlbHRhKCk7XHJcblxyXG4gICAgLy8gQ2FsbCBhbnkgdmVuZG9yIG9yIG1vZHVsZSBmcmFtZSB1cGRhdGVzIGhlcmVcclxuICAgIFRXRUVOLnVwZGF0ZSgpO1xyXG4gICAgdGhpcy5jb250cm9scy50aHJlZUNvbnRyb2xzLnVwZGF0ZSgpO1xyXG5cclxuICAgIC8vIFJBRlxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpOyAvLyBCaW5kIHRoZSBtYWluIGNsYXNzIGluc3RlYWQgb2Ygd2luZG93IG9iamVjdFxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQge0dhbWVDb250cm9sbGVyfTtcclxuXHJcbmltcG9ydCB7ZGF0YUNoYW5uZWx9IGZyb20gJy4uLy4uL3dlYnJ0Yy92aWRlb0NhbGwnO1xyXG5cclxubGV0IGxvY2FsT2JqZWN0cyA9IFtdOyAvLyBKU09OcyBvZiBsb2NhbGx5IG1haW50YWluZWQgb2JqZWN0cyAtIHdlIHNlbmQgdXBkYXRlcyBmb3IgdGhlc2VcclxuLy8gbGV0IGxvY2FsT2JqZWN0c01hcCA9IG5ldyBNYXAoKTtcclxuXHJcbmNvbnN0IEdhbWVDb250cm9sbGVyID0gKCkgPT4ge1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZExvY2FsT2JqZWN0KG9iaikge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImxvY2FsT2JqZWN0IGFkZGVkIGZvciBnYW1lIHN5bmM6IFwiICsgSlNPTi5zdHJpbmdpZnkob2JqKSArIFwiIGlkOiBcIiArIG9iai5pZClcclxuICAgICAgICBsZXQgY3VzdG9tT2JqZWN0ID0ge3V1aWQ6IG9iai51dWlkLCBwb3NpdGlvbjogb2JqLnBvc2l0aW9uLCByb3RhdGlvbjogb2JqLnJvdGF0aW9ufTtcclxuICAgICAgICBsZXQganNvbiA9IEpTT04uc3RyaW5naWZ5KGN1c3RvbU9iamVjdCk7XHJcbiAgICAgICAgbG9jYWxPYmplY3RzLnB1c2goanNvbik7XHJcblxyXG4gICAgICAgIC8vIGxvY2FsT2JqZWN0c01hcC5zZXQob2JqLmlkLCBqc29uKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNoYXJlZFNjZW5lU3luYzsgXHJcbiAgICBmdW5jdGlvbiBzdGFydFNoYXJlZFNjZW5lU3luYygpIHtcclxuICAgICAgICAvLyBzaGFyZWRTY2VuZVN5bmMgPSBzZXRJbnRlcnZhbChzZW5kTG9jYWxPYmplY3RzVXBkYXRlLCAzMCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJTVEFSVEVEIFNIQVJFRCBTQ0VORSBTWU5DXCIpXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3RvcFNoYXJlZFNjZW5lU3luYygpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHNoYXJlZFNjZW5lU3luYyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VuZFNoYXJlZFNjZW5lVXBkYXRlcygpIHtcclxuICAgIC8vVE9ETyBzZW5kIGFsbCBsb2NhbE9iamVjdHMgaW4gdGhlIHNoYXJlZCBzY2VuZSB0byByZW1vdGVcclxuXHJcbiAgICAvL2lmIHRoZXJlIGFyZSBvYmplY3RzIGZyb20gdGhpcyBjbGllbnQgaW4gdGhlIHNoYXJlZCBzY2VuZVxyXG5cclxuICAgIC8vdGhlbiBzZW5kIHRoZWlyIHBvcy9yb3QgZXRjIHRvIHJlbW90ZVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNlbmRzIGEgc2luZ2xlIG9iamVjdCByaWdodCBub3csIHVzZWQgd2hlbiBkcmFnZ2luZ1xyXG4gICAgZnVuY3Rpb24gc2VuZEdhbWVvYmplY3RVcGRhdGUob2JqZWN0SnNvbikge1xyXG4gICAgICAgIGlmIChkYXRhQ2hhbm5lbCAmJiB0eXBlb2Ygb2JqZWN0SnNvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwuc2VuZChvYmplY3RKc29uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VuZExvY2FsT2JqZWN0c1VwZGF0ZSgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImxvY2FsT2JqZWN0czogXCIgKyBsb2NhbE9iamVjdHMpO1xyXG4gICAgICAgIGlmIChkYXRhQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpe1xyXG4gICAgICAgICAgICBsb2NhbE9iamVjdHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLnNlbmQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNlbnQgVXBkYXRlIG9mIGxvY2FsIE9iamVjdCBcIiArIGVsZW1lbnQpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVSZW1vdGVPYmplY3RzKGRhdGEpIHtcclxuICAgICAgICBsZXQgb2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnUGFyc2VkIEpTT04gdXVpZDogJyArIG9iai51dWlkICsgJywgcG9zaXRpb254OiAnICsgb2JqLnBvc2l0aW9uLnggKyAnLCByb3RhdGlvbng6ICcgKyBvYmoucm90YXRpb24uX3gpO1xyXG4gICAgXHJcbiAgICAgICAgLy9UT0RPIHVwZGF0ZSBvbmx5IHNwZWNpZmljIG9iamVjdCFcclxuICAgICAgICBsb2NhbEVsZW1lbnQgPSBnZXRMb2NhbE9iamVjdFxyXG4gICAgICAgIGN1YmUucG9zaXRpb24ueCA9IG9iai5wb3NpdGlvbi54O1xyXG4gICAgICAgIGN1YmUucG9zaXRpb24ueSA9IG9iai5wb3NpdGlvbi55O1xyXG4gICAgICAgIGN1YmUucG9zaXRpb24ueiA9IG9iai5wb3NpdGlvbi56O1xyXG4gICAgICAgIGN1YmUucm90YXRpb24ueCA9IG9iai5yb3RhdGlvbi5feDtcclxuICAgICAgICBjdWJlLnJvdGF0aW9uLnkgPSBvYmoucm90YXRpb24uX3k7XHJcbiAgICAgICAgY3ViZS5yb3RhdGlvbi56ID0gb2JqLnJvdGF0aW9uLl96O1xyXG4gICAgXHJcbiAgICAgICAgLy9UT09EIG1heWJlIHR3ZWVuL2ludGVycG9sYXRlIGJldHdlZW4gcG9zaXRpb25zXHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFkZExvY2FsT2JqZWN0LFxyXG4gICAgICAgIHN0YXJ0U2hhcmVkU2NlbmVTeW5jLFxyXG4gICAgICAgIHN0b3BTaGFyZWRTY2VuZVN5bmMsXHJcbiAgICAgICAgc2VuZEdhbWVvYmplY3RVcGRhdGUsXHJcbiAgICAgICAgdXBkYXRlUmVtb3RlT2JqZWN0c1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmV4cG9ydCB7aW5pdFNjZW5lLCBpbml0Q2FtZXJhfVxyXG5cclxubGV0IHNjZW5lO1xyXG5cclxuZnVuY3Rpb24gaW5pdFNjZW5lKCkge1xyXG4gICAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcclxuICAgIHNjZW5lLmJhY2tncm91bmQgPSBudWxsO1xyXG5cclxuICAgIGluaXRMaWdodCgpO1xyXG5cclxuICAgIHJldHVybiBzY2VuZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdENhbWVyYShpc1NlbGxlcikge1xyXG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKCA0NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDUwMCApO1xyXG4gICAgaWYgKGlzU2VsbGVyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NoYW5naW5nIGNhbWVyYSBwb3NpdGlvbiEnKTtcclxuICAgICAgICBjYW1lcmEucG9zaXRpb24ueCA9IDA7XHJcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnkgPSAwO1xyXG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gLTEwO1xyXG4gICAgICAgIGNhbWVyYS5sb29rQXQoIDAsIDAsIDAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnggPSAwO1xyXG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi55ID0gMDtcclxuICAgICAgICBjYW1lcmEucG9zaXRpb24ueiA9IDEwO1xyXG4gICAgICAgIGNhbWVyYS5sb29rQXQoIDAsIDAsIDAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjYW1lcmE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRMaWdodCgpIHtcclxuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQxID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoIDB4ZmZmZmZmLCAxICk7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0MS5wb3NpdGlvbi5zZXQoMiwgMiwgMCk7XHJcbiAgICBzY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodDEpO1xyXG5cclxuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQyID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoIDB4ZmZmZmZmLCAxICk7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0Mi5wb3NpdGlvbi5zZXQoMiwgMiwgLTIwKTtcclxuICAgIHNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0Mik7XHJcblxyXG4gICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodDMgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCggMHhmZmZmZmYsIDEgKTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHQzLnBvc2l0aW9uLnNldCgyLCAyLCAyMCk7XHJcbiAgICBzY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodDMpO1xyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHsgVmVydGV4Tm9ybWFsc0hlbHBlciB9IGZyb20gJy4vdmVydGV4Tm9ybWFsc0hlbHBlcic7XHJcblxyXG4vLyBTaW1wbGUgbWVzaCBoZWxwZXIgdGhhdCBzaG93cyBlZGdlcywgd2lyZWZyYW1lcywgYW5kIGZhY2UgYW5kIHZlcnRleCBub3JtYWxzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc2hIZWxwZXIge1xyXG4gIGNvbnN0cnVjdG9yKHNjZW5lLCBtZXNoKSB7XHJcbiAgICB0aGlzLm1lc2ggPSBtZXNoO1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG5cclxuICAgIGNvbnN0IHdpcmVmcmFtZSA9IG5ldyBUSFJFRS5XaXJlZnJhbWVHZW9tZXRyeSh0aGlzLm1lc2guZ2VvbWV0cnkpO1xyXG4gICAgdGhpcy53aXJlTGluZSA9IG5ldyBUSFJFRS5MaW5lU2VnbWVudHMod2lyZWZyYW1lKTtcclxuICAgIHRoaXMud2lyZUxpbmUubWF0ZXJpYWwuZGVwdGhUZXN0ID0gZmFsc2U7XHJcbiAgICB0aGlzLndpcmVMaW5lLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjI1O1xyXG4gICAgdGhpcy53aXJlTGluZS5tYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7XHJcblxyXG4gICAgY29uc3QgZWRnZXMgPSBuZXcgVEhSRUUuRWRnZXNHZW9tZXRyeSh0aGlzLm1lc2guZ2VvbWV0cnkpO1xyXG4gICAgdGhpcy5lZGdlc0xpbmUgPSBuZXcgVEhSRUUuTGluZVNlZ21lbnRzKGVkZ2VzKTtcclxuICAgIHRoaXMuZWRnZXNMaW5lLm1hdGVyaWFsLmRlcHRoVGVzdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5lZGdlc0xpbmUubWF0ZXJpYWwub3BhY2l0eSA9IDAuMjU7XHJcbiAgICB0aGlzLmVkZ2VzTGluZS5tYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7XHJcblxyXG4gICAgdGhpcy52ZXJ0ZXhIZWxwZXIgPSBuZXcgVmVydGV4Tm9ybWFsc0hlbHBlcih0aGlzLm1lc2gsIDIpO1xyXG4gICAgdGhpcy5ib3hIZWxwZXIgPSBuZXcgVEhSRUUuQm94SGVscGVyKHRoaXMubWVzaCk7XHJcbiAgfVxyXG5cclxuICBlbmFibGUoKSB7XHJcbiAgICB0aGlzLm1lc2guYWRkKHRoaXMud2lyZUxpbmUpO1xyXG4gICAgdGhpcy5tZXNoLmFkZCh0aGlzLmVkZ2VzTGluZSk7XHJcblxyXG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy52ZXJ0ZXhIZWxwZXIpO1xyXG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5ib3hIZWxwZXIpO1xyXG4gIH1cclxuXHJcbiAgZGlzYWJsZSgpIHtcclxuICAgIHRoaXMubWVzaC5yZW1vdmUodGhpcy53aXJlTGluZSk7XHJcbiAgICB0aGlzLm1lc2gucmVtb3ZlKHRoaXMuZWRnZXNMaW5lKTtcclxuXHJcbiAgICB0aGlzLnNjZW5lLnJlbW92ZSh0aGlzLnZlcnRleEhlbHBlcik7XHJcbiAgICB0aGlzLnNjZW5lLnJlbW92ZSh0aGlzLmJveEhlbHBlcik7XHJcbiAgfVxyXG59XHJcbiIsIi8vIExvY2FsIHZhcnMgZm9yIHJTdGF0c1xyXG5sZXQgclMsIGJTLCBnbFMsIHRTO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdHMge1xyXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XHJcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgfVxyXG5cclxuICBzZXRVcCgpIHtcclxuICAgIGJTID0gbmV3IEJyb3dzZXJTdGF0cygpO1xyXG4gICAgZ2xTID0gbmV3IGdsU3RhdHMoKTtcclxuICAgIHRTID0gbmV3IHRocmVlU3RhdHModGhpcy5yZW5kZXJlci50aHJlZVJlbmRlcmVyKTtcclxuXHJcbiAgICByUyA9IG5ldyByU3RhdHMoe1xyXG4gICAgICBDU1NQYXRoOiAnLi9jc3MvJyxcclxuICAgICAgdXNlclRpbWluZ0FQSTogdHJ1ZSxcclxuICAgICAgdmFsdWVzOiB7XHJcbiAgICAgICAgZnJhbWU6IHsgY2FwdGlvbjogJ1RvdGFsIGZyYW1lIHRpbWUgKG1zKScsIG92ZXI6IDE2LCBhdmVyYWdlOiB0cnVlLCBhdmdNczogMTAwIH0sXHJcbiAgICAgICAgZnBzOiB7IGNhcHRpb246ICdGcmFtZXJhdGUgKEZQUyknLCBiZWxvdzogMzAgfSxcclxuICAgICAgICBjYWxsczogeyBjYXB0aW9uOiAnQ2FsbHMgKHRocmVlLmpzKScsIG92ZXI6IDMwMDAgfSxcclxuICAgICAgICByYWY6IHsgY2FwdGlvbjogJ1RpbWUgc2luY2UgbGFzdCByQUYgKG1zKScsIGF2ZXJhZ2U6IHRydWUsIGF2Z01zOiAxMDAgfSxcclxuICAgICAgICByc3RhdHM6IHsgY2FwdGlvbjogJ3JTdGF0cyB1cGRhdGUgKG1zKScsIGF2ZXJhZ2U6IHRydWUsIGF2Z01zOiAxMDAgfSxcclxuICAgICAgICB0ZXh0dXJlOiB7IGNhcHRpb246ICdHZW5UZXgnLCBhdmVyYWdlOiB0cnVlLCBhdmdNczogMTAwIH1cclxuICAgICAgfSxcclxuICAgICAgZ3JvdXBzOiBbXHJcbiAgICAgICAgeyBjYXB0aW9uOiAnRnJhbWVyYXRlJywgdmFsdWVzOiBbJ2ZwcycsICdyYWYnXSB9LFxyXG4gICAgICAgIHsgY2FwdGlvbjogJ0ZyYW1lIEJ1ZGdldCcsIHZhbHVlczogWydmcmFtZScsICd0ZXh0dXJlJywgJ3NldHVwJywgJ3JlbmRlciddIH1cclxuICAgICAgXSxcclxuICAgICAgZnJhY3Rpb25zOiBbXHJcbiAgICAgICAgeyBiYXNlOiAnZnJhbWUnLCBzdGVwczogWyd0ZXh0dXJlJywgJ3NldHVwJywgJ3JlbmRlciddIH1cclxuICAgICAgXSxcclxuICAgICAgcGx1Z2luczogW2JTLCB0U11cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHN0YXJ0KCkge1xyXG4gICAgclMoJ2ZyYW1lJykuc3RhcnQoKTtcclxuICAgIGdsUy5zdGFydCgpO1xyXG5cclxuICAgIHJTKCdyQUYnKS50aWNrKCk7XHJcbiAgICByUygnRlBTJykuZnJhbWUoKTtcclxuXHJcbiAgICByUygncmVuZGVyJykuc3RhcnQoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBlbmQoKSB7XHJcbiAgICByUygncmVuZGVyJykuZW5kKCk7IC8vIHJlbmRlciBmaW5pc2hlZFxyXG4gICAgclMoJ2ZyYW1lJykuZW5kKCk7IC8vIGZyYW1lIGZpbmlzaGVkXHJcblxyXG4gICAgLy8gTG9jYWwgclN0YXRzIHVwZGF0ZVxyXG4gICAgclMoJ3JTdGF0cycpLnN0YXJ0KCk7XHJcbiAgICByUygpLnVwZGF0ZSgpO1xyXG4gICAgclMoJ3JTdGF0cycpLmVuZCgpO1xyXG4gIH1cclxufVxyXG4iLCIvKipcclxuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cclxuICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5XHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBCdWZmZXJHZW9tZXRyeSxcclxuICBGbG9hdDMyQnVmZmVyQXR0cmlidXRlLFxyXG4gIExpbmVTZWdtZW50cyxcclxuICBMaW5lQmFzaWNNYXRlcmlhbCxcclxuICBNYXRyaXgzLFxyXG4gIFZlY3RvcjMsXHJcbn0gZnJvbSAndGhyZWUnO1xyXG5cclxuY29uc3QgX3YxID0gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgX3YyID0gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgX25vcm1hbE1hdHJpeCA9IG5ldyBNYXRyaXgzKCk7XHJcbmNvbnN0IF9rZXlzID0gWydhJywgJ2InLCAnYyddO1xyXG5cclxuZnVuY3Rpb24gVmVydGV4Tm9ybWFsc0hlbHBlcihvYmplY3QsIHNpemUsIGhleCkge1xyXG4gIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xyXG4gIHRoaXMuc2l6ZSA9IHNpemUgIT09IHVuZGVmaW5lZCA/IHNpemUgOiAwLjE7XHJcblxyXG4gIGNvbnN0IGNvbG9yID0gaGV4ICE9PSB1bmRlZmluZWQgPyBoZXggOiAweGZmMDAwMDtcclxuXHJcbiAgLy9cclxuXHJcbiAgbGV0IG5Ob3JtYWxzID0gMDtcclxuXHJcbiAgY29uc3Qgb2JqR2VvbWV0cnkgPSB0aGlzLm9iamVjdC5nZW9tZXRyeTtcclxuXHJcbiAgaWYgKG9iakdlb21ldHJ5ICYmIG9iakdlb21ldHJ5LmlzR2VvbWV0cnkpIHtcclxuICAgIG5Ob3JtYWxzID0gb2JqR2VvbWV0cnkuZmFjZXMubGVuZ3RoICogMztcclxuICB9IGVsc2UgaWYgKG9iakdlb21ldHJ5ICYmIG9iakdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpIHtcclxuICAgIG5Ob3JtYWxzID0gb2JqR2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWwuY291bnQ7XHJcbiAgfVxyXG5cclxuICAvL1xyXG5cclxuICBjb25zdCBnZW9tZXRyeSA9IG5ldyBCdWZmZXJHZW9tZXRyeSgpO1xyXG4gIGNvbnN0IHBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKG5Ob3JtYWxzICogMiAqIDMsIDMpO1xyXG5cclxuICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgcG9zaXRpb25zKTtcclxuXHJcbiAgTGluZVNlZ21lbnRzLmNhbGwodGhpcywgZ2VvbWV0cnksIG5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiBjb2xvciwgdG9uZU1hcHBlZDogZmFsc2UgfSkpO1xyXG5cclxuICB0aGlzLnR5cGUgPSAnVmVydGV4Tm9ybWFsc0hlbHBlcic7XHJcblxyXG4gIC8vXHJcblxyXG4gIHRoaXMubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xyXG5cclxuICB0aGlzLnVwZGF0ZSgpO1xyXG59XHJcblxyXG5WZXJ0ZXhOb3JtYWxzSGVscGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTGluZVNlZ21lbnRzLnByb3RvdHlwZSk7XHJcblZlcnRleE5vcm1hbHNIZWxwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmVydGV4Tm9ybWFsc0hlbHBlcjtcclxuXHJcblZlcnRleE5vcm1hbHNIZWxwZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICBsZXQgaWR4O1xyXG4gIHRoaXMub2JqZWN0LnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO1xyXG5cclxuICBfbm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeCh0aGlzLm9iamVjdC5tYXRyaXhXb3JsZCk7XHJcblxyXG4gIGNvbnN0IG1hdHJpeFdvcmxkID0gdGhpcy5vYmplY3QubWF0cml4V29ybGQ7XHJcbiAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XHJcblxyXG4gIC8vXHJcblxyXG4gIGNvbnN0IG9iakdlb21ldHJ5ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnk7XHJcblxyXG4gIGlmIChvYmpHZW9tZXRyeSAmJiBvYmpHZW9tZXRyeS5pc0dlb21ldHJ5KSB7XHJcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IG9iakdlb21ldHJ5LnZlcnRpY2VzO1xyXG5cclxuICAgIGNvbnN0IGZhY2VzID0gb2JqR2VvbWV0cnkuZmFjZXM7XHJcblxyXG4gICAgaWR4ID0gMDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGZhY2VzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07XHJcblxyXG4gICAgICBmb3IgKGxldCBqID0gMCwgamwgPSBmYWNlLnZlcnRleE5vcm1hbHMubGVuZ3RoOyBqIDwgamw7IGorKykge1xyXG4gICAgICAgIGNvbnN0IHZlcnRleCA9IHZlcnRpY2VzW2ZhY2VbX2tleXNbal1dXTtcclxuICAgICAgICBjb25zdCBub3JtYWwgPSBmYWNlLnZlcnRleE5vcm1hbHNbal07XHJcblxyXG4gICAgICAgIF92MS5jb3B5KHZlcnRleCkuYXBwbHlNYXRyaXg0KG1hdHJpeFdvcmxkKTtcclxuICAgICAgICBfdjIuY29weShub3JtYWwpLmFwcGx5TWF0cml4Myhfbm9ybWFsTWF0cml4KS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0aGlzLnNpemUpLmFkZChfdjEpO1xyXG5cclxuICAgICAgICBwb3NpdGlvbi5zZXRYWVooaWR4LCBfdjEueCwgX3YxLnksIF92MS56KTtcclxuXHJcbiAgICAgICAgaWR4ID0gaWR4ICsgMTtcclxuXHJcbiAgICAgICAgcG9zaXRpb24uc2V0WFlaKGlkeCwgX3YyLngsIF92Mi55LCBfdjIueik7XHJcblxyXG4gICAgICAgIGlkeCA9IGlkeCArIDE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGVsc2UgaWYgKG9iakdlb21ldHJ5ICYmIG9iakdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpIHtcclxuICAgIGNvbnN0IG9ialBvcyA9IG9iakdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XHJcbiAgICBjb25zdCBvYmpOb3JtID0gb2JqR2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWw7XHJcblxyXG4gICAgaWR4ID0gMDtcclxuXHJcbiAgICAvLyBmb3Igc2ltcGxpY2l0eSwgaWdub3JlIGluZGV4IGFuZCBkcmF3Y2FsbHMsIGFuZCByZW5kZXIgZXZlcnkgbm9ybWFsXHJcblxyXG4gICAgZm9yICh2YXIgaiA9IDAsIGpsID0gb2JqUG9zLmNvdW50OyBqIDwgamw7IGorKykge1xyXG4gICAgICBfdjEuc2V0KG9ialBvcy5nZXRYKGopLCBvYmpQb3MuZ2V0WShqKSwgb2JqUG9zLmdldFooaikpLmFwcGx5TWF0cml4NChtYXRyaXhXb3JsZCk7XHJcbiAgICAgIF92Mi5zZXQob2JqTm9ybS5nZXRYKGopLCBvYmpOb3JtLmdldFkoaiksIG9iak5vcm0uZ2V0WihqKSk7XHJcbiAgICAgIF92Mi5hcHBseU1hdHJpeDMoX25vcm1hbE1hdHJpeCkubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIodGhpcy5zaXplKS5hZGQoX3YxKTtcclxuXHJcbiAgICAgIHBvc2l0aW9uLnNldFhZWihpZHgsIF92MS54LCBfdjEueSwgX3YxLnopO1xyXG5cclxuICAgICAgaWR4ID0gaWR4ICsgMTtcclxuXHJcbiAgICAgIHBvc2l0aW9uLnNldFhZWihpZHgsIF92Mi54LCBfdjIueSwgX3YyLnopO1xyXG5cclxuICAgICAgaWR4ID0gaWR4ICsgMTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHBvc2l0aW9uLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxufTtcclxuXHJcbmV4cG9ydCB7IFZlcnRleE5vcm1hbHNIZWxwZXIgfTtcclxuIiwiLyoqXHJcbiAqIEBhdXRob3IgUmljaCBUaWJiZXR0IC8gaHR0cHM6Ly9naXRodWIuY29tL3JpY2h0clxyXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xyXG4gKiBAYXV0aG9yIFRvbnkgUGFyaXNpIC8gaHR0cDovL3d3dy50b255cGFyaXNpLmNvbS9cclxuICogQGF1dGhvciBUYWthaGlybyAvIGh0dHBzOi8vZ2l0aHViLmNvbS90YWthaGlyb3hcclxuICogQGF1dGhvciBEb24gTWNDdXJkeSAvIGh0dHBzOi8vd3d3LmRvbm1jY3VyZHkuY29tXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBBbmltYXRpb25DbGlwLFxyXG4gIEJvbmUsXHJcbiAgQm94MyxcclxuICBCdWZmZXJBdHRyaWJ1dGUsXHJcbiAgQnVmZmVyR2VvbWV0cnksXHJcbiAgQ2xhbXBUb0VkZ2VXcmFwcGluZyxcclxuICBDb2xvcixcclxuICBEaXJlY3Rpb25hbExpZ2h0LFxyXG4gIERvdWJsZVNpZGUsXHJcbiAgRmlsZUxvYWRlcixcclxuICBGcm9udFNpZGUsXHJcbiAgR3JvdXAsXHJcbiAgSW50ZXJsZWF2ZWRCdWZmZXIsXHJcbiAgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUsXHJcbiAgSW50ZXJwb2xhbnQsXHJcbiAgSW50ZXJwb2xhdGVEaXNjcmV0ZSxcclxuICBJbnRlcnBvbGF0ZUxpbmVhcixcclxuICBMaW5lLFxyXG4gIExpbmVCYXNpY01hdGVyaWFsLFxyXG4gIExpbmVMb29wLFxyXG4gIExpbmVTZWdtZW50cyxcclxuICBMaW5lYXJGaWx0ZXIsXHJcbiAgTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyLFxyXG4gIExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXIsXHJcbiAgTG9hZGVyLFxyXG4gIExvYWRlclV0aWxzLFxyXG4gIE1hdGVyaWFsLFxyXG4gIE1hdGhVdGlscyxcclxuICBNYXRyaXg0LFxyXG4gIE1lc2gsXHJcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXHJcbiAgTWVzaFBoeXNpY2FsTWF0ZXJpYWwsXHJcbiAgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsXHJcbiAgTWlycm9yZWRSZXBlYXRXcmFwcGluZyxcclxuICBOZWFyZXN0RmlsdGVyLFxyXG4gIE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIsXHJcbiAgTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsXHJcbiAgTnVtYmVyS2V5ZnJhbWVUcmFjayxcclxuICBPYmplY3QzRCxcclxuICBPcnRob2dyYXBoaWNDYW1lcmEsXHJcbiAgUGVyc3BlY3RpdmVDYW1lcmEsXHJcbiAgUG9pbnRMaWdodCxcclxuICBQb2ludHMsXHJcbiAgUG9pbnRzTWF0ZXJpYWwsXHJcbiAgUHJvcGVydHlCaW5kaW5nLFxyXG4gIFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLFxyXG4gIFJHQkFGb3JtYXQsXHJcbiAgUkdCRm9ybWF0LFxyXG4gIFJlcGVhdFdyYXBwaW5nLFxyXG4gIFNrZWxldG9uLFxyXG4gIFNraW5uZWRNZXNoLFxyXG4gIFNwaGVyZSxcclxuICBTcG90TGlnaHQsXHJcbiAgVGFuZ2VudFNwYWNlTm9ybWFsTWFwLFxyXG4gIFRleHR1cmVMb2FkZXIsXHJcbiAgVHJpYW5nbGVGYW5EcmF3TW9kZSxcclxuICBUcmlhbmdsZVN0cmlwRHJhd01vZGUsXHJcbiAgVmVjdG9yMixcclxuICBWZWN0b3IzLFxyXG4gIFZlY3RvcktleWZyYW1lVHJhY2ssXHJcbiAgc1JHQkVuY29kaW5nXHJcbn0gZnJvbSAndGhyZWUnO1xyXG5cclxuY29uc3QgR0xURkxvYWRlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgZnVuY3Rpb24gR0xURkxvYWRlcihtYW5hZ2VyKSB7XHJcbiAgICBMb2FkZXIuY2FsbCh0aGlzLCBtYW5hZ2VyKTtcclxuXHJcbiAgICB0aGlzLmRyYWNvTG9hZGVyID0gbnVsbDtcclxuICAgIHRoaXMuZGRzTG9hZGVyID0gbnVsbDtcclxuICB9XHJcblxyXG4gIEdMVEZMb2FkZXIucHJvdG90eXBlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExvYWRlci5wcm90b3R5cGUpLCB7XHJcbiAgICBjb25zdHJ1Y3RvcjogR0xURkxvYWRlcixcclxuXHJcbiAgICBsb2FkOiBmdW5jdGlvbiAodXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IpIHtcclxuICAgICAgdmFyIHNjb3BlID0gdGhpcztcclxuXHJcbiAgICAgIHZhciByZXNvdXJjZVBhdGg7XHJcblxyXG4gICAgICBpZiAodGhpcy5yZXNvdXJjZVBhdGggIT09ICcnKSB7XHJcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gdGhpcy5yZXNvdXJjZVBhdGg7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXRoICE9PSAnJykge1xyXG4gICAgICAgIHJlc291cmNlUGF0aCA9IHRoaXMucGF0aDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvdXJjZVBhdGggPSBMb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSh1cmwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUZWxscyB0aGUgTG9hZGluZ01hbmFnZXIgdG8gdHJhY2sgYW4gZXh0cmEgaXRlbSwgd2hpY2ggcmVzb2x2ZXMgYWZ0ZXJcclxuICAgICAgLy8gdGhlIG1vZGVsIGlzIGZ1bGx5IGxvYWRlZC4gVGhpcyBtZWFucyB0aGUgY291bnQgb2YgaXRlbXMgbG9hZGVkIHdpbGxcclxuICAgICAgLy8gYmUgaW5jb3JyZWN0LCBidXQgZW5zdXJlcyBtYW5hZ2VyLm9uTG9hZCgpIGRvZXMgbm90IGZpcmUgZWFybHkuXHJcbiAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbVN0YXJ0KHVybCk7XHJcblxyXG4gICAgICB2YXIgX29uRXJyb3IgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChvbkVycm9yKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2NvcGUubWFuYWdlci5pdGVtRXJyb3IodXJsKTtcclxuICAgICAgICBzY29wZS5tYW5hZ2VyLml0ZW1FbmQodXJsKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciBsb2FkZXIgPSBuZXcgRmlsZUxvYWRlcihzY29wZS5tYW5hZ2VyKTtcclxuXHJcbiAgICAgIGxvYWRlci5zZXRQYXRoKHRoaXMucGF0aCk7XHJcbiAgICAgIGxvYWRlci5zZXRSZXNwb25zZVR5cGUoJ2FycmF5YnVmZmVyJyk7XHJcblxyXG4gICAgICBpZiAoc2NvcGUuY3Jvc3NPcmlnaW4gPT09ICd1c2UtY3JlZGVudGlhbHMnKSB7XHJcbiAgICAgICAgbG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0cnVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbG9hZGVyLmxvYWQoXHJcbiAgICAgICAgdXJsLFxyXG4gICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzY29wZS5wYXJzZShcclxuICAgICAgICAgICAgICBkYXRhLFxyXG4gICAgICAgICAgICAgIHJlc291cmNlUGF0aCxcclxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZ2x0Zikge1xyXG4gICAgICAgICAgICAgICAgb25Mb2FkKGdsdGYpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgX29uRXJyb3JcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgX29uRXJyb3IoZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblByb2dyZXNzLFxyXG4gICAgICAgIF9vbkVycm9yXHJcbiAgICAgICk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldERSQUNPTG9hZGVyOiBmdW5jdGlvbiAoZHJhY29Mb2FkZXIpIHtcclxuICAgICAgdGhpcy5kcmFjb0xvYWRlciA9IGRyYWNvTG9hZGVyO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcblxyXG4gICAgc2V0RERTTG9hZGVyOiBmdW5jdGlvbiAoZGRzTG9hZGVyKSB7XHJcbiAgICAgIHRoaXMuZGRzTG9hZGVyID0gZGRzTG9hZGVyO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcblxyXG4gICAgcGFyc2U6IGZ1bmN0aW9uIChkYXRhLCBwYXRoLCBvbkxvYWQsIG9uRXJyb3IpIHtcclxuICAgICAgdmFyIGNvbnRlbnQ7XHJcbiAgICAgIHZhciBleHRlbnNpb25zID0ge307XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgY29udGVudCA9IGRhdGE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIG1hZ2ljID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhLCAwLCA0KSk7XHJcblxyXG4gICAgICAgIGlmIChtYWdpYyA9PT0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEZdID0gbmV3IEdMVEZCaW5hcnlFeHRlbnNpb24oZGF0YSk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAob25FcnJvcikgb25FcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb250ZW50ID0gZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURl0uY29udGVudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29udGVudCA9IExvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xyXG5cclxuICAgICAgaWYgKGpzb24uYXNzZXQgPT09IHVuZGVmaW5lZCB8fCBqc29uLmFzc2V0LnZlcnNpb25bMF0gPCAyKSB7XHJcbiAgICAgICAgaWYgKG9uRXJyb3IpXHJcbiAgICAgICAgICBvbkVycm9yKFxyXG4gICAgICAgICAgICBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGFzc2V0LiBnbFRGIHZlcnNpb25zID49Mi4wIGFyZSBzdXBwb3J0ZWQuJylcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoanNvbi5leHRlbnNpb25zVXNlZCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvbi5leHRlbnNpb25zVXNlZC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgdmFyIGV4dGVuc2lvbk5hbWUgPSBqc29uLmV4dGVuc2lvbnNVc2VkW2ldO1xyXG4gICAgICAgICAgdmFyIGV4dGVuc2lvbnNSZXF1aXJlZCA9IGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkIHx8IFtdO1xyXG5cclxuICAgICAgICAgIHN3aXRjaCAoZXh0ZW5zaW9uTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTDpcclxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZMaWdodHNFeHRlbnNpb24oanNvbik7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ6XHJcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uKCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVDpcclxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbigpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1M6XHJcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uKCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046XHJcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24oXHJcbiAgICAgICAgICAgICAgICBqc29uLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFjb0xvYWRlclxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REUzpcclxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZUZXh0dXJlRERTRXh0ZW5zaW9uKHRoaXMuZGRzTG9hZGVyKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk06XHJcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbigpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjpcclxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uKCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgIGlmIChleHRlbnNpb25zUmVxdWlyZWQuaW5kZXhPZihleHRlbnNpb25OYW1lKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IFVua25vd24gZXh0ZW5zaW9uIFwiJyArIGV4dGVuc2lvbk5hbWUgKyAnXCIuJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHBhcnNlciA9IG5ldyBHTFRGUGFyc2VyKGpzb24sIGV4dGVuc2lvbnMsIHtcclxuICAgICAgICBwYXRoOiBwYXRoIHx8IHRoaXMucmVzb3VyY2VQYXRoIHx8ICcnLFxyXG4gICAgICAgIGNyb3NzT3JpZ2luOiB0aGlzLmNyb3NzT3JpZ2luLFxyXG4gICAgICAgIG1hbmFnZXI6IHRoaXMubWFuYWdlclxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHBhcnNlci5wYXJzZShvbkxvYWQsIG9uRXJyb3IpO1xyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgLyogR0xURlJFR0lTVFJZICovXHJcblxyXG4gIGZ1bmN0aW9uIEdMVEZSZWdpc3RyeSgpIHtcclxuICAgIHZhciBvYmplY3RzID0ge307XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIG9iamVjdHNba2V5XTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGFkZDogZnVuY3Rpb24gKGtleSwgb2JqZWN0KSB7XHJcbiAgICAgICAgb2JqZWN0c1trZXldID0gb2JqZWN0O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgZGVsZXRlIG9iamVjdHNba2V5XTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHJlbW92ZUFsbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG9iamVjdHMgPSB7fTtcclxuICAgICAgfSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIC8qKioqKioqKioqIEVYVEVOU0lPTlMgKioqKioqKioqKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgdmFyIEVYVEVOU0lPTlMgPSB7XHJcbiAgICBLSFJfQklOQVJZX0dMVEY6ICdLSFJfYmluYXJ5X2dsVEYnLFxyXG4gICAgS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046ICdLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbicsXHJcbiAgICBLSFJfTElHSFRTX1BVTkNUVUFMOiAnS0hSX2xpZ2h0c19wdW5jdHVhbCcsXHJcbiAgICBLSFJfTUFURVJJQUxTX0NMRUFSQ09BVDogJ0tIUl9tYXRlcmlhbHNfY2xlYXJjb2F0JyxcclxuICAgIEtIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1M6ICdLSFJfbWF0ZXJpYWxzX3BiclNwZWN1bGFyR2xvc3NpbmVzcycsXHJcbiAgICBLSFJfTUFURVJJQUxTX1VOTElUOiAnS0hSX21hdGVyaWFsc191bmxpdCcsXHJcbiAgICBLSFJfVEVYVFVSRV9UUkFOU0ZPUk06ICdLSFJfdGV4dHVyZV90cmFuc2Zvcm0nLFxyXG4gICAgS0hSX01FU0hfUVVBTlRJWkFUSU9OOiAnS0hSX21lc2hfcXVhbnRpemF0aW9uJyxcclxuICAgIE1TRlRfVEVYVFVSRV9ERFM6ICdNU0ZUX3RleHR1cmVfZGRzJ1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEREUyBUZXh0dXJlIEV4dGVuc2lvblxyXG4gICAqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9NU0ZUX3RleHR1cmVfZGRzXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBHTFRGVGV4dHVyZUREU0V4dGVuc2lvbihkZHNMb2FkZXIpIHtcclxuICAgIGlmICghZGRzTG9hZGVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAnVEhSRUUuR0xURkxvYWRlcjogQXR0ZW1wdGluZyB0byBsb2FkIC5kZHMgdGV4dHVyZSB3aXRob3V0IGltcG9ydGluZyBERFNMb2FkZXInXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTO1xyXG4gICAgdGhpcy5kZHNMb2FkZXIgPSBkZHNMb2FkZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQdW5jdHVhbCBMaWdodHMgRXh0ZW5zaW9uXHJcbiAgICpcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbGlnaHRzX3B1bmN0dWFsXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gR0xURkxpZ2h0c0V4dGVuc2lvbihqc29uKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUw7XHJcblxyXG4gICAgdmFyIGV4dGVuc2lvbiA9IChqc29uLmV4dGVuc2lvbnMgJiYganNvbi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0pIHx8IHt9O1xyXG4gICAgdGhpcy5saWdodERlZnMgPSBleHRlbnNpb24ubGlnaHRzIHx8IFtdO1xyXG4gIH1cclxuXHJcbiAgR0xURkxpZ2h0c0V4dGVuc2lvbi5wcm90b3R5cGUubG9hZExpZ2h0ID0gZnVuY3Rpb24gKGxpZ2h0SW5kZXgpIHtcclxuICAgIHZhciBsaWdodERlZiA9IHRoaXMubGlnaHREZWZzW2xpZ2h0SW5kZXhdO1xyXG4gICAgdmFyIGxpZ2h0Tm9kZTtcclxuXHJcbiAgICB2YXIgY29sb3IgPSBuZXcgQ29sb3IoMHhmZmZmZmYpO1xyXG4gICAgaWYgKGxpZ2h0RGVmLmNvbG9yICE9PSB1bmRlZmluZWQpIGNvbG9yLmZyb21BcnJheShsaWdodERlZi5jb2xvcik7XHJcblxyXG4gICAgdmFyIHJhbmdlID0gbGlnaHREZWYucmFuZ2UgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnJhbmdlIDogMDtcclxuXHJcbiAgICBzd2l0Y2ggKGxpZ2h0RGVmLnR5cGUpIHtcclxuICAgICAgY2FzZSAnZGlyZWN0aW9uYWwnOlxyXG4gICAgICAgIGxpZ2h0Tm9kZSA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KGNvbG9yKTtcclxuICAgICAgICBsaWdodE5vZGUudGFyZ2V0LnBvc2l0aW9uLnNldCgwLCAwLCAtMSk7XHJcbiAgICAgICAgbGlnaHROb2RlLmFkZChsaWdodE5vZGUudGFyZ2V0KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ3BvaW50JzpcclxuICAgICAgICBsaWdodE5vZGUgPSBuZXcgUG9pbnRMaWdodChjb2xvcik7XHJcbiAgICAgICAgbGlnaHROb2RlLmRpc3RhbmNlID0gcmFuZ2U7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdzcG90JzpcclxuICAgICAgICBsaWdodE5vZGUgPSBuZXcgU3BvdExpZ2h0KGNvbG9yKTtcclxuICAgICAgICBsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTtcclxuICAgICAgICAvLyBIYW5kbGUgc3BvdGxpZ2h0IHByb3BlcnRpZXMuXHJcbiAgICAgICAgbGlnaHREZWYuc3BvdCA9IGxpZ2h0RGVmLnNwb3QgfHwge307XHJcbiAgICAgICAgbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA9XHJcbiAgICAgICAgICBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlICE9PSB1bmRlZmluZWQgPyBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlIDogMDtcclxuICAgICAgICBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlID1cclxuICAgICAgICAgIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgOiBNYXRoLlBJIC8gNC4wO1xyXG4gICAgICAgIGxpZ2h0Tm9kZS5hbmdsZSA9IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGU7XHJcbiAgICAgICAgbGlnaHROb2RlLnBlbnVtYnJhID0gMS4wIC0gbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSAvIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGU7XHJcbiAgICAgICAgbGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoMCwgMCwgLTEpO1xyXG4gICAgICAgIGxpZ2h0Tm9kZS5hZGQobGlnaHROb2RlLnRhcmdldCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogVW5leHBlY3RlZCBsaWdodCB0eXBlLCBcIicgKyBsaWdodERlZi50eXBlICsgJ1wiLicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNvbWUgbGlnaHRzIChlLmcuIHNwb3QpIGRlZmF1bHQgdG8gYSBwb3NpdGlvbiBvdGhlciB0aGFuIHRoZSBvcmlnaW4uIFJlc2V0IHRoZSBwb3NpdGlvblxyXG4gICAgLy8gaGVyZSwgYmVjYXVzZSBub2RlLWxldmVsIHBhcnNpbmcgd2lsbCBvbmx5IG92ZXJyaWRlIHBvc2l0aW9uIGlmIGV4cGxpY2l0bHkgc3BlY2lmaWVkLlxyXG4gICAgbGlnaHROb2RlLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcclxuXHJcbiAgICBsaWdodE5vZGUuZGVjYXkgPSAyO1xyXG5cclxuICAgIGlmIChsaWdodERlZi5pbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkgbGlnaHROb2RlLmludGVuc2l0eSA9IGxpZ2h0RGVmLmludGVuc2l0eTtcclxuXHJcbiAgICBsaWdodE5vZGUubmFtZSA9IGxpZ2h0RGVmLm5hbWUgfHwgJ2xpZ2h0XycgKyBsaWdodEluZGV4O1xyXG5cclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobGlnaHROb2RlKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBVbmxpdCBNYXRlcmlhbHMgRXh0ZW5zaW9uXHJcbiAgICpcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3VubGl0XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uKCkge1xyXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUO1xyXG4gIH1cclxuXHJcbiAgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uLnByb3RvdHlwZS5nZXRNYXRlcmlhbFR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gTWVzaEJhc2ljTWF0ZXJpYWw7XHJcbiAgfTtcclxuXHJcbiAgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmRQYXJhbXMgPSBmdW5jdGlvbiAoXHJcbiAgICBtYXRlcmlhbFBhcmFtcyxcclxuICAgIG1hdGVyaWFsRGVmLFxyXG4gICAgcGFyc2VyXHJcbiAgKSB7XHJcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xyXG5cclxuICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yID0gbmV3IENvbG9yKDEuMCwgMS4wLCAxLjApO1xyXG4gICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcclxuXHJcbiAgICB2YXIgbWV0YWxsaWNSb3VnaG5lc3MgPSBtYXRlcmlhbERlZi5wYnJNZXRhbGxpY1JvdWdobmVzcztcclxuXHJcbiAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MpIHtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yKSkge1xyXG4gICAgICAgIHZhciBhcnJheSA9IG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcjtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KGFycmF5KTtcclxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbM107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ21hcCcsIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBDbGVhcmNvYXQgTWF0ZXJpYWxzIEV4dGVuc2lvblxyXG4gICAqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19jbGVhcmNvYXRcclxuICAgKi9cclxuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uKCkge1xyXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVDtcclxuICB9XHJcblxyXG4gIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24ucHJvdG90eXBlLmdldE1hdGVyaWFsVHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBNZXNoUGh5c2ljYWxNYXRlcmlhbDtcclxuICB9O1xyXG5cclxuICBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmRQYXJhbXMgPSBmdW5jdGlvbiAoXHJcbiAgICBtYXRlcmlhbFBhcmFtcyxcclxuICAgIG1hdGVyaWFsRGVmLFxyXG4gICAgcGFyc2VyXHJcbiAgKSB7XHJcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xyXG5cclxuICAgIHZhciBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV07XHJcblxyXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRGYWN0b3IgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXQgPSBleHRlbnNpb24uY2xlYXJjb2F0RmFjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0VGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHBlbmRpbmcucHVzaChcclxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ2NsZWFyY29hdE1hcCcsIGV4dGVuc2lvbi5jbGVhcmNvYXRUZXh0dXJlKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgbWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0Um91Z2huZXNzID0gZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc0ZhY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXHJcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcclxuICAgICAgICAgICdjbGVhcmNvYXRSb3VnaG5lc3NNYXAnLFxyXG4gICAgICAgICAgZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc1RleHR1cmVcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgcGVuZGluZy5wdXNoKFxyXG4gICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxyXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXHJcbiAgICAgICAgICAnY2xlYXJjb2F0Tm9ybWFsTWFwJyxcclxuICAgICAgICAgIGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlLnNjYWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YXIgc2NhbGUgPSBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZS5zY2FsZTtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUgPSBuZXcgVmVjdG9yMihzY2FsZSwgc2NhbGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xyXG4gIH07XHJcblxyXG4gIC8qIEJJTkFSWSBFWFRFTlNJT04gKi9cclxuICB2YXIgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMgPSAnZ2xURic7XHJcbiAgdmFyIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCA9IDEyO1xyXG4gIHZhciBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTID0geyBKU09OOiAweDRlNGY1MzRhLCBCSU46IDB4MDA0ZTQ5NDIgfTtcclxuXHJcbiAgZnVuY3Rpb24gR0xURkJpbmFyeUV4dGVuc2lvbihkYXRhKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURjtcclxuICAgIHRoaXMuY29udGVudCA9IG51bGw7XHJcbiAgICB0aGlzLmJvZHkgPSBudWxsO1xyXG5cclxuICAgIHZhciBoZWFkZXJWaWV3ID0gbmV3IERhdGFWaWV3KGRhdGEsIDAsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCk7XHJcblxyXG4gICAgdGhpcy5oZWFkZXIgPSB7XHJcbiAgICAgIG1hZ2ljOiBMb2FkZXJVdGlscy5kZWNvZGVUZXh0KG5ldyBVaW50OEFycmF5KGRhdGEuc2xpY2UoMCwgNCkpKSxcclxuICAgICAgdmVyc2lvbjogaGVhZGVyVmlldy5nZXRVaW50MzIoNCwgdHJ1ZSksXHJcbiAgICAgIGxlbmd0aDogaGVhZGVyVmlldy5nZXRVaW50MzIoOCwgdHJ1ZSlcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHRoaXMuaGVhZGVyLm1hZ2ljICE9PSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGdsVEYtQmluYXJ5IGhlYWRlci4nKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5oZWFkZXIudmVyc2lvbiA8IDIuMCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IExlZ2FjeSBiaW5hcnkgZmlsZSBkZXRlY3RlZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgY2h1bmtWaWV3ID0gbmV3IERhdGFWaWV3KGRhdGEsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCk7XHJcbiAgICB2YXIgY2h1bmtJbmRleCA9IDA7XHJcblxyXG4gICAgd2hpbGUgKGNodW5rSW5kZXggPCBjaHVua1ZpZXcuYnl0ZUxlbmd0aCkge1xyXG4gICAgICB2YXIgY2h1bmtMZW5ndGggPSBjaHVua1ZpZXcuZ2V0VWludDMyKGNodW5rSW5kZXgsIHRydWUpO1xyXG4gICAgICBjaHVua0luZGV4ICs9IDQ7XHJcblxyXG4gICAgICB2YXIgY2h1bmtUeXBlID0gY2h1bmtWaWV3LmdldFVpbnQzMihjaHVua0luZGV4LCB0cnVlKTtcclxuICAgICAgY2h1bmtJbmRleCArPSA0O1xyXG5cclxuICAgICAgaWYgKGNodW5rVHlwZSA9PT0gQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUy5KU09OKSB7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRBcnJheSA9IG5ldyBVaW50OEFycmF5KFxyXG4gICAgICAgICAgZGF0YSxcclxuICAgICAgICAgIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCArIGNodW5rSW5kZXgsXHJcbiAgICAgICAgICBjaHVua0xlbmd0aFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChjb250ZW50QXJyYXkpO1xyXG4gICAgICB9IGVsc2UgaWYgKGNodW5rVHlwZSA9PT0gQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUy5CSU4pIHtcclxuICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCArIGNodW5rSW5kZXg7XHJcbiAgICAgICAgdGhpcy5ib2R5ID0gZGF0YS5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgY2h1bmtMZW5ndGgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDbGllbnRzIG11c3QgaWdub3JlIGNodW5rcyB3aXRoIHVua25vd24gdHlwZXMuXHJcblxyXG4gICAgICBjaHVua0luZGV4ICs9IGNodW5rTGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmNvbnRlbnQgPT09IG51bGwpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBKU09OIGNvbnRlbnQgbm90IGZvdW5kLicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRFJBQ08gTWVzaCBDb21wcmVzc2lvbiBFeHRlbnNpb25cclxuICAgKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uKGpzb24sIGRyYWNvTG9hZGVyKSB7XHJcbiAgICBpZiAoIWRyYWNvTG9hZGVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogTm8gRFJBQ09Mb2FkZXIgaW5zdGFuY2UgcHJvdmlkZWQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjtcclxuICAgIHRoaXMuanNvbiA9IGpzb247XHJcbiAgICB0aGlzLmRyYWNvTG9hZGVyID0gZHJhY29Mb2FkZXI7XHJcbiAgICB0aGlzLmRyYWNvTG9hZGVyLnByZWxvYWQoKTtcclxuICB9XHJcblxyXG4gIEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbi5wcm90b3R5cGUuZGVjb2RlUHJpbWl0aXZlID0gZnVuY3Rpb24gKHByaW1pdGl2ZSwgcGFyc2VyKSB7XHJcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcclxuICAgIHZhciBkcmFjb0xvYWRlciA9IHRoaXMuZHJhY29Mb2FkZXI7XHJcbiAgICB2YXIgYnVmZmVyVmlld0luZGV4ID0gcHJpbWl0aXZlLmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5idWZmZXJWaWV3O1xyXG4gICAgdmFyIGdsdGZBdHRyaWJ1dGVNYXAgPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLmF0dHJpYnV0ZXM7XHJcbiAgICB2YXIgdGhyZWVBdHRyaWJ1dGVNYXAgPSB7fTtcclxuICAgIHZhciBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwID0ge307XHJcbiAgICB2YXIgYXR0cmlidXRlVHlwZU1hcCA9IHt9O1xyXG5cclxuICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gZ2x0ZkF0dHJpYnV0ZU1hcCkge1xyXG4gICAgICB2YXIgdGhyZWVBdHRyaWJ1dGVOYW1lID0gQVRUUklCVVRFU1thdHRyaWJ1dGVOYW1lXSB8fCBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICB0aHJlZUF0dHJpYnV0ZU1hcFt0aHJlZUF0dHJpYnV0ZU5hbWVdID0gZ2x0ZkF0dHJpYnV0ZU1hcFthdHRyaWJ1dGVOYW1lXTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGF0dHJpYnV0ZU5hbWUgaW4gcHJpbWl0aXZlLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbYXR0cmlidXRlTmFtZV0gfHwgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgaWYgKGdsdGZBdHRyaWJ1dGVNYXBbYXR0cmlidXRlTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhciBhY2Nlc3NvckRlZiA9IGpzb24uYWNjZXNzb3JzW3ByaW1pdGl2ZS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdXTtcclxuICAgICAgICB2YXIgY29tcG9uZW50VHlwZSA9IFdFQkdMX0NPTVBPTkVOVF9UWVBFU1thY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlXTtcclxuXHJcbiAgICAgICAgYXR0cmlidXRlVHlwZU1hcFt0aHJlZUF0dHJpYnV0ZU5hbWVdID0gY29tcG9uZW50VHlwZTtcclxuICAgICAgICBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwW3RocmVlQXR0cmlidXRlTmFtZV0gPSBhY2Nlc3NvckRlZi5ub3JtYWxpemVkID09PSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYnVmZmVyVmlld0luZGV4KS50aGVuKGZ1bmN0aW9uIChidWZmZXJWaWV3KSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgIGRyYWNvTG9hZGVyLmRlY29kZURyYWNvRmlsZShcclxuICAgICAgICAgIGJ1ZmZlclZpZXcsXHJcbiAgICAgICAgICBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwW2F0dHJpYnV0ZU5hbWVdO1xyXG5cclxuICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZCAhPT0gdW5kZWZpbmVkKSBhdHRyaWJ1dGUubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlc29sdmUoZ2VvbWV0cnkpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHRocmVlQXR0cmlidXRlTWFwLFxyXG4gICAgICAgICAgYXR0cmlidXRlVHlwZU1hcFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogVGV4dHVyZSBUcmFuc2Zvcm0gRXh0ZW5zaW9uXHJcbiAgICpcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV90cmFuc2Zvcm1cclxuICAgKi9cclxuICBmdW5jdGlvbiBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbigpIHtcclxuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNO1xyXG4gIH1cclxuXHJcbiAgR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSwgdHJhbnNmb3JtKSB7XHJcbiAgICB0ZXh0dXJlID0gdGV4dHVyZS5jbG9uZSgpO1xyXG5cclxuICAgIGlmICh0cmFuc2Zvcm0ub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGV4dHVyZS5vZmZzZXQuZnJvbUFycmF5KHRyYW5zZm9ybS5vZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0cmFuc2Zvcm0ucm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0ZXh0dXJlLnJvdGF0aW9uID0gdHJhbnNmb3JtLnJvdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0cmFuc2Zvcm0uc2NhbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0ZXh0dXJlLnJlcGVhdC5mcm9tQXJyYXkodHJhbnNmb3JtLnNjYWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHJhbnNmb3JtLnRleENvb3JkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBDdXN0b20gVVYgc2V0cyBpbiBcIicgKyB0aGlzLm5hbWUgKyAnXCIgZXh0ZW5zaW9uIG5vdCB5ZXQgc3VwcG9ydGVkLidcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4gdGV4dHVyZTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTcGVjdWxhci1HbG9zc2luZXNzIEV4dGVuc2lvblxyXG4gICAqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19wYnJTcGVjdWxhckdsb3NzaW5lc3NcclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQSBzdWIgY2xhc3Mgb2YgU3RhbmRhcmRNYXRlcmlhbCB3aXRoIHNvbWUgb2YgdGhlIGZ1bmN0aW9uYWxpdHlcclxuICAgKiBjaGFuZ2VkIHZpYSB0aGUgYG9uQmVmb3JlQ29tcGlsZWAgY2FsbGJhY2tcclxuICAgKiBAcGFpbGhlYWRcclxuICAgKi9cclxuXHJcbiAgZnVuY3Rpb24gR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwocGFyYW1zKSB7XHJcbiAgICBNZXNoU3RhbmRhcmRNYXRlcmlhbC5jYWxsKHRoaXMpO1xyXG5cclxuICAgIHRoaXMuaXNHTFRGU3BlY3VsYXJHbG9zc2luZXNzTWF0ZXJpYWwgPSB0cnVlO1xyXG5cclxuICAgIC8vdmFyaW91cyBjaHVua3MgdGhhdCBuZWVkIHJlcGxhY2luZ1xyXG4gICAgdmFyIHNwZWN1bGFyTWFwUGFyc0ZyYWdtZW50Q2h1bmsgPSBbXHJcbiAgICAgICcjaWZkZWYgVVNFX1NQRUNVTEFSTUFQJyxcclxuICAgICAgJ1x0dW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7JyxcclxuICAgICAgJyNlbmRpZicsXHJcbiAgICBdLmpvaW4oJ1xcbicpO1xyXG5cclxuICAgIHZhciBnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmsgPSBbXHJcbiAgICAgICcjaWZkZWYgVVNFX0dMT1NTSU5FU1NNQVAnLFxyXG4gICAgICAnXHR1bmlmb3JtIHNhbXBsZXIyRCBnbG9zc2luZXNzTWFwOycsXHJcbiAgICAgICcjZW5kaWYnLFxyXG4gICAgXS5qb2luKCdcXG4nKTtcclxuXHJcbiAgICB2YXIgc3BlY3VsYXJNYXBGcmFnbWVudENodW5rID0gW1xyXG4gICAgICAndmVjMyBzcGVjdWxhckZhY3RvciA9IHNwZWN1bGFyOycsXHJcbiAgICAgICcjaWZkZWYgVVNFX1NQRUNVTEFSTUFQJyxcclxuICAgICAgJ1x0dmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7JyxcclxuICAgICAgJ1x0dGV4ZWxTcGVjdWxhciA9IHNSR0JUb0xpbmVhciggdGV4ZWxTcGVjdWxhciApOycsXHJcbiAgICAgICdcdC8vIHJlYWRzIGNoYW5uZWwgUkdCLCBjb21wYXRpYmxlIHdpdGggYSBnbFRGIFNwZWN1bGFyLUdsb3NzaW5lc3MgKFJHQkEpIHRleHR1cmUnLFxyXG4gICAgICAnXHRzcGVjdWxhckZhY3RvciAqPSB0ZXhlbFNwZWN1bGFyLnJnYjsnLFxyXG4gICAgICAnI2VuZGlmJyxcclxuICAgIF0uam9pbignXFxuJyk7XHJcblxyXG4gICAgdmFyIGdsb3NzaW5lc3NNYXBGcmFnbWVudENodW5rID0gW1xyXG4gICAgICAnZmxvYXQgZ2xvc3NpbmVzc0ZhY3RvciA9IGdsb3NzaW5lc3M7JyxcclxuICAgICAgJyNpZmRlZiBVU0VfR0xPU1NJTkVTU01BUCcsXHJcbiAgICAgICdcdHZlYzQgdGV4ZWxHbG9zc2luZXNzID0gdGV4dHVyZTJEKCBnbG9zc2luZXNzTWFwLCB2VXYgKTsnLFxyXG4gICAgICAnXHQvLyByZWFkcyBjaGFubmVsIEEsIGNvbXBhdGlibGUgd2l0aCBhIGdsVEYgU3BlY3VsYXItR2xvc3NpbmVzcyAoUkdCQSkgdGV4dHVyZScsXHJcbiAgICAgICdcdGdsb3NzaW5lc3NGYWN0b3IgKj0gdGV4ZWxHbG9zc2luZXNzLmE7JyxcclxuICAgICAgJyNlbmRpZicsXHJcbiAgICBdLmpvaW4oJ1xcbicpO1xyXG5cclxuICAgIHZhciBsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVuayA9IFtcclxuICAgICAgJ1BoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWw7JyxcclxuICAgICAgJ21hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2I7JyxcclxuICAgICAgJ3ZlYzMgZHh5ID0gbWF4KCBhYnMoIGRGZHgoIGdlb21ldHJ5Tm9ybWFsICkgKSwgYWJzKCBkRmR5KCBnZW9tZXRyeU5vcm1hbCApICkgKTsnLFxyXG4gICAgICAnZmxvYXQgZ2VvbWV0cnlSb3VnaG5lc3MgPSBtYXgoIG1heCggZHh5LngsIGR4eS55ICksIGR4eS56ICk7JyxcclxuICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzID0gbWF4KCAxLjAgLSBnbG9zc2luZXNzRmFjdG9yLCAwLjA1MjUgKTsvLyAwLjA1MjUgY29ycmVzcG9uZHMgdG8gdGhlIGJhc2UgbWlwIG9mIGEgMjU2IGN1YmVtYXAuJyxcclxuICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzOycsXHJcbiAgICAgICdtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyA9IG1pbiggbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsIDEuMCApOycsXHJcbiAgICAgICdtYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gc3BlY3VsYXJGYWN0b3IucmdiOycsXHJcbiAgICBdLmpvaW4oJ1xcbicpO1xyXG5cclxuICAgIHZhciB1bmlmb3JtcyA9IHtcclxuICAgICAgc3BlY3VsYXI6IHsgdmFsdWU6IG5ldyBDb2xvcigpLnNldEhleCgweGZmZmZmZikgfSxcclxuICAgICAgZ2xvc3NpbmVzczogeyB2YWx1ZTogMSB9LFxyXG4gICAgICBzcGVjdWxhck1hcDogeyB2YWx1ZTogbnVsbCB9LFxyXG4gICAgICBnbG9zc2luZXNzTWFwOiB7IHZhbHVlOiBudWxsIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX2V4dHJhVW5pZm9ybXMgPSB1bmlmb3JtcztcclxuXHJcbiAgICAvLyBwbGVhc2Ugc2VlICMxNDAzMSBvciAjMTMxOTggZm9yIGFuIGFsdGVybmF0ZSBhcHByb2FjaFxyXG4gICAgdGhpcy5vbkJlZm9yZUNvbXBpbGUgPSBmdW5jdGlvbiAoc2hhZGVyKSB7XHJcbiAgICAgIGZvciAodmFyIHVuaWZvcm1OYW1lIGluIHVuaWZvcm1zKSB7XHJcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zW3VuaWZvcm1OYW1lXSA9IHVuaWZvcm1zW3VuaWZvcm1OYW1lXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXHJcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgcm91Z2huZXNzOycsXHJcbiAgICAgICAgJ3VuaWZvcm0gdmVjMyBzcGVjdWxhcjsnXHJcbiAgICAgICk7XHJcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxyXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IG1ldGFsbmVzczsnLFxyXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IGdsb3NzaW5lc3M7J1xyXG4gICAgICApO1xyXG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcclxuICAgICAgICAnI2luY2x1ZGUgPHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50PicsXHJcbiAgICAgICAgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVua1xyXG4gICAgICApO1xyXG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcclxuICAgICAgICAnI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PicsXHJcbiAgICAgICAgZ2xvc3NpbmVzc01hcFBhcnNGcmFnbWVudENodW5rXHJcbiAgICAgICk7XHJcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxyXG4gICAgICAgICcjaW5jbHVkZSA8cm91Z2huZXNzbWFwX2ZyYWdtZW50PicsXHJcbiAgICAgICAgc3BlY3VsYXJNYXBGcmFnbWVudENodW5rXHJcbiAgICAgICk7XHJcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxyXG4gICAgICAgICcjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX2ZyYWdtZW50PicsXHJcbiAgICAgICAgZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmtcclxuICAgICAgKTtcclxuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXHJcbiAgICAgICAgJyNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ+JyxcclxuICAgICAgICBsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVua1xyXG4gICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKmVzbGludC1kaXNhYmxlKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcclxuICAgICAgc3BlY3VsYXI6IHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiB1bmlmb3Jtcy5zcGVjdWxhci52YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgIHVuaWZvcm1zLnNwZWN1bGFyLnZhbHVlID0gdjtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBzcGVjdWxhck1hcDoge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLnNwZWN1bGFyTWFwLnZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgdW5pZm9ybXMuc3BlY3VsYXJNYXAudmFsdWUgPSB2O1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGdsb3NzaW5lc3M6IHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiB1bmlmb3Jtcy5nbG9zc2luZXNzLnZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgdW5pZm9ybXMuZ2xvc3NpbmVzcy52YWx1ZSA9IHY7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgZ2xvc3NpbmVzc01hcDoge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLmdsb3NzaW5lc3NNYXAudmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICB1bmlmb3Jtcy5nbG9zc2luZXNzTWFwLnZhbHVlID0gdjtcclxuICAgICAgICAgIC8vaG93IGFib3V0IHNvbWV0aGluZyBsaWtlIHRoaXMgLSBAcGFpbGhlYWRcclxuICAgICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5VU0VfR0xPU1NJTkVTU01BUCA9ICcnO1xyXG4gICAgICAgICAgICAvLyBzZXQgVVNFX1JPVUdITkVTU01BUCB0byBlbmFibGUgdlV2XHJcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5VU0VfUk9VR0hORVNTTUFQID0gJyc7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWZpbmVzLlVTRV9ST1VHSE5FU1NNQVA7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZXMuVVNFX0dMT1NTSU5FU1NNQVA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8qZXNsaW50LWVuYWJsZSovXHJcbiAgICBkZWxldGUgdGhpcy5tZXRhbG5lc3M7XHJcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3M7XHJcbiAgICBkZWxldGUgdGhpcy5tZXRhbG5lc3NNYXA7XHJcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3NNYXA7XHJcblxyXG4gICAgdGhpcy5zZXRWYWx1ZXMocGFyYW1zKTtcclxuICB9XHJcblxyXG4gIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWVzaFN0YW5kYXJkTWF0ZXJpYWwucHJvdG90eXBlKTtcclxuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbDtcclxuXHJcbiAgR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiAoc291cmNlKSB7XHJcbiAgICBNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsIHNvdXJjZSk7XHJcbiAgICB0aGlzLnNwZWN1bGFyTWFwID0gc291cmNlLnNwZWN1bGFyTWFwO1xyXG4gICAgdGhpcy5zcGVjdWxhci5jb3B5KHNvdXJjZS5zcGVjdWxhcik7XHJcbiAgICB0aGlzLmdsb3NzaW5lc3NNYXAgPSBzb3VyY2UuZ2xvc3NpbmVzc01hcDtcclxuICAgIHRoaXMuZ2xvc3NpbmVzcyA9IHNvdXJjZS5nbG9zc2luZXNzO1xyXG4gICAgZGVsZXRlIHRoaXMubWV0YWxuZXNzO1xyXG4gICAgZGVsZXRlIHRoaXMucm91Z2huZXNzO1xyXG4gICAgZGVsZXRlIHRoaXMubWV0YWxuZXNzTWFwO1xyXG4gICAgZGVsZXRlIHRoaXMucm91Z2huZXNzTWFwO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUyxcclxuXHJcbiAgICAgIHNwZWN1bGFyR2xvc3NpbmVzc1BhcmFtczogW1xyXG4gICAgICAgICdjb2xvcicsXHJcbiAgICAgICAgJ21hcCcsXHJcbiAgICAgICAgJ2xpZ2h0TWFwJyxcclxuICAgICAgICAnbGlnaHRNYXBJbnRlbnNpdHknLFxyXG4gICAgICAgICdhb01hcCcsXHJcbiAgICAgICAgJ2FvTWFwSW50ZW5zaXR5JyxcclxuICAgICAgICAnZW1pc3NpdmUnLFxyXG4gICAgICAgICdlbWlzc2l2ZUludGVuc2l0eScsXHJcbiAgICAgICAgJ2VtaXNzaXZlTWFwJyxcclxuICAgICAgICAnYnVtcE1hcCcsXHJcbiAgICAgICAgJ2J1bXBTY2FsZScsXHJcbiAgICAgICAgJ25vcm1hbE1hcCcsXHJcbiAgICAgICAgJ25vcm1hbE1hcFR5cGUnLFxyXG4gICAgICAgICdkaXNwbGFjZW1lbnRNYXAnLFxyXG4gICAgICAgICdkaXNwbGFjZW1lbnRTY2FsZScsXHJcbiAgICAgICAgJ2Rpc3BsYWNlbWVudEJpYXMnLFxyXG4gICAgICAgICdzcGVjdWxhck1hcCcsXHJcbiAgICAgICAgJ3NwZWN1bGFyJyxcclxuICAgICAgICAnZ2xvc3NpbmVzc01hcCcsXHJcbiAgICAgICAgJ2dsb3NzaW5lc3MnLFxyXG4gICAgICAgICdhbHBoYU1hcCcsXHJcbiAgICAgICAgJ2Vudk1hcCcsXHJcbiAgICAgICAgJ2Vudk1hcEludGVuc2l0eScsXHJcbiAgICAgICAgJ3JlZnJhY3Rpb25SYXRpbycsXHJcbiAgICAgIF0sXHJcblxyXG4gICAgICBnZXRNYXRlcmlhbFR5cGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWw7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBleHRlbmRQYXJhbXM6IGZ1bmN0aW9uIChtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcikge1xyXG4gICAgICAgIHZhciBwYnJTcGVjdWxhckdsb3NzaW5lc3MgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV07XHJcblxyXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yID0gbmV3IENvbG9yKDEuMCwgMS4wLCAxLjApO1xyXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XHJcblxyXG4gICAgICAgIHZhciBwZW5kaW5nID0gW107XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlRmFjdG9yKSkge1xyXG4gICAgICAgICAgdmFyIGFycmF5ID0gcGJyU3BlY3VsYXJHbG9zc2luZXNzLmRpZmZ1c2VGYWN0b3I7XHJcblxyXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KGFycmF5KTtcclxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSBhcnJheVszXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZVRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgcGVuZGluZy5wdXNoKFxyXG4gICAgICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ21hcCcsIHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlVGV4dHVyZSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZSA9IG5ldyBDb2xvcigwLjAsIDAuMCwgMC4wKTtcclxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzID1cclxuICAgICAgICAgIHBiclNwZWN1bGFyR2xvc3NpbmVzcy5nbG9zc2luZXNzRmFjdG9yICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgPyBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZ2xvc3NpbmVzc0ZhY3RvclxyXG4gICAgICAgICAgICA6IDEuMDtcclxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhciA9IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wKTtcclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyRmFjdG9yKSkge1xyXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXIuZnJvbUFycmF5KHBiclNwZWN1bGFyR2xvc3NpbmVzcy5zcGVjdWxhckZhY3Rvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgdmFyIHNwZWNHbG9zc01hcERlZiA9IHBiclNwZWN1bGFyR2xvc3NpbmVzcy5zcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlO1xyXG4gICAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnZ2xvc3NpbmVzc01hcCcsIHNwZWNHbG9zc01hcERlZikpO1xyXG4gICAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnc3BlY3VsYXJNYXAnLCBzcGVjR2xvc3NNYXBEZWYpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZU1hdGVyaWFsOiBmdW5jdGlvbiAobWF0ZXJpYWxQYXJhbXMpIHtcclxuICAgICAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwobWF0ZXJpYWxQYXJhbXMpO1xyXG4gICAgICAgIG1hdGVyaWFsLmZvZyA9IHRydWU7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLmNvbG9yID0gbWF0ZXJpYWxQYXJhbXMuY29sb3I7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLm1hcCA9IG1hdGVyaWFsUGFyYW1zLm1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLm1hcDtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWwubGlnaHRNYXAgPSBudWxsO1xyXG4gICAgICAgIG1hdGVyaWFsLmxpZ2h0TWFwSW50ZW5zaXR5ID0gMS4wO1xyXG5cclxuICAgICAgICBtYXRlcmlhbC5hb01hcCA9IG1hdGVyaWFsUGFyYW1zLmFvTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuYW9NYXA7XHJcbiAgICAgICAgbWF0ZXJpYWwuYW9NYXBJbnRlbnNpdHkgPSAxLjA7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLmVtaXNzaXZlID0gbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmU7XHJcbiAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkgPSAxLjA7XHJcbiAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmVNYXAgPVxyXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmVNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZU1hcDtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWwuYnVtcE1hcCA9IG1hdGVyaWFsUGFyYW1zLmJ1bXBNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5idW1wTWFwO1xyXG4gICAgICAgIG1hdGVyaWFsLmJ1bXBTY2FsZSA9IDE7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLm5vcm1hbE1hcCA9XHJcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXA7XHJcbiAgICAgICAgbWF0ZXJpYWwubm9ybWFsTWFwVHlwZSA9IFRhbmdlbnRTcGFjZU5vcm1hbE1hcDtcclxuXHJcbiAgICAgICAgaWYgKG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlKSBtYXRlcmlhbC5ub3JtYWxTY2FsZSA9IG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlO1xyXG5cclxuICAgICAgICBtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXAgPSBudWxsO1xyXG4gICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudFNjYWxlID0gMTtcclxuICAgICAgICBtYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzID0gMDtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXJNYXAgPVxyXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXJNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhck1hcDtcclxuICAgICAgICBtYXRlcmlhbC5zcGVjdWxhciA9IG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyO1xyXG5cclxuICAgICAgICBtYXRlcmlhbC5nbG9zc2luZXNzTWFwID1cclxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3NNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzTWFwO1xyXG4gICAgICAgIG1hdGVyaWFsLmdsb3NzaW5lc3MgPSBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzO1xyXG5cclxuICAgICAgICBtYXRlcmlhbC5hbHBoYU1hcCA9IG51bGw7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLmVudk1hcCA9IG1hdGVyaWFsUGFyYW1zLmVudk1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmVudk1hcDtcclxuICAgICAgICBtYXRlcmlhbC5lbnZNYXBJbnRlbnNpdHkgPSAxLjA7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLnJlZnJhY3Rpb25SYXRpbyA9IDAuOTg7XHJcblxyXG4gICAgICAgIHJldHVybiBtYXRlcmlhbDtcclxuICAgICAgfSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNZXNoIFF1YW50aXphdGlvbiBFeHRlbnNpb25cclxuICAgKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tZXNoX3F1YW50aXphdGlvblxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIEdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uKCkge1xyXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUVTSF9RVUFOVElaQVRJT047XHJcbiAgfVxyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIC8qKioqKioqKioqIElOVEVSUE9MQVRJT04gKioqKioqKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLy8gU3BsaW5lIEludGVycG9sYXRpb25cclxuICAvLyBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2FwcGVuZGl4LWMtc3BsaW5lLWludGVycG9sYXRpb25cclxuICBmdW5jdGlvbiBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudChwYXJhbWV0ZXJQb3NpdGlvbnMsIHNhbXBsZVZhbHVlcywgc2FtcGxlU2l6ZSwgcmVzdWx0QnVmZmVyKSB7XHJcbiAgICBJbnRlcnBvbGFudC5jYWxsKHRoaXMsIHBhcmFtZXRlclBvc2l0aW9ucywgc2FtcGxlVmFsdWVzLCBzYW1wbGVTaXplLCByZXN1bHRCdWZmZXIpO1xyXG4gIH1cclxuXHJcbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJbnRlcnBvbGFudC5wcm90b3R5cGUpO1xyXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50O1xyXG5cclxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXyA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgLy8gQ29waWVzIGEgc2FtcGxlIHZhbHVlIHRvIHRoZSByZXN1bHQgYnVmZmVyLiBTZWUgZGVzY3JpcHRpb24gb2YgZ2xURlxyXG4gICAgLy8gQ1VCSUNTUExJTkUgdmFsdWVzIGxheW91dCBpbiBpbnRlcnBvbGF0ZV8oKSBmdW5jdGlvbiBiZWxvdy5cclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5yZXN1bHRCdWZmZXIsXHJcbiAgICAgICAgdmFsdWVzID0gdGhpcy5zYW1wbGVWYWx1ZXMsXHJcbiAgICAgICAgdmFsdWVTaXplID0gdGhpcy52YWx1ZVNpemUsXHJcbiAgICAgICAgb2Zmc2V0ID0gaW5kZXggKiB2YWx1ZVNpemUgKiAzICsgdmFsdWVTaXplO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSB2YWx1ZVNpemU7IGkrKykge1xyXG4gICAgICByZXN1bHRbaV0gPSB2YWx1ZXNbb2Zmc2V0ICsgaV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG5cclxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuYmVmb3JlU3RhcnRfID1cclxuICAgIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfO1xyXG5cclxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuYWZ0ZXJFbmRfID1cclxuICAgIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfO1xyXG5cclxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuaW50ZXJwb2xhdGVfID0gZnVuY3Rpb24gKGkxLCB0MCwgdCwgdDEpIHtcclxuICAgIHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdEJ1ZmZlcjtcclxuICAgIHZhciB2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcztcclxuICAgIHZhciBzdHJpZGUgPSB0aGlzLnZhbHVlU2l6ZTtcclxuXHJcbiAgICB2YXIgc3RyaWRlMiA9IHN0cmlkZSAqIDI7XHJcbiAgICB2YXIgc3RyaWRlMyA9IHN0cmlkZSAqIDM7XHJcblxyXG4gICAgdmFyIHRkID0gdDEgLSB0MDtcclxuXHJcbiAgICB2YXIgcCA9ICh0IC0gdDApIC8gdGQ7XHJcbiAgICB2YXIgcHAgPSBwICogcDtcclxuICAgIHZhciBwcHAgPSBwcCAqIHA7XHJcblxyXG4gICAgdmFyIG9mZnNldDEgPSBpMSAqIHN0cmlkZTM7XHJcbiAgICB2YXIgb2Zmc2V0MCA9IG9mZnNldDEgLSBzdHJpZGUzO1xyXG5cclxuICAgIHZhciBzMiA9IC0yICogcHBwICsgMyAqIHBwO1xyXG4gICAgdmFyIHMzID0gcHBwIC0gcHA7XHJcbiAgICB2YXIgczAgPSAxIC0gczI7XHJcbiAgICB2YXIgczEgPSBzMyAtIHBwICsgcDtcclxuXHJcbiAgICAvLyBMYXlvdXQgb2Yga2V5ZnJhbWUgb3V0cHV0IHZhbHVlcyBmb3IgQ1VCSUNTUExJTkUgYW5pbWF0aW9uczpcclxuICAgIC8vICAgWyBpblRhbmdlbnRfMSwgc3BsaW5lVmVydGV4XzEsIG91dFRhbmdlbnRfMSwgaW5UYW5nZW50XzIsIHNwbGluZVZlcnRleF8yLCAuLi4gXVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IHN0cmlkZTsgaSsrKSB7XHJcbiAgICAgIHZhciBwMCA9IHZhbHVlc1tvZmZzZXQwICsgaSArIHN0cmlkZV07IC8vIHNwbGluZVZlcnRleF9rXHJcbiAgICAgIHZhciBtMCA9IHZhbHVlc1tvZmZzZXQwICsgaSArIHN0cmlkZTJdICogdGQ7IC8vIG91dFRhbmdlbnRfayAqICh0X2srMSAtIHRfaylcclxuICAgICAgdmFyIHAxID0gdmFsdWVzW29mZnNldDEgKyBpICsgc3RyaWRlXTsgLy8gc3BsaW5lVmVydGV4X2srMVxyXG4gICAgICB2YXIgbTEgPSB2YWx1ZXNbb2Zmc2V0MSArIGldICogdGQ7IC8vIGluVGFuZ2VudF9rKzEgKiAodF9rKzEgLSB0X2spXHJcblxyXG4gICAgICByZXN1bHRbaV0gPSBzMCAqIHAwICsgczEgKiBtMCArIHMyICogcDEgKyBzMyAqIG0xO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAvKioqKioqKioqKiBJTlRFUk5BTFMgKioqKioqKioqKioqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qIENPTlNUQU5UUyAqL1xyXG5cclxuICB2YXIgV0VCR0xfQ09OU1RBTlRTID0ge1xyXG4gICAgRkxPQVQ6IDUxMjYsXHJcbiAgICAvL0ZMT0FUX01BVDI6IDM1Njc0LFxyXG4gICAgRkxPQVRfTUFUMzogMzU2NzUsXHJcbiAgICBGTE9BVF9NQVQ0OiAzNTY3NixcclxuICAgIEZMT0FUX1ZFQzI6IDM1NjY0LFxyXG4gICAgRkxPQVRfVkVDMzogMzU2NjUsXHJcbiAgICBGTE9BVF9WRUM0OiAzNTY2NixcclxuICAgIExJTkVBUjogOTcyOSxcclxuICAgIFJFUEVBVDogMTA0OTcsXHJcbiAgICBTQU1QTEVSXzJEOiAzNTY3OCxcclxuICAgIFBPSU5UUzogMCxcclxuICAgIExJTkVTOiAxLFxyXG4gICAgTElORV9MT09QOiAyLFxyXG4gICAgTElORV9TVFJJUDogMyxcclxuICAgIFRSSUFOR0xFUzogNCxcclxuICAgIFRSSUFOR0xFX1NUUklQOiA1LFxyXG4gICAgVFJJQU5HTEVfRkFOOiA2LFxyXG4gICAgVU5TSUdORURfQllURTogNTEyMSxcclxuICAgIFVOU0lHTkVEX1NIT1JUOiA1MTIzLFxyXG4gIH07XHJcblxyXG4gIHZhciBXRUJHTF9DT01QT05FTlRfVFlQRVMgPSB7XHJcbiAgICA1MTIwOiBJbnQ4QXJyYXksXHJcbiAgICA1MTIxOiBVaW50OEFycmF5LFxyXG4gICAgNTEyMjogSW50MTZBcnJheSxcclxuICAgIDUxMjM6IFVpbnQxNkFycmF5LFxyXG4gICAgNTEyNTogVWludDMyQXJyYXksXHJcbiAgICA1MTI2OiBGbG9hdDMyQXJyYXksXHJcbiAgfTtcclxuXHJcbiAgdmFyIFdFQkdMX0ZJTFRFUlMgPSB7XHJcbiAgICA5NzI4OiBOZWFyZXN0RmlsdGVyLFxyXG4gICAgOTcyOTogTGluZWFyRmlsdGVyLFxyXG4gICAgOTk4NDogTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsXHJcbiAgICA5OTg1OiBMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyLFxyXG4gICAgOTk4NjogTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcclxuICAgIDk5ODc6IExpbmVhck1pcG1hcExpbmVhckZpbHRlcixcclxuICB9O1xyXG5cclxuICB2YXIgV0VCR0xfV1JBUFBJTkdTID0ge1xyXG4gICAgMzMwNzE6IENsYW1wVG9FZGdlV3JhcHBpbmcsXHJcbiAgICAzMzY0ODogTWlycm9yZWRSZXBlYXRXcmFwcGluZyxcclxuICAgIDEwNDk3OiBSZXBlYXRXcmFwcGluZyxcclxuICB9O1xyXG5cclxuICB2YXIgV0VCR0xfVFlQRV9TSVpFUyA9IHtcclxuICAgIFNDQUxBUjogMSxcclxuICAgIFZFQzI6IDIsXHJcbiAgICBWRUMzOiAzLFxyXG4gICAgVkVDNDogNCxcclxuICAgIE1BVDI6IDQsXHJcbiAgICBNQVQzOiA5LFxyXG4gICAgTUFUNDogMTYsXHJcbiAgfTtcclxuXHJcbiAgdmFyIEFUVFJJQlVURVMgPSB7XHJcbiAgICBQT1NJVElPTjogJ3Bvc2l0aW9uJyxcclxuICAgIE5PUk1BTDogJ25vcm1hbCcsXHJcbiAgICBUQU5HRU5UOiAndGFuZ2VudCcsXHJcbiAgICBURVhDT09SRF8wOiAndXYnLFxyXG4gICAgVEVYQ09PUkRfMTogJ3V2MicsXHJcbiAgICBDT0xPUl8wOiAnY29sb3InLFxyXG4gICAgV0VJR0hUU18wOiAnc2tpbldlaWdodCcsXHJcbiAgICBKT0lOVFNfMDogJ3NraW5JbmRleCcsXHJcbiAgfTtcclxuXHJcbiAgdmFyIFBBVEhfUFJPUEVSVElFUyA9IHtcclxuICAgIHNjYWxlOiAnc2NhbGUnLFxyXG4gICAgdHJhbnNsYXRpb246ICdwb3NpdGlvbicsXHJcbiAgICByb3RhdGlvbjogJ3F1YXRlcm5pb24nLFxyXG4gICAgd2VpZ2h0czogJ21vcnBoVGFyZ2V0SW5mbHVlbmNlcycsXHJcbiAgfTtcclxuXHJcbiAgdmFyIElOVEVSUE9MQVRJT04gPSB7XHJcbiAgICBDVUJJQ1NQTElORTogdW5kZWZpbmVkLCAvLyBXZSB1c2UgYSBjdXN0b20gaW50ZXJwb2xhbnQgKEdMVEZDdWJpY1NwbGluZUludGVycG9sYXRpb24pIGZvciBDVUJJQ1NQTElORSB0cmFja3MuIEVhY2hcclxuICAgIC8vIGtleWZyYW1lIHRyYWNrIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhIGRlZmF1bHQgaW50ZXJwb2xhdGlvbiB0eXBlLCB0aGVuIG1vZGlmaWVkLlxyXG4gICAgTElORUFSOiBJbnRlcnBvbGF0ZUxpbmVhcixcclxuICAgIFNURVA6IEludGVycG9sYXRlRGlzY3JldGUsXHJcbiAgfTtcclxuXHJcbiAgdmFyIEFMUEhBX01PREVTID0ge1xyXG4gICAgT1BBUVVFOiAnT1BBUVVFJyxcclxuICAgIE1BU0s6ICdNQVNLJyxcclxuICAgIEJMRU5EOiAnQkxFTkQnLFxyXG4gIH07XHJcblxyXG4gIHZhciBNSU1FX1RZUEVfRk9STUFUUyA9IHtcclxuICAgICdpbWFnZS9wbmcnOiBSR0JBRm9ybWF0LFxyXG4gICAgJ2ltYWdlL2pwZWcnOiBSR0JGb3JtYXQsXHJcbiAgfTtcclxuXHJcbiAgLyogVVRJTElUWSBGVU5DVElPTlMgKi9cclxuXHJcbiAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwsIHBhdGgpIHtcclxuICAgIC8vIEludmFsaWQgVVJMXHJcbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycgfHwgdXJsID09PSAnJykgcmV0dXJuICcnO1xyXG5cclxuICAgIC8vIEhvc3QgUmVsYXRpdmUgVVJMXHJcbiAgICBpZiAoL15odHRwcz86XFwvXFwvL2kudGVzdChwYXRoKSAmJiAvXlxcLy8udGVzdCh1cmwpKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxyXG4gICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC8oXmh0dHBzPzpcXC9cXC9bXlxcL10rKS4qL2ksICckMScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFic29sdXRlIFVSTCBodHRwOi8vLGh0dHBzOi8vLC8vXHJcbiAgICBpZiAoL14oaHR0cHM/Oik/XFwvXFwvL2kudGVzdCh1cmwpKSByZXR1cm4gdXJsO1xyXG5cclxuICAgIC8vIERhdGEgVVJJXHJcbiAgICBpZiAoL15kYXRhOi4qLC4qJC9pLnRlc3QodXJsKSkgcmV0dXJuIHVybDtcclxuXHJcbiAgICAvLyBCbG9iIFVSTFxyXG4gICAgaWYgKC9eYmxvYjouKiQvaS50ZXN0KHVybCkpIHJldHVybiB1cmw7XHJcblxyXG4gICAgLy8gUmVsYXRpdmUgVVJMXHJcbiAgICByZXR1cm4gcGF0aCArIHVybDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjZGVmYXVsdC1tYXRlcmlhbFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRNYXRlcmlhbChjYWNoZSkge1xyXG4gICAgaWYgKGNhY2hlWydEZWZhdWx0TWF0ZXJpYWwnXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGNhY2hlWydEZWZhdWx0TWF0ZXJpYWwnXSA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICAgICAgY29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgICAgIGVtaXNzaXZlOiAweDAwMDAwMCxcclxuICAgICAgICBtZXRhbG5lc3M6IDEsXHJcbiAgICAgICAgcm91Z2huZXNzOiAxLFxyXG4gICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcclxuICAgICAgICBkZXB0aFRlc3Q6IHRydWUsXHJcbiAgICAgICAgc2lkZTogRnJvbnRTaWRlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FjaGVbJ0RlZmF1bHRNYXRlcmlhbCddO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGtub3duRXh0ZW5zaW9ucywgb2JqZWN0LCBvYmplY3REZWYpIHtcclxuICAgIC8vIEFkZCB1bmtub3duIGdsVEYgZXh0ZW5zaW9ucyB0byBhbiBvYmplY3QncyB1c2VyRGF0YS5cclxuXHJcbiAgICBmb3IgKHZhciBuYW1lIGluIG9iamVjdERlZi5leHRlbnNpb25zKSB7XHJcbiAgICAgIGlmIChrbm93bkV4dGVuc2lvbnNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyA9IG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyB8fCB7fTtcclxuICAgICAgICBvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnNbbmFtZV0gPSBvYmplY3REZWYuZXh0ZW5zaW9uc1tuYW1lXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtPYmplY3QzRHxNYXRlcmlhbHxCdWZmZXJHZW9tZXRyeX0gb2JqZWN0XHJcbiAgICogQHBhcmFtIHtHTFRGLmRlZmluaXRpb259IGdsdGZEZWZcclxuICAgKi9cclxuICBmdW5jdGlvbiBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKG9iamVjdCwgZ2x0ZkRlZikge1xyXG4gICAgaWYgKGdsdGZEZWYuZXh0cmFzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaWYgKHR5cGVvZiBnbHRmRGVmLmV4dHJhcyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKG9iamVjdC51c2VyRGF0YSwgZ2x0ZkRlZi5leHRyYXMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogSWdub3JpbmcgcHJpbWl0aXZlIHR5cGUgLmV4dHJhcywgJyArIGdsdGZEZWYuZXh0cmFzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtb3JwaC10YXJnZXRzXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxyXG4gICAqIEBwYXJhbSB7QXJyYXk8R0xURi5UYXJnZXQ+fSB0YXJnZXRzXHJcbiAgICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXJcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckdlb21ldHJ5Pn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBhZGRNb3JwaFRhcmdldHMoZ2VvbWV0cnksIHRhcmdldHMsIHBhcnNlcikge1xyXG4gICAgdmFyIGhhc01vcnBoUG9zaXRpb24gPSBmYWxzZTtcclxuICAgIHZhciBoYXNNb3JwaE5vcm1hbCA9IGZhbHNlO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcclxuXHJcbiAgICAgIGlmICh0YXJnZXQuUE9TSVRJT04gIT09IHVuZGVmaW5lZCkgaGFzTW9ycGhQb3NpdGlvbiA9IHRydWU7XHJcbiAgICAgIGlmICh0YXJnZXQuTk9STUFMICE9PSB1bmRlZmluZWQpIGhhc01vcnBoTm9ybWFsID0gdHJ1ZTtcclxuXHJcbiAgICAgIGlmIChoYXNNb3JwaFBvc2l0aW9uICYmIGhhc01vcnBoTm9ybWFsKSBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWhhc01vcnBoUG9zaXRpb24gJiYgIWhhc01vcnBoTm9ybWFsKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJ5KTtcclxuXHJcbiAgICB2YXIgcGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzID0gW107XHJcbiAgICB2YXIgcGVuZGluZ05vcm1hbEFjY2Vzc29ycyA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcclxuXHJcbiAgICAgIGlmIChoYXNNb3JwaFBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIHBlbmRpbmdBY2Nlc3NvciA9XHJcbiAgICAgICAgICAgICAgdGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgID8gcGFyc2VyLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgdGFyZ2V0LlBPU0lUSU9OKVxyXG4gICAgICAgICAgICAgICAgOiBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xyXG5cclxuICAgICAgICBwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMucHVzaChwZW5kaW5nQWNjZXNzb3IpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaGFzTW9ycGhOb3JtYWwpIHtcclxuICAgICAgICB2YXIgcGVuZGluZ0FjY2Vzc29yID1cclxuICAgICAgICAgICAgICB0YXJnZXQuTk9STUFMICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgID8gcGFyc2VyLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgdGFyZ2V0Lk5PUk1BTClcclxuICAgICAgICAgICAgICAgIDogZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWw7XHJcblxyXG4gICAgICAgIHBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMucHVzaChwZW5kaW5nQWNjZXNzb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcclxuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzKSxcclxuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ05vcm1hbEFjY2Vzc29ycyksXHJcbiAgICBdKS50aGVuKGZ1bmN0aW9uIChhY2Nlc3NvcnMpIHtcclxuICAgICAgdmFyIG1vcnBoUG9zaXRpb25zID0gYWNjZXNzb3JzWzBdO1xyXG4gICAgICB2YXIgbW9ycGhOb3JtYWxzID0gYWNjZXNzb3JzWzFdO1xyXG5cclxuICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24pIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbiA9IG1vcnBoUG9zaXRpb25zO1xyXG4gICAgICBpZiAoaGFzTW9ycGhOb3JtYWwpIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWwgPSBtb3JwaE5vcm1hbHM7XHJcbiAgICAgIGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgIHJldHVybiBnZW9tZXRyeTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNZXNofSBtZXNoXHJcbiAgICogQHBhcmFtIHtHTFRGLk1lc2h9IG1lc2hEZWZcclxuICAgKi9cclxuICBmdW5jdGlvbiB1cGRhdGVNb3JwaFRhcmdldHMobWVzaCwgbWVzaERlZikge1xyXG4gICAgbWVzaC51cGRhdGVNb3JwaFRhcmdldHMoKTtcclxuXHJcbiAgICBpZiAobWVzaERlZi53ZWlnaHRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbWVzaERlZi53ZWlnaHRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tpXSA9IG1lc2hEZWYud2VpZ2h0c1tpXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIC5leHRyYXMgaGFzIHVzZXItZGVmaW5lZCBkYXRhLCBzbyBjaGVjayB0aGF0IC5leHRyYXMudGFyZ2V0TmFtZXMgaXMgYW4gYXJyYXkuXHJcbiAgICBpZiAobWVzaERlZi5leHRyYXMgJiYgQXJyYXkuaXNBcnJheShtZXNoRGVmLmV4dHJhcy50YXJnZXROYW1lcykpIHtcclxuICAgICAgdmFyIHRhcmdldE5hbWVzID0gbWVzaERlZi5leHRyYXMudGFyZ2V0TmFtZXM7XHJcblxyXG4gICAgICBpZiAobWVzaC5tb3JwaFRhcmdldEluZmx1ZW5jZXMubGVuZ3RoID09PSB0YXJnZXROYW1lcy5sZW5ndGgpIHtcclxuICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSB0YXJnZXROYW1lcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVt0YXJnZXROYW1lc1tpXV0gPSBpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IEludmFsaWQgZXh0cmFzLnRhcmdldE5hbWVzIGxlbmd0aC4gSWdub3JpbmcgbmFtZXMuJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZUtleShwcmltaXRpdmVEZWYpIHtcclxuICAgIHZhciBkcmFjb0V4dGVuc2lvbiA9XHJcbiAgICAgICAgICBwcmltaXRpdmVEZWYuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmVEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OXTtcclxuICAgIHZhciBnZW9tZXRyeUtleTtcclxuXHJcbiAgICBpZiAoZHJhY29FeHRlbnNpb24pIHtcclxuICAgICAgZ2VvbWV0cnlLZXkgPVxyXG4gICAgICAgICdkcmFjbzonICtcclxuICAgICAgICBkcmFjb0V4dGVuc2lvbi5idWZmZXJWaWV3ICtcclxuICAgICAgICAnOicgK1xyXG4gICAgICAgIGRyYWNvRXh0ZW5zaW9uLmluZGljZXMgK1xyXG4gICAgICAgICc6JyArXHJcbiAgICAgICAgY3JlYXRlQXR0cmlidXRlc0tleShkcmFjb0V4dGVuc2lvbi5hdHRyaWJ1dGVzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGdlb21ldHJ5S2V5ID1cclxuICAgICAgICBwcmltaXRpdmVEZWYuaW5kaWNlcyArXHJcbiAgICAgICAgJzonICtcclxuICAgICAgICBjcmVhdGVBdHRyaWJ1dGVzS2V5KHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzKSArXHJcbiAgICAgICAgJzonICtcclxuICAgICAgICBwcmltaXRpdmVEZWYubW9kZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZ2VvbWV0cnlLZXk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVBdHRyaWJ1dGVzS2V5KGF0dHJpYnV0ZXMpIHtcclxuICAgIHZhciBhdHRyaWJ1dGVzS2V5ID0gJyc7XHJcblxyXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5zb3J0KCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0ga2V5cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgIGF0dHJpYnV0ZXNLZXkgKz0ga2V5c1tpXSArICc6JyArIGF0dHJpYnV0ZXNba2V5c1tpXV0gKyAnOyc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGF0dHJpYnV0ZXNLZXk7XHJcbiAgfVxyXG5cclxuICAvKiBHTFRGIFBBUlNFUiAqL1xyXG5cclxuICBmdW5jdGlvbiBHTFRGUGFyc2VyKGpzb24sIGV4dGVuc2lvbnMsIG9wdGlvbnMpIHtcclxuICAgIHRoaXMuanNvbiA9IGpzb24gfHwge307XHJcbiAgICB0aGlzLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zIHx8IHt9O1xyXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICAvLyBsb2FkZXIgb2JqZWN0IGNhY2hlXHJcbiAgICB0aGlzLmNhY2hlID0gbmV3IEdMVEZSZWdpc3RyeSgpO1xyXG5cclxuICAgIC8vIEJ1ZmZlckdlb21ldHJ5IGNhY2hpbmdcclxuICAgIHRoaXMucHJpbWl0aXZlQ2FjaGUgPSB7fTtcclxuXHJcbiAgICB0aGlzLnRleHR1cmVMb2FkZXIgPSBuZXcgVGV4dHVyZUxvYWRlcih0aGlzLm9wdGlvbnMubWFuYWdlcik7XHJcbiAgICB0aGlzLnRleHR1cmVMb2FkZXIuc2V0Q3Jvc3NPcmlnaW4odGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luKTtcclxuXHJcbiAgICB0aGlzLmZpbGVMb2FkZXIgPSBuZXcgRmlsZUxvYWRlcih0aGlzLm9wdGlvbnMubWFuYWdlcik7XHJcbiAgICB0aGlzLmZpbGVMb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdhcnJheWJ1ZmZlcicpO1xyXG5cclxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09ICd1c2UtY3JlZGVudGlhbHMnKSB7XHJcbiAgICAgIHRoaXMuZmlsZUxvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHModHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChvbkxvYWQsIG9uRXJyb3IpIHtcclxuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xyXG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XHJcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcclxuXHJcbiAgICAvLyBDbGVhciB0aGUgbG9hZGVyIGNhY2hlXHJcbiAgICB0aGlzLmNhY2hlLnJlbW92ZUFsbCgpO1xyXG5cclxuICAgIC8vIE1hcmsgdGhlIHNwZWNpYWwgbm9kZXMvbWVzaGVzIGluIGpzb24gZm9yIGVmZmljaWVudCBwYXJzZVxyXG4gICAgdGhpcy5tYXJrRGVmcygpO1xyXG5cclxuICAgIFByb21pc2UuYWxsKFtcclxuICAgICAgdGhpcy5nZXREZXBlbmRlbmNpZXMoJ3NjZW5lJyksXHJcbiAgICAgIHRoaXMuZ2V0RGVwZW5kZW5jaWVzKCdhbmltYXRpb24nKSxcclxuICAgICAgdGhpcy5nZXREZXBlbmRlbmNpZXMoJ2NhbWVyYScpLFxyXG4gICAgXSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGRlcGVuZGVuY2llcykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgICBzY2VuZTogZGVwZW5kZW5jaWVzWzBdW2pzb24uc2NlbmUgfHwgMF0sXHJcbiAgICAgICAgICBzY2VuZXM6IGRlcGVuZGVuY2llc1swXSxcclxuICAgICAgICAgIGFuaW1hdGlvbnM6IGRlcGVuZGVuY2llc1sxXSxcclxuICAgICAgICAgIGNhbWVyYXM6IGRlcGVuZGVuY2llc1syXSxcclxuICAgICAgICAgIGFzc2V0OiBqc29uLmFzc2V0LFxyXG4gICAgICAgICAgcGFyc2VyOiBwYXJzZXIsXHJcbiAgICAgICAgICB1c2VyRGF0YToge30sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIHJlc3VsdCwganNvbik7XHJcblxyXG4gICAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEocmVzdWx0LCBqc29uKTtcclxuXHJcbiAgICAgICAgb25Mb2FkKHJlc3VsdCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChvbkVycm9yKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBNYXJrcyB0aGUgc3BlY2lhbCBub2Rlcy9tZXNoZXMgaW4ganNvbiBmb3IgZWZmaWNpZW50IHBhcnNlLlxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLm1hcmtEZWZzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG5vZGVEZWZzID0gdGhpcy5qc29uLm5vZGVzIHx8IFtdO1xyXG4gICAgdmFyIHNraW5EZWZzID0gdGhpcy5qc29uLnNraW5zIHx8IFtdO1xyXG4gICAgdmFyIG1lc2hEZWZzID0gdGhpcy5qc29uLm1lc2hlcyB8fCBbXTtcclxuXHJcbiAgICB2YXIgbWVzaFJlZmVyZW5jZXMgPSB7fTtcclxuICAgIHZhciBtZXNoVXNlcyA9IHt9O1xyXG5cclxuICAgIC8vIE5vdGhpbmcgaW4gdGhlIG5vZGUgZGVmaW5pdGlvbiBpbmRpY2F0ZXMgd2hldGhlciBpdCBpcyBhIEJvbmUgb3IgYW5cclxuICAgIC8vIE9iamVjdDNELiBVc2UgdGhlIHNraW5zJyBqb2ludCByZWZlcmVuY2VzIHRvIG1hcmsgYm9uZXMuXHJcbiAgICBmb3IgKHZhciBza2luSW5kZXggPSAwLCBza2luTGVuZ3RoID0gc2tpbkRlZnMubGVuZ3RoOyBza2luSW5kZXggPCBza2luTGVuZ3RoOyBza2luSW5kZXgrKykge1xyXG4gICAgICB2YXIgam9pbnRzID0gc2tpbkRlZnNbc2tpbkluZGV4XS5qb2ludHM7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBqb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgIG5vZGVEZWZzW2pvaW50c1tpXV0uaXNCb25lID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1lc2hlcyBjYW4gKGFuZCBzaG91bGQpIGJlIHJldXNlZCBieSBtdWx0aXBsZSBub2RlcyBpbiBhIGdsVEYgYXNzZXQuIFRvXHJcbiAgICAvLyBhdm9pZCBoYXZpbmcgbW9yZSB0aGFuIG9uZSBNZXNoIHdpdGggdGhlIHNhbWUgbmFtZSwgY291bnRcclxuICAgIC8vIHJlZmVyZW5jZXMgYW5kIHJlbmFtZSBpbnN0YW5jZXMgYmVsb3cuXHJcbiAgICAvL1xyXG4gICAgLy8gRXhhbXBsZTogQ2VzaXVtTWlsa1RydWNrIHNhbXBsZSBtb2RlbCByZXVzZXMgXCJXaGVlbFwiIG1lc2hlcy5cclxuICAgIGZvciAodmFyIG5vZGVJbmRleCA9IDAsIG5vZGVMZW5ndGggPSBub2RlRGVmcy5sZW5ndGg7IG5vZGVJbmRleCA8IG5vZGVMZW5ndGg7IG5vZGVJbmRleCsrKSB7XHJcbiAgICAgIHZhciBub2RlRGVmID0gbm9kZURlZnNbbm9kZUluZGV4XTtcclxuXHJcbiAgICAgIGlmIChub2RlRGVmLm1lc2ggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmIChtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIG1lc2hSZWZlcmVuY2VzW25vZGVEZWYubWVzaF0gPSBtZXNoVXNlc1tub2RlRGVmLm1lc2hdID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lc2hSZWZlcmVuY2VzW25vZGVEZWYubWVzaF0rKztcclxuXHJcbiAgICAgICAgLy8gTm90aGluZyBpbiB0aGUgbWVzaCBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzXHJcbiAgICAgICAgLy8gYSBTa2lubmVkTWVzaCBvciBNZXNoLiBVc2UgdGhlIG5vZGUncyBtZXNoIHJlZmVyZW5jZVxyXG4gICAgICAgIC8vIHRvIG1hcmsgU2tpbm5lZE1lc2ggaWYgbm9kZSBoYXMgc2tpbi5cclxuICAgICAgICBpZiAobm9kZURlZi5za2luICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIG1lc2hEZWZzW25vZGVEZWYubWVzaF0uaXNTa2lubmVkTWVzaCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5qc29uLm1lc2hSZWZlcmVuY2VzID0gbWVzaFJlZmVyZW5jZXM7XHJcbiAgICB0aGlzLmpzb24ubWVzaFVzZXMgPSBtZXNoVXNlcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZXF1ZXN0cyB0aGUgc3BlY2lmaWVkIGRlcGVuZGVuY3kgYXN5bmNocm9ub3VzbHksIHdpdGggY2FjaGluZy5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0M0R8TWF0ZXJpYWx8VEhSRUUuVGV4dHVyZXxBbmltYXRpb25DbGlwfEFycmF5QnVmZmVyfE9iamVjdD59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUuZ2V0RGVwZW5kZW5jeSA9IGZ1bmN0aW9uICh0eXBlLCBpbmRleCkge1xyXG4gICAgdmFyIGNhY2hlS2V5ID0gdHlwZSArICc6JyArIGluZGV4O1xyXG4gICAgdmFyIGRlcGVuZGVuY3kgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XHJcblxyXG4gICAgaWYgKCFkZXBlbmRlbmN5KSB7XHJcbiAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ3NjZW5lJzpcclxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRTY2VuZShpbmRleCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAnbm9kZSc6XHJcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkTm9kZShpbmRleCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAnbWVzaCc6XHJcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkTWVzaChpbmRleCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAnYWNjZXNzb3InOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEFjY2Vzc29yKGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdidWZmZXJWaWV3JzpcclxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRCdWZmZXJWaWV3KGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdidWZmZXInOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEJ1ZmZlcihpbmRleCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAnbWF0ZXJpYWwnOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZE1hdGVyaWFsKGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICd0ZXh0dXJlJzpcclxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRUZXh0dXJlKGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdza2luJzpcclxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRTa2luKGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdhbmltYXRpb24nOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEFuaW1hdGlvbihpbmRleCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAnY2FtZXJhJzpcclxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRDYW1lcmEoaW5kZXgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ2xpZ2h0JzpcclxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXS5sb2FkTGlnaHQoaW5kZXgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZTogJyArIHR5cGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmNhY2hlLmFkZChjYWNoZUtleSwgZGVwZW5kZW5jeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlcGVuZGVuY3k7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVxdWVzdHMgYWxsIGRlcGVuZGVuY2llcyBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgYXN5bmNocm9ub3VzbHksIHdpdGggY2FjaGluZy5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8T2JqZWN0Pj59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUuZ2V0RGVwZW5kZW5jaWVzID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSB0aGlzLmNhY2hlLmdldCh0eXBlKTtcclxuXHJcbiAgICBpZiAoIWRlcGVuZGVuY2llcykge1xyXG4gICAgICB2YXIgcGFyc2VyID0gdGhpcztcclxuICAgICAgdmFyIGRlZnMgPSB0aGlzLmpzb25bdHlwZSArICh0eXBlID09PSAnbWVzaCcgPyAnZXMnIDogJ3MnKV0gfHwgW107XHJcblxyXG4gICAgICBkZXBlbmRlbmNpZXMgPSBQcm9taXNlLmFsbChcclxuICAgICAgICBkZWZzLm1hcChmdW5jdGlvbiAoZGVmLCBpbmRleCkge1xyXG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KHR5cGUsIGluZGV4KTtcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgdGhpcy5jYWNoZS5hZGQodHlwZSwgZGVwZW5kZW5jaWVzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGVwZW5kZW5jaWVzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlckluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXJJbmRleCkge1xyXG4gICAgdmFyIGJ1ZmZlckRlZiA9IHRoaXMuanNvbi5idWZmZXJzW2J1ZmZlckluZGV4XTtcclxuICAgIHZhciBsb2FkZXIgPSB0aGlzLmZpbGVMb2FkZXI7XHJcblxyXG4gICAgaWYgKGJ1ZmZlckRlZi50eXBlICYmIGJ1ZmZlckRlZi50eXBlICE9PSAnYXJyYXlidWZmZXInKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogJyArIGJ1ZmZlckRlZi50eXBlICsgJyBidWZmZXIgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHByZXNlbnQsIEdMQiBjb250YWluZXIgaXMgcmVxdWlyZWQgdG8gYmUgdGhlIGZpcnN0IGJ1ZmZlci5cclxuICAgIGlmIChidWZmZXJEZWYudXJpID09PSB1bmRlZmluZWQgJiYgYnVmZmVySW5kZXggPT09IDApIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEZdLmJvZHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgIGxvYWRlci5sb2FkKHJlc29sdmVVUkwoYnVmZmVyRGVmLnVyaSwgb3B0aW9ucy5wYXRoKSwgcmVzb2x2ZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogRmFpbGVkIHRvIGxvYWQgYnVmZmVyIFwiJyArIGJ1ZmZlckRlZi51cmkgKyAnXCIuJykpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlclZpZXdJbmRleFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXlCdWZmZXI+fVxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRCdWZmZXJWaWV3ID0gZnVuY3Rpb24gKGJ1ZmZlclZpZXdJbmRleCkge1xyXG4gICAgdmFyIGJ1ZmZlclZpZXdEZWYgPSB0aGlzLmpzb24uYnVmZmVyVmlld3NbYnVmZmVyVmlld0luZGV4XTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXInLCBidWZmZXJWaWV3RGVmLmJ1ZmZlcikudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7XHJcbiAgICAgIHZhciBieXRlTGVuZ3RoID0gYnVmZmVyVmlld0RlZi5ieXRlTGVuZ3RoIHx8IDA7XHJcbiAgICAgIHZhciBieXRlT2Zmc2V0ID0gYnVmZmVyVmlld0RlZi5ieXRlT2Zmc2V0IHx8IDA7XHJcbiAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGJ5dGVMZW5ndGgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhY2Nlc3NvcnNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gYWNjZXNzb3JJbmRleFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyQXR0cmlidXRlfEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPn1cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQWNjZXNzb3IgPSBmdW5jdGlvbiAoYWNjZXNzb3JJbmRleCkge1xyXG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XHJcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcclxuXHJcbiAgICB2YXIgYWNjZXNzb3JEZWYgPSB0aGlzLmpzb24uYWNjZXNzb3JzW2FjY2Vzc29ySW5kZXhdO1xyXG5cclxuICAgIGlmIChhY2Nlc3NvckRlZi5idWZmZXJWaWV3ID09PSB1bmRlZmluZWQgJiYgYWNjZXNzb3JEZWYuc3BhcnNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgLy8gSWdub3JlIGVtcHR5IGFjY2Vzc29ycywgd2hpY2ggbWF5IGJlIHVzZWQgdG8gZGVjbGFyZSBydW50aW1lXHJcbiAgICAgIC8vIGluZm9ybWF0aW9uIGFib3V0IGF0dHJpYnV0ZXMgY29taW5nIGZyb20gYW5vdGhlciBzb3VyY2UgKGUuZy4gRHJhY29cclxuICAgICAgLy8gY29tcHJlc3Npb24gZXh0ZW5zaW9uKS5cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcGVuZGluZ0J1ZmZlclZpZXdzID0gW107XHJcblxyXG4gICAgaWYgKGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5idWZmZXJWaWV3KSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWNjZXNzb3JEZWYuc3BhcnNlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgcGVuZGluZ0J1ZmZlclZpZXdzLnB1c2goXHJcbiAgICAgICAgdGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYWNjZXNzb3JEZWYuc3BhcnNlLmluZGljZXMuYnVmZmVyVmlldylcclxuICAgICAgKTtcclxuICAgICAgcGVuZGluZ0J1ZmZlclZpZXdzLnB1c2goXHJcbiAgICAgICAgdGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYWNjZXNzb3JEZWYuc3BhcnNlLnZhbHVlcy5idWZmZXJWaWV3KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nQnVmZmVyVmlld3MpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlclZpZXdzKSB7XHJcbiAgICAgIHZhciBidWZmZXJWaWV3ID0gYnVmZmVyVmlld3NbMF07XHJcblxyXG4gICAgICB2YXIgaXRlbVNpemUgPSBXRUJHTF9UWVBFX1NJWkVTW2FjY2Vzc29yRGVmLnR5cGVdO1xyXG4gICAgICB2YXIgVHlwZWRBcnJheSA9IFdFQkdMX0NPTVBPTkVOVF9UWVBFU1thY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlXTtcclxuXHJcbiAgICAgIC8vIEZvciBWRUMzOiBpdGVtU2l6ZSBpcyAzLCBlbGVtZW50Qnl0ZXMgaXMgNCwgaXRlbUJ5dGVzIGlzIDEyLlxyXG4gICAgICB2YXIgZWxlbWVudEJ5dGVzID0gVHlwZWRBcnJheS5CWVRFU19QRVJfRUxFTUVOVDtcclxuICAgICAgdmFyIGl0ZW1CeXRlcyA9IGVsZW1lbnRCeXRlcyAqIGl0ZW1TaXplO1xyXG4gICAgICB2YXIgYnl0ZU9mZnNldCA9IGFjY2Vzc29yRGVmLmJ5dGVPZmZzZXQgfHwgMDtcclxuICAgICAgdmFyIGJ5dGVTdHJpZGUgPVxyXG4gICAgICAgICAgICBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA/IGpzb24uYnVmZmVyVmlld3NbYWNjZXNzb3JEZWYuYnVmZmVyVmlld10uYnl0ZVN0cmlkZVxyXG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICB2YXIgbm9ybWFsaXplZCA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XHJcbiAgICAgIHZhciBhcnJheSwgYnVmZmVyQXR0cmlidXRlO1xyXG5cclxuICAgICAgLy8gVGhlIGJ1ZmZlciBpcyBub3QgaW50ZXJsZWF2ZWQgaWYgdGhlIHN0cmlkZSBpcyB0aGUgaXRlbSBzaXplIGluIGJ5dGVzLlxyXG4gICAgICBpZiAoYnl0ZVN0cmlkZSAmJiBieXRlU3RyaWRlICE9PSBpdGVtQnl0ZXMpIHtcclxuICAgICAgICAvLyBFYWNoIFwic2xpY2VcIiBvZiB0aGUgYnVmZmVyLCBhcyBkZWZpbmVkIGJ5ICdjb3VudCcgZWxlbWVudHMgb2YgJ2J5dGVTdHJpZGUnIGJ5dGVzLCBnZXRzIGl0cyBvd24gSW50ZXJsZWF2ZWRCdWZmZXJcclxuICAgICAgICAvLyBUaGlzIG1ha2VzIHN1cmUgdGhhdCBJQkEuY291bnQgcmVmbGVjdHMgYWNjZXNzb3IuY291bnQgcHJvcGVybHlcclxuICAgICAgICB2YXIgaWJTbGljZSA9IE1hdGguZmxvb3IoYnl0ZU9mZnNldCAvIGJ5dGVTdHJpZGUpO1xyXG4gICAgICAgIHZhciBpYkNhY2hlS2V5ID1cclxuICAgICAgICAgICAgICAnSW50ZXJsZWF2ZWRCdWZmZXI6JyArXHJcbiAgICAgICAgICAgICAgYWNjZXNzb3JEZWYuYnVmZmVyVmlldyArXHJcbiAgICAgICAgICAgICAgJzonICtcclxuICAgICAgICAgICAgICBhY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlICtcclxuICAgICAgICAgICAgICAnOicgK1xyXG4gICAgICAgICAgICAgIGliU2xpY2UgK1xyXG4gICAgICAgICAgICAgICc6JyArXHJcbiAgICAgICAgICAgICAgYWNjZXNzb3JEZWYuY291bnQ7XHJcbiAgICAgICAgdmFyIGliID0gcGFyc2VyLmNhY2hlLmdldChpYkNhY2hlS2V5KTtcclxuXHJcbiAgICAgICAgaWYgKCFpYikge1xyXG4gICAgICAgICAgYXJyYXkgPSBuZXcgVHlwZWRBcnJheShcclxuICAgICAgICAgICAgYnVmZmVyVmlldyxcclxuICAgICAgICAgICAgaWJTbGljZSAqIGJ5dGVTdHJpZGUsXHJcbiAgICAgICAgICAgIChhY2Nlc3NvckRlZi5jb3VudCAqIGJ5dGVTdHJpZGUpIC8gZWxlbWVudEJ5dGVzXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIC8vIEludGVnZXIgcGFyYW1ldGVycyB0byBJQi9JQkEgYXJlIGluIGFycmF5IGVsZW1lbnRzLCBub3QgYnl0ZXMuXHJcbiAgICAgICAgICBpYiA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlcihhcnJheSwgYnl0ZVN0cmlkZSAvIGVsZW1lbnRCeXRlcyk7XHJcblxyXG4gICAgICAgICAgcGFyc2VyLmNhY2hlLmFkZChpYkNhY2hlS2V5LCBpYik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXHJcbiAgICAgICAgICBpYixcclxuICAgICAgICAgIGl0ZW1TaXplLFxyXG4gICAgICAgICAgKGJ5dGVPZmZzZXQgJSBieXRlU3RyaWRlKSAvIGVsZW1lbnRCeXRlcyxcclxuICAgICAgICAgIG5vcm1hbGl6ZWRcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChidWZmZXJWaWV3ID09PSBudWxsKSB7XHJcbiAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlZEFycmF5KGFjY2Vzc29yRGVmLmNvdW50ICogaXRlbVNpemUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlZEFycmF5KGJ1ZmZlclZpZXcsIGJ5dGVPZmZzZXQsIGFjY2Vzc29yRGVmLmNvdW50ICogaXRlbVNpemUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnVmZmVyQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI3NwYXJzZS1hY2Nlc3NvcnNcclxuICAgICAgaWYgKGFjY2Vzc29yRGVmLnNwYXJzZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1TaXplSW5kaWNlcyA9IFdFQkdMX1RZUEVfU0laRVMuU0NBTEFSO1xyXG4gICAgICAgIHZhciBUeXBlZEFycmF5SW5kaWNlcyA9IFdFQkdMX0NPTVBPTkVOVF9UWVBFU1thY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5jb21wb25lbnRUeXBlXTtcclxuXHJcbiAgICAgICAgdmFyIGJ5dGVPZmZzZXRJbmRpY2VzID0gYWNjZXNzb3JEZWYuc3BhcnNlLmluZGljZXMuYnl0ZU9mZnNldCB8fCAwO1xyXG4gICAgICAgIHZhciBieXRlT2Zmc2V0VmFsdWVzID0gYWNjZXNzb3JEZWYuc3BhcnNlLnZhbHVlcy5ieXRlT2Zmc2V0IHx8IDA7XHJcblxyXG4gICAgICAgIHZhciBzcGFyc2VJbmRpY2VzID0gbmV3IFR5cGVkQXJyYXlJbmRpY2VzKFxyXG4gICAgICAgICAgYnVmZmVyVmlld3NbMV0sXHJcbiAgICAgICAgICBieXRlT2Zmc2V0SW5kaWNlcyxcclxuICAgICAgICAgIGFjY2Vzc29yRGVmLnNwYXJzZS5jb3VudCAqIGl0ZW1TaXplSW5kaWNlc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmFyIHNwYXJzZVZhbHVlcyA9IG5ldyBUeXBlZEFycmF5KFxyXG4gICAgICAgICAgYnVmZmVyVmlld3NbMl0sXHJcbiAgICAgICAgICBieXRlT2Zmc2V0VmFsdWVzLFxyXG4gICAgICAgICAgYWNjZXNzb3JEZWYuc3BhcnNlLmNvdW50ICogaXRlbVNpemVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoYnVmZmVyVmlldyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgLy8gQXZvaWQgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbCBBcnJheUJ1ZmZlciwgaWYgdGhlIGJ1ZmZlclZpZXcgd2Fzbid0IGluaXRpYWxpemVkIHdpdGggemVyb2VzLlxyXG4gICAgICAgICAgYnVmZmVyQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShcclxuICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLmFycmF5LnNsaWNlKCksXHJcbiAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5pdGVtU2l6ZSxcclxuICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLm5vcm1hbGl6ZWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBzcGFyc2VJbmRpY2VzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICAgIHZhciBpbmRleCA9IHNwYXJzZUluZGljZXNbaV07XHJcblxyXG4gICAgICAgICAgYnVmZmVyQXR0cmlidXRlLnNldFgoaW5kZXgsIHNwYXJzZVZhbHVlc1tpICogaXRlbVNpemVdKTtcclxuICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSAyKSBidWZmZXJBdHRyaWJ1dGUuc2V0WShpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZSArIDFdKTtcclxuICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSAzKSBidWZmZXJBdHRyaWJ1dGUuc2V0WihpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZSArIDJdKTtcclxuICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSA0KSBidWZmZXJBdHRyaWJ1dGUuc2V0VyhpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZSArIDNdKTtcclxuICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSA1KVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGl0ZW1TaXplIGluIHNwYXJzZSBCdWZmZXJBdHRyaWJ1dGUuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYnVmZmVyQXR0cmlidXRlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3RleHR1cmVzXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRleHR1cmVJbmRleFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8VEhSRUUuVGV4dHVyZT59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZUluZGV4KSB7XHJcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcclxuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xyXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcbiAgICB2YXIgdGV4dHVyZUxvYWRlciA9IHRoaXMudGV4dHVyZUxvYWRlcjtcclxuXHJcbiAgICB2YXIgVVJMID0gc2VsZi5VUkwgfHwgc2VsZi53ZWJraXRVUkw7XHJcblxyXG4gICAgdmFyIHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzW3RleHR1cmVJbmRleF07XHJcblxyXG4gICAgdmFyIHRleHR1cmVFeHRlbnNpb25zID0gdGV4dHVyZURlZi5leHRlbnNpb25zIHx8IHt9O1xyXG5cclxuICAgIHZhciBzb3VyY2U7XHJcblxyXG4gICAgaWYgKHRleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU10pIHtcclxuICAgICAgc291cmNlID0ganNvbi5pbWFnZXNbdGV4dHVyZUV4dGVuc2lvbnNbRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTXS5zb3VyY2VdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc291cmNlID0ganNvbi5pbWFnZXNbdGV4dHVyZURlZi5zb3VyY2VdO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzb3VyY2VVUkkgPSBzb3VyY2UudXJpO1xyXG4gICAgdmFyIGlzT2JqZWN0VVJMID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKHNvdXJjZS5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgLy8gTG9hZCBiaW5hcnkgaW1hZ2UgZGF0YSBmcm9tIGJ1ZmZlclZpZXcsIGlmIHByb3ZpZGVkLlxyXG5cclxuICAgICAgc291cmNlVVJJID0gcGFyc2VyLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBzb3VyY2UuYnVmZmVyVmlldykudGhlbihmdW5jdGlvbiAoYnVmZmVyVmlldykge1xyXG4gICAgICAgIGlzT2JqZWN0VVJMID0gdHJ1ZTtcclxuICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXJWaWV3XSwgeyB0eXBlOiBzb3VyY2UubWltZVR5cGUgfSk7XHJcbiAgICAgICAgc291cmNlVVJJID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICByZXR1cm4gc291cmNlVVJJO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNvdXJjZVVSSSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHNvdXJjZVVSSSkge1xyXG4gICAgICAgIC8vIExvYWQgVGV4dHVyZSByZXNvdXJjZS5cclxuXHJcbiAgICAgICAgdmFyIGxvYWRlciA9IG9wdGlvbnMubWFuYWdlci5nZXRIYW5kbGVyKHNvdXJjZVVSSSk7XHJcblxyXG4gICAgICAgIGlmICghbG9hZGVyKSB7XHJcbiAgICAgICAgICBsb2FkZXIgPSB0ZXh0dXJlRXh0ZW5zaW9uc1tFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFNdXHJcbiAgICAgICAgICAgID8gcGFyc2VyLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTXS5kZHNMb2FkZXJcclxuICAgICAgICAgICAgOiB0ZXh0dXJlTG9hZGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgIGxvYWRlci5sb2FkKHJlc29sdmVVUkwoc291cmNlVVJJLCBvcHRpb25zLnBhdGgpLCByZXNvbHZlLCB1bmRlZmluZWQsIHJlamVjdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XHJcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVzb3VyY2VzIGFuZCBjb25maWd1cmUgVGV4dHVyZS5cclxuXHJcbiAgICAgICAgaWYgKGlzT2JqZWN0VVJMID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHNvdXJjZVVSSSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0ZXh0dXJlLmZsaXBZID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICh0ZXh0dXJlRGVmLm5hbWUpIHRleHR1cmUubmFtZSA9IHRleHR1cmVEZWYubmFtZTtcclxuXHJcbiAgICAgICAgLy8gSWdub3JlIHVua25vd24gbWltZSB0eXBlcywgbGlrZSBERFMgZmlsZXMuXHJcbiAgICAgICAgaWYgKHNvdXJjZS5taW1lVHlwZSBpbiBNSU1FX1RZUEVfRk9STUFUUykge1xyXG4gICAgICAgICAgdGV4dHVyZS5mb3JtYXQgPSBNSU1FX1RZUEVfRk9STUFUU1tzb3VyY2UubWltZVR5cGVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNhbXBsZXJzID0ganNvbi5zYW1wbGVycyB8fCB7fTtcclxuICAgICAgICB2YXIgc2FtcGxlciA9IHNhbXBsZXJzW3RleHR1cmVEZWYuc2FtcGxlcl0gfHwge307XHJcblxyXG4gICAgICAgIHRleHR1cmUubWFnRmlsdGVyID0gV0VCR0xfRklMVEVSU1tzYW1wbGVyLm1hZ0ZpbHRlcl0gfHwgTGluZWFyRmlsdGVyO1xyXG4gICAgICAgIHRleHR1cmUubWluRmlsdGVyID0gV0VCR0xfRklMVEVSU1tzYW1wbGVyLm1pbkZpbHRlcl0gfHwgTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyO1xyXG4gICAgICAgIHRleHR1cmUud3JhcFMgPSBXRUJHTF9XUkFQUElOR1Nbc2FtcGxlci53cmFwU10gfHwgUmVwZWF0V3JhcHBpbmc7XHJcbiAgICAgICAgdGV4dHVyZS53cmFwVCA9IFdFQkdMX1dSQVBQSU5HU1tzYW1wbGVyLndyYXBUXSB8fCBSZXBlYXRXcmFwcGluZztcclxuXHJcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEFzeW5jaHJvbm91c2x5IGFzc2lnbnMgYSB0ZXh0dXJlIHRvIHRoZSBnaXZlbiBtYXRlcmlhbCBwYXJhbWV0ZXJzLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRlcmlhbFBhcmFtc1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtYXBOYW1lXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcERlZlxyXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUuYXNzaWduVGV4dHVyZSA9IGZ1bmN0aW9uIChtYXRlcmlhbFBhcmFtcywgbWFwTmFtZSwgbWFwRGVmKSB7XHJcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCd0ZXh0dXJlJywgbWFwRGVmLmluZGV4KS50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XHJcbiAgICAgIGlmICghdGV4dHVyZS5pc0NvbXByZXNzZWRUZXh0dXJlKSB7XHJcbiAgICAgICAgc3dpdGNoIChtYXBOYW1lKSB7XHJcbiAgICAgICAgICBjYXNlICdhb01hcCc6XHJcbiAgICAgICAgICBjYXNlICdlbWlzc2l2ZU1hcCc6XHJcbiAgICAgICAgICBjYXNlICdtZXRhbG5lc3NNYXAnOlxyXG4gICAgICAgICAgY2FzZSAnbm9ybWFsTWFwJzpcclxuICAgICAgICAgIGNhc2UgJ3JvdWdobmVzc01hcCc6XHJcbiAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0ID0gUkdCRm9ybWF0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1hdGVyaWFscyBzYW1wbGUgYW9NYXAgZnJvbSBVViBzZXQgMSBhbmQgb3RoZXIgbWFwcyBmcm9tIFVWIHNldCAwIC0gdGhpcyBjYW4ndCBiZSBjb25maWd1cmVkXHJcbiAgICAgIC8vIEhvd2V2ZXIsIHdlIHdpbGwgY29weSBVViBzZXQgMCB0byBVViBzZXQgMSBvbiBkZW1hbmQgZm9yIGFvTWFwXHJcbiAgICAgIGlmIChcclxuICAgICAgICBtYXBEZWYudGV4Q29vcmQgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIG1hcERlZi50ZXhDb29yZCAhPSAwICYmXHJcbiAgICAgICAgIShtYXBOYW1lID09PSAnYW9NYXAnICYmIG1hcERlZi50ZXhDb29yZCA9PSAxKVxyXG4gICAgICApIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnVEhSRUUuR0xURkxvYWRlcjogQ3VzdG9tIFVWIHNldCAnICtcclxuICAgICAgICAgIG1hcERlZi50ZXhDb29yZCArXHJcbiAgICAgICAgICAnIGZvciB0ZXh0dXJlICcgK1xyXG4gICAgICAgICAgbWFwTmFtZSArXHJcbiAgICAgICAgICAnIG5vdCB5ZXQgc3VwcG9ydGVkLidcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocGFyc2VyLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk1dKSB7XHJcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9XHJcbiAgICAgICAgICAgICAgbWFwRGVmLmV4dGVuc2lvbnMgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgPyBtYXBEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV1cclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICB0ZXh0dXJlID0gcGFyc2VyLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk1dLmV4dGVuZFRleHR1cmUoXHJcbiAgICAgICAgICAgIHRleHR1cmUsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1hdGVyaWFsUGFyYW1zW21hcE5hbWVdID0gdGV4dHVyZTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEFzc2lnbnMgZmluYWwgbWF0ZXJpYWwgdG8gYSBNZXNoLCBMaW5lLCBvciBQb2ludHMgaW5zdGFuY2UuIFRoZSBpbnN0YW5jZVxyXG4gICAqIGFscmVhZHkgaGFzIGEgbWF0ZXJpYWwgKGdlbmVyYXRlZCBmcm9tIHRoZSBnbFRGIG1hdGVyaWFsIG9wdGlvbnMgYWxvbmUpXHJcbiAgICogYnV0IHJldXNlIG9mIHRoZSBzYW1lIGdsVEYgbWF0ZXJpYWwgbWF5IHJlcXVpcmUgbXVsdGlwbGUgdGhyZWVqcyBtYXRlcmlhbHNcclxuICAgKiB0byBhY2NvbW9kYXRlIGRpZmZlcmVudCBwcmltaXRpdmUgdHlwZXMsIGRlZmluZXMsIGV0Yy4gTmV3IG1hdGVyaWFscyB3aWxsXHJcbiAgICogYmUgY3JlYXRlZCBpZiBuZWNlc3NhcnksIGFuZCByZXVzZWQgZnJvbSBhIGNhY2hlLlxyXG4gICAqIEBwYXJhbSAge09iamVjdDNEfSBtZXNoIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS5cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5hc3NpZ25GaW5hbE1hdGVyaWFsID0gZnVuY3Rpb24gKG1lc2gpIHtcclxuICAgIHZhciBnZW9tZXRyeSA9IG1lc2guZ2VvbWV0cnk7XHJcbiAgICB2YXIgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsO1xyXG5cclxuICAgIHZhciB1c2VWZXJ0ZXhUYW5nZW50cyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMudGFuZ2VudCAhPT0gdW5kZWZpbmVkO1xyXG4gICAgdmFyIHVzZVZlcnRleENvbG9ycyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IgIT09IHVuZGVmaW5lZDtcclxuICAgIHZhciB1c2VGbGF0U2hhZGluZyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsID09PSB1bmRlZmluZWQ7XHJcbiAgICB2YXIgdXNlU2tpbm5pbmcgPSBtZXNoLmlzU2tpbm5lZE1lc2ggPT09IHRydWU7XHJcbiAgICB2YXIgdXNlTW9ycGhUYXJnZXRzID0gT2JqZWN0LmtleXMoZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKS5sZW5ndGggPiAwO1xyXG4gICAgdmFyIHVzZU1vcnBoTm9ybWFscyA9IHVzZU1vcnBoVGFyZ2V0cyAmJiBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsICE9PSB1bmRlZmluZWQ7XHJcblxyXG4gICAgaWYgKG1lc2guaXNQb2ludHMpIHtcclxuICAgICAgdmFyIGNhY2hlS2V5ID0gJ1BvaW50c01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkO1xyXG5cclxuICAgICAgdmFyIHBvaW50c01hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpO1xyXG5cclxuICAgICAgaWYgKCFwb2ludHNNYXRlcmlhbCkge1xyXG4gICAgICAgIHBvaW50c01hdGVyaWFsID0gbmV3IFBvaW50c01hdGVyaWFsKCk7XHJcbiAgICAgICAgTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChwb2ludHNNYXRlcmlhbCwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIHBvaW50c01hdGVyaWFsLmNvbG9yLmNvcHkobWF0ZXJpYWwuY29sb3IpO1xyXG4gICAgICAgIHBvaW50c01hdGVyaWFsLm1hcCA9IG1hdGVyaWFsLm1hcDtcclxuICAgICAgICBwb2ludHNNYXRlcmlhbC5zaXplQXR0ZW51YXRpb24gPSBmYWxzZTsgLy8gZ2xURiBzcGVjIHNheXMgcG9pbnRzIHNob3VsZCBiZSAxcHhcclxuXHJcbiAgICAgICAgdGhpcy5jYWNoZS5hZGQoY2FjaGVLZXksIHBvaW50c01hdGVyaWFsKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbWF0ZXJpYWwgPSBwb2ludHNNYXRlcmlhbDtcclxuICAgIH0gZWxzZSBpZiAobWVzaC5pc0xpbmUpIHtcclxuICAgICAgdmFyIGNhY2hlS2V5ID0gJ0xpbmVCYXNpY01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkO1xyXG5cclxuICAgICAgdmFyIGxpbmVNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcclxuXHJcbiAgICAgIGlmICghbGluZU1hdGVyaWFsKSB7XHJcbiAgICAgICAgbGluZU1hdGVyaWFsID0gbmV3IExpbmVCYXNpY01hdGVyaWFsKCk7XHJcbiAgICAgICAgTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChsaW5lTWF0ZXJpYWwsIG1hdGVyaWFsKTtcclxuICAgICAgICBsaW5lTWF0ZXJpYWwuY29sb3IuY29weShtYXRlcmlhbC5jb2xvcik7XHJcblxyXG4gICAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBsaW5lTWF0ZXJpYWwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtYXRlcmlhbCA9IGxpbmVNYXRlcmlhbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbG9uZSB0aGUgbWF0ZXJpYWwgaWYgaXQgd2lsbCBiZSBtb2RpZmllZFxyXG4gICAgaWYgKHVzZVZlcnRleFRhbmdlbnRzIHx8IHVzZVZlcnRleENvbG9ycyB8fCB1c2VGbGF0U2hhZGluZyB8fCB1c2VTa2lubmluZyB8fCB1c2VNb3JwaFRhcmdldHMpIHtcclxuICAgICAgdmFyIGNhY2hlS2V5ID0gJ0Nsb25lZE1hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkICsgJzonO1xyXG5cclxuICAgICAgaWYgKG1hdGVyaWFsLmlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsKSBjYWNoZUtleSArPSAnc3BlY3VsYXItZ2xvc3NpbmVzczonO1xyXG4gICAgICBpZiAodXNlU2tpbm5pbmcpIGNhY2hlS2V5ICs9ICdza2lubmluZzonO1xyXG4gICAgICBpZiAodXNlVmVydGV4VGFuZ2VudHMpIGNhY2hlS2V5ICs9ICd2ZXJ0ZXgtdGFuZ2VudHM6JztcclxuICAgICAgaWYgKHVzZVZlcnRleENvbG9ycykgY2FjaGVLZXkgKz0gJ3ZlcnRleC1jb2xvcnM6JztcclxuICAgICAgaWYgKHVzZUZsYXRTaGFkaW5nKSBjYWNoZUtleSArPSAnZmxhdC1zaGFkaW5nOic7XHJcbiAgICAgIGlmICh1c2VNb3JwaFRhcmdldHMpIGNhY2hlS2V5ICs9ICdtb3JwaC10YXJnZXRzOic7XHJcbiAgICAgIGlmICh1c2VNb3JwaE5vcm1hbHMpIGNhY2hlS2V5ICs9ICdtb3JwaC1ub3JtYWxzOic7XHJcblxyXG4gICAgICB2YXIgY2FjaGVkTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XHJcblxyXG4gICAgICBpZiAoIWNhY2hlZE1hdGVyaWFsKSB7XHJcbiAgICAgICAgY2FjaGVkTWF0ZXJpYWwgPSBtYXRlcmlhbC5jbG9uZSgpO1xyXG5cclxuICAgICAgICBpZiAodXNlU2tpbm5pbmcpIGNhY2hlZE1hdGVyaWFsLnNraW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICBpZiAodXNlVmVydGV4VGFuZ2VudHMpIGNhY2hlZE1hdGVyaWFsLnZlcnRleFRhbmdlbnRzID0gdHJ1ZTtcclxuICAgICAgICBpZiAodXNlVmVydGV4Q29sb3JzKSBjYWNoZWRNYXRlcmlhbC52ZXJ0ZXhDb2xvcnMgPSB0cnVlO1xyXG4gICAgICAgIGlmICh1c2VGbGF0U2hhZGluZykgY2FjaGVkTWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgIGlmICh1c2VNb3JwaFRhcmdldHMpIGNhY2hlZE1hdGVyaWFsLm1vcnBoVGFyZ2V0cyA9IHRydWU7XHJcbiAgICAgICAgaWYgKHVzZU1vcnBoTm9ybWFscykgY2FjaGVkTWF0ZXJpYWwubW9ycGhOb3JtYWxzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5jYWNoZS5hZGQoY2FjaGVLZXksIGNhY2hlZE1hdGVyaWFsKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbWF0ZXJpYWwgPSBjYWNoZWRNYXRlcmlhbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyB3b3JrYXJvdW5kcyBmb3IgbWVzaCBhbmQgZ2VvbWV0cnlcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIG1hdGVyaWFsLmFvTWFwICYmXHJcbiAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYyID09PSB1bmRlZmluZWQgJiZcclxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy51diAhPT0gdW5kZWZpbmVkXHJcbiAgICApIHtcclxuICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCd1djInLCBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xMTQzOCNpc3N1ZWNvbW1lbnQtNTA3MDAzOTk1XHJcbiAgICBpZiAobWF0ZXJpYWwubm9ybWFsU2NhbGUgJiYgIXVzZVZlcnRleFRhbmdlbnRzKSB7XHJcbiAgICAgIG1hdGVyaWFsLm5vcm1hbFNjYWxlLnkgPSAtbWF0ZXJpYWwubm9ybWFsU2NhbGUueTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUgJiYgIXVzZVZlcnRleFRhbmdlbnRzKSB7XHJcbiAgICAgIG1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlLnkgPSAtbWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUueTtcclxuICAgIH1cclxuXHJcbiAgICBtZXNoLm1hdGVyaWFsID0gbWF0ZXJpYWw7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtYXRlcmlhbHNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF0ZXJpYWxJbmRleFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8TWF0ZXJpYWw+fVxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRNYXRlcmlhbCA9IGZ1bmN0aW9uIChtYXRlcmlhbEluZGV4KSB7XHJcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcclxuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xyXG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XHJcbiAgICB2YXIgbWF0ZXJpYWxEZWYgPSBqc29uLm1hdGVyaWFsc1ttYXRlcmlhbEluZGV4XTtcclxuXHJcbiAgICB2YXIgbWF0ZXJpYWxUeXBlO1xyXG4gICAgdmFyIG1hdGVyaWFsUGFyYW1zID0ge307XHJcbiAgICB2YXIgbWF0ZXJpYWxFeHRlbnNpb25zID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCB7fTtcclxuXHJcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xyXG5cclxuICAgIGlmIChtYXRlcmlhbEV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXSkge1xyXG4gICAgICB2YXIgc2dFeHRlbnNpb24gPSBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTU107XHJcbiAgICAgIG1hdGVyaWFsVHlwZSA9IHNnRXh0ZW5zaW9uLmdldE1hdGVyaWFsVHlwZSgpO1xyXG4gICAgICBwZW5kaW5nLnB1c2goc2dFeHRlbnNpb24uZXh0ZW5kUGFyYW1zKG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyKSk7XHJcbiAgICB9IGVsc2UgaWYgKG1hdGVyaWFsRXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVRdKSB7XHJcbiAgICAgIHZhciBrbXVFeHRlbnNpb24gPSBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVF07XHJcbiAgICAgIG1hdGVyaWFsVHlwZSA9IGttdUV4dGVuc2lvbi5nZXRNYXRlcmlhbFR5cGUoKTtcclxuICAgICAgcGVuZGluZy5wdXNoKGttdUV4dGVuc2lvbi5leHRlbmRQYXJhbXMobWF0ZXJpYWxQYXJhbXMsIG1hdGVyaWFsRGVmLCBwYXJzZXIpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFNwZWNpZmljYXRpb246XHJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNtZXRhbGxpYy1yb3VnaG5lc3MtbWF0ZXJpYWxcclxuXHJcbiAgICAgIG1hdGVyaWFsVHlwZSA9IE1lc2hTdGFuZGFyZE1hdGVyaWFsO1xyXG5cclxuICAgICAgdmFyIG1ldGFsbGljUm91Z2huZXNzID0gbWF0ZXJpYWxEZWYucGJyTWV0YWxsaWNSb3VnaG5lc3MgfHwge307XHJcblxyXG4gICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvciA9IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wKTtcclxuICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcclxuXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcikpIHtcclxuICAgICAgICB2YXIgYXJyYXkgPSBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3I7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yLmZyb21BcnJheShhcnJheSk7XHJcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WzNdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcGVuZGluZy5wdXNoKFxyXG4gICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1hdGVyaWFsUGFyYW1zLm1ldGFsbmVzcyA9XHJcbiAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgIT09IHVuZGVmaW5lZCA/IG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yIDogMS4wO1xyXG4gICAgICBtYXRlcmlhbFBhcmFtcy5yb3VnaG5lc3MgPVxyXG4gICAgICAgIG1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yIDogMS4wO1xyXG5cclxuICAgICAgaWYgKG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcGVuZGluZy5wdXNoKFxyXG4gICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXHJcbiAgICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLFxyXG4gICAgICAgICAgICAnbWV0YWxuZXNzTWFwJyxcclxuICAgICAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcclxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXHJcbiAgICAgICAgICAgICdyb3VnaG5lc3NNYXAnLFxyXG4gICAgICAgICAgICBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmVcclxuICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1hdGVyaWFsRGVmLmRvdWJsZVNpZGVkID09PSB0cnVlKSB7XHJcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnNpZGUgPSBEb3VibGVTaWRlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBhbHBoYU1vZGUgPSBtYXRlcmlhbERlZi5hbHBoYU1vZGUgfHwgQUxQSEFfTU9ERVMuT1BBUVVFO1xyXG5cclxuICAgIGlmIChhbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLkJMRU5EKSB7XHJcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnRyYW5zcGFyZW50ID0gdHJ1ZTtcclxuXHJcbiAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTc3MDZcclxuICAgICAgbWF0ZXJpYWxQYXJhbXMuZGVwdGhXcml0ZSA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWF0ZXJpYWxQYXJhbXMudHJhbnNwYXJlbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmIChhbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLk1BU0spIHtcclxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5hbHBoYVRlc3QgPVxyXG4gICAgICAgICAgbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgIT09IHVuZGVmaW5lZCA/IG1hdGVyaWFsRGVmLmFscGhhQ3V0b2ZmIDogMC41O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsKSB7XHJcbiAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ25vcm1hbE1hcCcsIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUpKTtcclxuXHJcbiAgICAgIG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlID0gbmV3IFZlY3RvcjIoMSwgMSk7XHJcblxyXG4gICAgICBpZiAobWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUuc2V0KFxyXG4gICAgICAgICAgbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZSxcclxuICAgICAgICAgIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUuc2NhbGVcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1hdGVyaWFsRGVmLm9jY2x1c2lvblRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsKSB7XHJcbiAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ2FvTWFwJywgbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSkpO1xyXG5cclxuICAgICAgaWYgKG1hdGVyaWFsRGVmLm9jY2x1c2lvblRleHR1cmUuc3RyZW5ndGggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmFvTWFwSW50ZW5zaXR5ID0gbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3RvciAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcclxuICAgICAgbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmUgPSBuZXcgQ29sb3IoKS5mcm9tQXJyYXkobWF0ZXJpYWxEZWYuZW1pc3NpdmVGYWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtYXRlcmlhbERlZi5lbWlzc2l2ZVRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsKSB7XHJcbiAgICAgIHBlbmRpbmcucHVzaChcclxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ2VtaXNzaXZlTWFwJywgbWF0ZXJpYWxEZWYuZW1pc3NpdmVUZXh0dXJlKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtYXRlcmlhbEV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVF0pIHtcclxuICAgICAgdmFyIGNsZWFyY29hdEV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVF07XHJcbiAgICAgIG1hdGVyaWFsVHlwZSA9IGNsZWFyY29hdEV4dGVuc2lvbi5nZXRNYXRlcmlhbFR5cGUoKTtcclxuICAgICAgcGVuZGluZy5wdXNoKFxyXG4gICAgICAgIGNsZWFyY29hdEV4dGVuc2lvbi5leHRlbmRQYXJhbXMobWF0ZXJpYWxQYXJhbXMsIHsgZXh0ZW5zaW9uczogbWF0ZXJpYWxFeHRlbnNpb25zIH0sIHBhcnNlcilcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZykudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBtYXRlcmlhbDtcclxuXHJcbiAgICAgIGlmIChtYXRlcmlhbFR5cGUgPT09IEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsKSB7XHJcbiAgICAgICAgbWF0ZXJpYWwgPSBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTU10uY3JlYXRlTWF0ZXJpYWwoXHJcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtc1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgbWF0ZXJpYWxUeXBlKG1hdGVyaWFsUGFyYW1zKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG1hdGVyaWFsRGVmLm5hbWUpIG1hdGVyaWFsLm5hbWUgPSBtYXRlcmlhbERlZi5uYW1lO1xyXG5cclxuICAgICAgLy8gYmFzZUNvbG9yVGV4dHVyZSwgZW1pc3NpdmVUZXh0dXJlLCBhbmQgc3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZSB1c2Ugc1JHQiBlbmNvZGluZy5cclxuICAgICAgaWYgKG1hdGVyaWFsLm1hcCkgbWF0ZXJpYWwubWFwLmVuY29kaW5nID0gc1JHQkVuY29kaW5nO1xyXG4gICAgICBpZiAobWF0ZXJpYWwuZW1pc3NpdmVNYXApIG1hdGVyaWFsLmVtaXNzaXZlTWFwLmVuY29kaW5nID0gc1JHQkVuY29kaW5nO1xyXG5cclxuICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShtYXRlcmlhbCwgbWF0ZXJpYWxEZWYpO1xyXG5cclxuICAgICAgaWYgKG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMpIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YShleHRlbnNpb25zLCBtYXRlcmlhbCwgbWF0ZXJpYWxEZWYpO1xyXG5cclxuICAgICAgcmV0dXJuIG1hdGVyaWFsO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcclxuICAgKiBAcGFyYW0ge0dMVEYuUHJpbWl0aXZlfSBwcmltaXRpdmVEZWZcclxuICAgKiBAcGFyYW0ge0dMVEZQYXJzZXJ9IHBhcnNlclxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNvbXB1dGVCb3VuZHMoZ2VvbWV0cnksIHByaW1pdGl2ZURlZiwgcGFyc2VyKSB7XHJcbiAgICB2YXIgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzO1xyXG5cclxuICAgIHZhciBib3ggPSBuZXcgQm94MygpO1xyXG5cclxuICAgIGlmIChhdHRyaWJ1dGVzLlBPU0lUSU9OICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdmFyIGFjY2Vzc29yID0gcGFyc2VyLmpzb24uYWNjZXNzb3JzW2F0dHJpYnV0ZXMuUE9TSVRJT05dO1xyXG5cclxuICAgICAgdmFyIG1pbiA9IGFjY2Vzc29yLm1pbjtcclxuICAgICAgdmFyIG1heCA9IGFjY2Vzc29yLm1heDtcclxuXHJcbiAgICAgIC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXHJcblxyXG4gICAgICBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBib3guc2V0KG5ldyBWZWN0b3IzKG1pblswXSwgbWluWzFdLCBtaW5bMl0pLCBuZXcgVmVjdG9yMyhtYXhbMF0sIG1heFsxXSwgbWF4WzJdKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIG1pbi9tYXggcHJvcGVydGllcyBmb3IgYWNjZXNzb3IgUE9TSVRJT04uJyk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0YXJnZXRzID0gcHJpbWl0aXZlRGVmLnRhcmdldHM7XHJcblxyXG4gICAgaWYgKHRhcmdldHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB2YXIgbWF4RGlzcGxhY2VtZW50ID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgdmFyIHZlY3RvciA9IG5ldyBWZWN0b3IzKCk7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSB0YXJnZXRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcclxuXHJcbiAgICAgICAgaWYgKHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICB2YXIgYWNjZXNzb3IgPSBwYXJzZXIuanNvbi5hY2Nlc3NvcnNbdGFyZ2V0LlBPU0lUSU9OXTtcclxuICAgICAgICAgIHZhciBtaW4gPSBhY2Nlc3Nvci5taW47XHJcbiAgICAgICAgICB2YXIgbWF4ID0gYWNjZXNzb3IubWF4O1xyXG5cclxuICAgICAgICAgIC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXHJcblxyXG4gICAgICAgICAgaWYgKG1pbiAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IG1heCBvZiBhYnNvbHV0ZSBjb21wb25lbnRzIGJlY2F1c2UgdGFyZ2V0IHdlaWdodCBpcyBbLTEsMV1cclxuICAgICAgICAgICAgdmVjdG9yLnNldFgoTWF0aC5tYXgoTWF0aC5hYnMobWluWzBdKSwgTWF0aC5hYnMobWF4WzBdKSkpO1xyXG4gICAgICAgICAgICB2ZWN0b3Iuc2V0WShNYXRoLm1heChNYXRoLmFicyhtaW5bMV0pLCBNYXRoLmFicyhtYXhbMV0pKSk7XHJcbiAgICAgICAgICAgIHZlY3Rvci5zZXRaKE1hdGgubWF4KE1hdGguYWJzKG1pblsyXSksIE1hdGguYWJzKG1heFsyXSkpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgYXNzdW1lcyB0aGF0IHRoZSBzdW0gb2YgYWxsIHdlaWdodHMgaXMgYXQgbW9zdCAxLiBUaGlzIGlzbid0IHF1aXRlIGNvcnJlY3QgLSBpdCdzIG1vcmUgY29uc2VydmF0aXZlXHJcbiAgICAgICAgICAgIC8vIHRvIGFzc3VtZSB0aGF0IGVhY2ggdGFyZ2V0IGNhbiBoYXZlIGEgbWF4IHdlaWdodCBvZiAxLiBIb3dldmVyLCBmb3Igc29tZSB1c2UgY2FzZXMgLSBub3RhYmx5LCB3aGVuIG1vcnBoIHRhcmdldHNcclxuICAgICAgICAgICAgLy8gYXJlIHVzZWQgdG8gaW1wbGVtZW50IGtleS1mcmFtZSBhbmltYXRpb25zIGFuZCBhcyBzdWNoIG9ubHkgdHdvIGFyZSBhY3RpdmUgYXQgYSB0aW1lIC0gdGhpcyByZXN1bHRzIGluIHZlcnkgbGFyZ2VcclxuICAgICAgICAgICAgLy8gYm94ZXMuIFNvIGZvciBub3cgd2UgbWFrZSBhIGJveCB0aGF0J3Mgc29tZXRpbWVzIGEgdG91Y2ggdG9vIHNtYWxsIGJ1dCBpcyBob3BlZnVsbHkgbW9zdGx5IG9mIHJlYXNvbmFibGUgc2l6ZS5cclxuICAgICAgICAgICAgbWF4RGlzcGxhY2VtZW50Lm1heCh2ZWN0b3IpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIG1pbi9tYXggcHJvcGVydGllcyBmb3IgYWNjZXNzb3IgUE9TSVRJT04uJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBcyBwZXIgY29tbWVudCBhYm92ZSB0aGlzIGJveCBpc24ndCBjb25zZXJ2YXRpdmUsIGJ1dCBoYXMgYSByZWFzb25hYmxlIHNpemUgZm9yIGEgdmVyeSBsYXJnZSBudW1iZXIgb2YgbW9ycGggdGFyZ2V0cy5cclxuICAgICAgYm94LmV4cGFuZEJ5VmVjdG9yKG1heERpc3BsYWNlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VvbWV0cnkuYm91bmRpbmdCb3ggPSBib3g7XHJcblxyXG4gICAgdmFyIHNwaGVyZSA9IG5ldyBTcGhlcmUoKTtcclxuXHJcbiAgICBib3guZ2V0Q2VudGVyKHNwaGVyZS5jZW50ZXIpO1xyXG4gICAgc3BoZXJlLnJhZGl1cyA9IGJveC5taW4uZGlzdGFuY2VUbyhib3gubWF4KSAvIDI7XHJcblxyXG4gICAgZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUgPSBzcGhlcmU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxyXG4gICAqIEBwYXJhbSB7R0xURi5QcmltaXRpdmV9IHByaW1pdGl2ZURlZlxyXG4gICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxCdWZmZXJHZW9tZXRyeT59XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpIHtcclxuICAgIHZhciBhdHRyaWJ1dGVzID0gcHJpbWl0aXZlRGVmLmF0dHJpYnV0ZXM7XHJcblxyXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBhc3NpZ25BdHRyaWJ1dGVBY2Nlc3NvcihhY2Nlc3NvckluZGV4LCBhdHRyaWJ1dGVOYW1lKSB7XHJcbiAgICAgIHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBhY2Nlc3NvckluZGV4KS50aGVuKGZ1bmN0aW9uIChhY2Nlc3Nvcikge1xyXG4gICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhY2Nlc3Nvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGdsdGZBdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbZ2x0ZkF0dHJpYnV0ZU5hbWVdIHx8IGdsdGZBdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAvLyBTa2lwIGF0dHJpYnV0ZXMgYWxyZWFkeSBwcm92aWRlZCBieSBlLmcuIERyYWNvIGV4dGVuc2lvbi5cclxuICAgICAgaWYgKHRocmVlQXR0cmlidXRlTmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSBjb250aW51ZTtcclxuXHJcbiAgICAgIHBlbmRpbmcucHVzaChhc3NpZ25BdHRyaWJ1dGVBY2Nlc3NvcihhdHRyaWJ1dGVzW2dsdGZBdHRyaWJ1dGVOYW1lXSwgdGhyZWVBdHRyaWJ1dGVOYW1lKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByaW1pdGl2ZURlZi5pbmRpY2VzICE9PSB1bmRlZmluZWQgJiYgIWdlb21ldHJ5LmluZGV4KSB7XHJcbiAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlclxyXG4gICAgICAgIC5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIHByaW1pdGl2ZURlZi5pbmRpY2VzKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChhY2Nlc3Nvcikge1xyXG4gICAgICAgICAgZ2VvbWV0cnkuc2V0SW5kZXgoYWNjZXNzb3IpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgcGVuZGluZy5wdXNoKGFjY2Vzc29yKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYpO1xyXG5cclxuICAgIGNvbXB1dGVCb3VuZHMoZ2VvbWV0cnksIHByaW1pdGl2ZURlZiwgcGFyc2VyKTtcclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZykudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBwcmltaXRpdmVEZWYudGFyZ2V0cyAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyBhZGRNb3JwaFRhcmdldHMoZ2VvbWV0cnksIHByaW1pdGl2ZURlZi50YXJnZXRzLCBwYXJzZXIpXHJcbiAgICAgICAgOiBnZW9tZXRyeTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcclxuICAgKiBAcGFyYW0ge051bWJlcn0gZHJhd01vZGVcclxuICAgKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeX1cclxuICAgKi9cclxuICBmdW5jdGlvbiB0b1RyaWFuZ2xlc0RyYXdNb2RlKGdlb21ldHJ5LCBkcmF3TW9kZSkge1xyXG4gICAgdmFyIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcclxuXHJcbiAgICAvLyBnZW5lcmF0ZSBpbmRleCBpZiBub3QgcHJlc2VudFxyXG5cclxuICAgIGlmIChpbmRleCA9PT0gbnVsbCkge1xyXG4gICAgICB2YXIgaW5kaWNlcyA9IFtdO1xyXG5cclxuICAgICAgdmFyIHBvc2l0aW9uID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO1xyXG5cclxuICAgICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpKyspIHtcclxuICAgICAgICAgIGluZGljZXMucHVzaChpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdlb21ldHJ5LnNldEluZGV4KGluZGljZXMpO1xyXG4gICAgICAgIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXIudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmRlZmluZWQgcG9zaXRpb24gYXR0cmlidXRlLiBQcm9jZXNzaW5nIG5vdCBwb3NzaWJsZS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1xyXG5cclxuICAgIHZhciBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcclxuICAgIHZhciBuZXdJbmRpY2VzID0gW107XHJcblxyXG4gICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlKSB7XHJcbiAgICAgIC8vIGdsLlRSSUFOR0xFX0ZBTlxyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xyXG4gICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKDApKTtcclxuICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XHJcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gZ2wuVFJJQU5HTEVfU1RSSVBcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xyXG4gICAgICAgIGlmIChpICUgMiA9PT0gMCkge1xyXG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSkpO1xyXG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XHJcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xyXG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZXdJbmRpY2VzLmxlbmd0aCAvIDMgIT09IG51bWJlck9mVHJpYW5nbGVzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXIudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmFibGUgdG8gZ2VuZXJhdGUgY29ycmVjdCBhbW91bnQgb2YgdHJpYW5nbGVzLidcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBidWlsZCBmaW5hbCBnZW9tZXRyeVxyXG5cclxuICAgIHZhciBuZXdHZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XHJcbiAgICBuZXdHZW9tZXRyeS5zZXRJbmRleChuZXdJbmRpY2VzKTtcclxuXHJcbiAgICByZXR1cm4gbmV3R2VvbWV0cnk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2dlb21ldHJ5XHJcbiAgICpcclxuICAgKiBDcmVhdGVzIEJ1ZmZlckdlb21ldHJpZXMgZnJvbSBwcmltaXRpdmVzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBcnJheTxHTFRGLlByaW1pdGl2ZT59IHByaW1pdGl2ZXNcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PEJ1ZmZlckdlb21ldHJ5Pj59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEdlb21ldHJpZXMgPSBmdW5jdGlvbiAocHJpbWl0aXZlcykge1xyXG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XHJcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcclxuICAgIHZhciBjYWNoZSA9IHRoaXMucHJpbWl0aXZlQ2FjaGU7XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlRHJhY29QcmltaXRpdmUocHJpbWl0aXZlKSB7XHJcbiAgICAgIHJldHVybiBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT05dXHJcbiAgICAgICAgLmRlY29kZVByaW1pdGl2ZShwcmltaXRpdmUsIHBhcnNlcilcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcclxuICAgICAgICAgIHJldHVybiBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKGdlb21ldHJ5LCBwcmltaXRpdmUsIHBhcnNlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwcmltaXRpdmVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgdmFyIHByaW1pdGl2ZSA9IHByaW1pdGl2ZXNbaV07XHJcbiAgICAgIHZhciBjYWNoZUtleSA9IGNyZWF0ZVByaW1pdGl2ZUtleShwcmltaXRpdmUpO1xyXG5cclxuICAgICAgLy8gU2VlIGlmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCB0aGlzIGdlb21ldHJ5XHJcbiAgICAgIHZhciBjYWNoZWQgPSBjYWNoZVtjYWNoZUtleV07XHJcblxyXG4gICAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgLy8gVXNlIHRoZSBjYWNoZWQgZ2VvbWV0cnkgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgcGVuZGluZy5wdXNoKGNhY2hlZC5wcm9taXNlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgZ2VvbWV0cnlQcm9taXNlO1xyXG5cclxuICAgICAgICBpZiAocHJpbWl0aXZlLmV4dGVuc2lvbnMgJiYgcHJpbWl0aXZlLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl0pIHtcclxuICAgICAgICAgIC8vIFVzZSBEUkFDTyBnZW9tZXRyeSBpZiBhdmFpbGFibGVcclxuICAgICAgICAgIGdlb21ldHJ5UHJvbWlzZSA9IGNyZWF0ZURyYWNvUHJpbWl0aXZlKHByaW1pdGl2ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZ2VvbWV0cnlcclxuICAgICAgICAgIGdlb21ldHJ5UHJvbWlzZSA9IGFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMobmV3IEJ1ZmZlckdlb21ldHJ5KCksIHByaW1pdGl2ZSwgcGFyc2VyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhY2hlIHRoaXMgZ2VvbWV0cnlcclxuICAgICAgICBjYWNoZVtjYWNoZUtleV0gPSB7IHByaW1pdGl2ZTogcHJpbWl0aXZlLCBwcm9taXNlOiBnZW9tZXRyeVByb21pc2UgfTtcclxuXHJcbiAgICAgICAgcGVuZGluZy5wdXNoKGdlb21ldHJ5UHJvbWlzZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtZXNoZXNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbWVzaEluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxHcm91cHxNZXNofFNraW5uZWRNZXNoPn1cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkTWVzaCA9IGZ1bmN0aW9uIChtZXNoSW5kZXgpIHtcclxuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xyXG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XHJcblxyXG4gICAgdmFyIG1lc2hEZWYgPSBqc29uLm1lc2hlc1ttZXNoSW5kZXhdO1xyXG4gICAgdmFyIHByaW1pdGl2ZXMgPSBtZXNoRGVmLnByaW1pdGl2ZXM7XHJcblxyXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwcmltaXRpdmVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgdmFyIG1hdGVyaWFsID1cclxuICAgICAgICAgICAgcHJpbWl0aXZlc1tpXS5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgPyBjcmVhdGVEZWZhdWx0TWF0ZXJpYWwodGhpcy5jYWNoZSlcclxuICAgICAgICAgICAgICA6IHRoaXMuZ2V0RGVwZW5kZW5jeSgnbWF0ZXJpYWwnLCBwcmltaXRpdmVzW2ldLm1hdGVyaWFsKTtcclxuXHJcbiAgICAgIHBlbmRpbmcucHVzaChtYXRlcmlhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGVuZGluZy5wdXNoKHBhcnNlci5sb2FkR2VvbWV0cmllcyhwcmltaXRpdmVzKSk7XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcclxuICAgICAgdmFyIG1hdGVyaWFscyA9IHJlc3VsdHMuc2xpY2UoMCwgcmVzdWx0cy5sZW5ndGggLSAxKTtcclxuICAgICAgdmFyIGdlb21ldHJpZXMgPSByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICB2YXIgbWVzaGVzID0gW107XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xyXG4gICAgICAgIHZhciBwcmltaXRpdmUgPSBwcmltaXRpdmVzW2ldO1xyXG5cclxuICAgICAgICAvLyAxLiBjcmVhdGUgTWVzaFxyXG5cclxuICAgICAgICB2YXIgbWVzaDtcclxuXHJcbiAgICAgICAgdmFyIG1hdGVyaWFsID0gbWF0ZXJpYWxzW2ldO1xyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFUyB8fFxyXG4gICAgICAgICAgcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9TVFJJUCB8fFxyXG4gICAgICAgICAgcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9GQU4gfHxcclxuICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSB1bmRlZmluZWRcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8vIC5pc1NraW5uZWRNZXNoIGlzbid0IGluIGdsVEYgc3BlYy4gU2VlIC5tYXJrRGVmcygpXHJcbiAgICAgICAgICBtZXNoID1cclxuICAgICAgICAgICAgbWVzaERlZi5pc1NraW5uZWRNZXNoID09PSB0cnVlXHJcbiAgICAgICAgICAgICAgPyBuZXcgU2tpbm5lZE1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKVxyXG4gICAgICAgICAgICAgIDogbmV3IE1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuXHJcbiAgICAgICAgICBpZiAobWVzaC5pc1NraW5uZWRNZXNoID09PSB0cnVlICYmICFtZXNoLmdlb21ldHJ5LmF0dHJpYnV0ZXMuc2tpbldlaWdodC5ub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIHdlIG5vcm1hbGl6ZSBmbG9hdGluZyBwb2ludCBza2luIHdlaWdodCBhcnJheSB0byBmaXggbWFsZm9ybWVkIGFzc2V0cyAoc2VlICMxNTMxOSlcclxuICAgICAgICAgICAgLy8gaXQncyBpbXBvcnRhbnQgdG8gc2tpcCB0aGlzIGZvciBub24tZmxvYXQzMiBkYXRhIHNpbmNlIG5vcm1hbGl6ZVNraW5XZWlnaHRzIGFzc3VtZXMgbm9uLW5vcm1hbGl6ZWQgaW5wdXRzXHJcbiAgICAgICAgICAgIG1lc2gubm9ybWFsaXplU2tpbldlaWdodHMoKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAocHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9TVFJJUCkge1xyXG4gICAgICAgICAgICBtZXNoLmdlb21ldHJ5ID0gdG9UcmlhbmdsZXNEcmF3TW9kZShtZXNoLmdlb21ldHJ5LCBUcmlhbmdsZVN0cmlwRHJhd01vZGUpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTikge1xyXG4gICAgICAgICAgICBtZXNoLmdlb21ldHJ5ID0gdG9UcmlhbmdsZXNEcmF3TW9kZShtZXNoLmdlb21ldHJ5LCBUcmlhbmdsZUZhbkRyYXdNb2RlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORVMpIHtcclxuICAgICAgICAgIG1lc2ggPSBuZXcgTGluZVNlZ21lbnRzKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfU1RSSVApIHtcclxuICAgICAgICAgIG1lc2ggPSBuZXcgTGluZShnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5MSU5FX0xPT1ApIHtcclxuICAgICAgICAgIG1lc2ggPSBuZXcgTGluZUxvb3AoZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuUE9JTlRTKSB7XHJcbiAgICAgICAgICBtZXNoID0gbmV3IFBvaW50cyhnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFByaW1pdGl2ZSBtb2RlIHVuc3VwcG9ydGVkOiAnICsgcHJpbWl0aXZlLm1vZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1lc2guZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICB1cGRhdGVNb3JwaFRhcmdldHMobWVzaCwgbWVzaERlZik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZXNoLm5hbWUgPSBtZXNoRGVmLm5hbWUgfHwgJ21lc2hfJyArIG1lc2hJbmRleDtcclxuXHJcbiAgICAgICAgaWYgKGdlb21ldHJpZXMubGVuZ3RoID4gMSkgbWVzaC5uYW1lICs9ICdfJyArIGk7XHJcblxyXG4gICAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEobWVzaCwgbWVzaERlZik7XHJcblxyXG4gICAgICAgIHBhcnNlci5hc3NpZ25GaW5hbE1hdGVyaWFsKG1lc2gpO1xyXG5cclxuICAgICAgICBtZXNoZXMucHVzaChtZXNoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG1lc2hlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gbWVzaGVzWzBdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZ3JvdXAgPSBuZXcgR3JvdXAoKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG1lc2hlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgICAgZ3JvdXAuYWRkKG1lc2hlc1tpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBncm91cDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNjYW1lcmFzXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNhbWVyYUluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5DYW1lcmE+fVxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRDYW1lcmEgPSBmdW5jdGlvbiAoY2FtZXJhSW5kZXgpIHtcclxuICAgIHZhciBjYW1lcmE7XHJcbiAgICB2YXIgY2FtZXJhRGVmID0gdGhpcy5qc29uLmNhbWVyYXNbY2FtZXJhSW5kZXhdO1xyXG4gICAgdmFyIHBhcmFtcyA9IGNhbWVyYURlZltjYW1lcmFEZWYudHlwZV07XHJcblxyXG4gICAgaWYgKCFwYXJhbXMpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIGNhbWVyYSBwYXJhbWV0ZXJzLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNhbWVyYURlZi50eXBlID09PSAncGVyc3BlY3RpdmUnKSB7XHJcbiAgICAgIGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYShcclxuICAgICAgICBNYXRoVXRpbHMucmFkVG9EZWcocGFyYW1zLnlmb3YpLFxyXG4gICAgICAgIHBhcmFtcy5hc3BlY3RSYXRpbyB8fCAxLFxyXG4gICAgICAgIHBhcmFtcy56bmVhciB8fCAxLFxyXG4gICAgICAgIHBhcmFtcy56ZmFyIHx8IDJlNlxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmIChjYW1lcmFEZWYudHlwZSA9PT0gJ29ydGhvZ3JhcGhpYycpIHtcclxuICAgICAgY2FtZXJhID0gbmV3IE9ydGhvZ3JhcGhpY0NhbWVyYShcclxuICAgICAgICAtcGFyYW1zLnhtYWcsXHJcbiAgICAgICAgcGFyYW1zLnhtYWcsXHJcbiAgICAgICAgcGFyYW1zLnltYWcsXHJcbiAgICAgICAgLXBhcmFtcy55bWFnLFxyXG4gICAgICAgIHBhcmFtcy56bmVhcixcclxuICAgICAgICBwYXJhbXMuemZhclxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjYW1lcmFEZWYubmFtZSkgY2FtZXJhLm5hbWUgPSBjYW1lcmFEZWYubmFtZTtcclxuXHJcbiAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKGNhbWVyYSwgY2FtZXJhRGVmKTtcclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNhbWVyYSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3NraW5zXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5JbmRleFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn1cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkU2tpbiA9IGZ1bmN0aW9uIChza2luSW5kZXgpIHtcclxuICAgIHZhciBza2luRGVmID0gdGhpcy5qc29uLnNraW5zW3NraW5JbmRleF07XHJcblxyXG4gICAgdmFyIHNraW5FbnRyeSA9IHsgam9pbnRzOiBza2luRGVmLmpvaW50cyB9O1xyXG5cclxuICAgIGlmIChza2luRGVmLmludmVyc2VCaW5kTWF0cmljZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNraW5FbnRyeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBza2luRGVmLmludmVyc2VCaW5kTWF0cmljZXMpLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29yKSB7XHJcbiAgICAgIHNraW5FbnRyeS5pbnZlcnNlQmluZE1hdHJpY2VzID0gYWNjZXNzb3I7XHJcblxyXG4gICAgICByZXR1cm4gc2tpbkVudHJ5O1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI2FuaW1hdGlvbnNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gYW5pbWF0aW9uSW5kZXhcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFuaW1hdGlvbkNsaXA+fVxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRBbmltYXRpb24gPSBmdW5jdGlvbiAoYW5pbWF0aW9uSW5kZXgpIHtcclxuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xyXG5cclxuICAgIHZhciBhbmltYXRpb25EZWYgPSBqc29uLmFuaW1hdGlvbnNbYW5pbWF0aW9uSW5kZXhdO1xyXG5cclxuICAgIHZhciBwZW5kaW5nTm9kZXMgPSBbXTtcclxuICAgIHZhciBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMgPSBbXTtcclxuICAgIHZhciBwZW5kaW5nT3V0cHV0QWNjZXNzb3JzID0gW107XHJcbiAgICB2YXIgcGVuZGluZ1NhbXBsZXJzID0gW107XHJcbiAgICB2YXIgcGVuZGluZ1RhcmdldHMgPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBhbmltYXRpb25EZWYuY2hhbm5lbHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICB2YXIgY2hhbm5lbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVsc1tpXTtcclxuICAgICAgdmFyIHNhbXBsZXIgPSBhbmltYXRpb25EZWYuc2FtcGxlcnNbY2hhbm5lbC5zYW1wbGVyXTtcclxuICAgICAgdmFyIHRhcmdldCA9IGNoYW5uZWwudGFyZ2V0O1xyXG4gICAgICB2YXIgbmFtZSA9IHRhcmdldC5ub2RlICE9PSB1bmRlZmluZWQgPyB0YXJnZXQubm9kZSA6IHRhcmdldC5pZDsgLy8gTk9URTogdGFyZ2V0LmlkIGlzIGRlcHJlY2F0ZWQuXHJcbiAgICAgIHZhciBpbnB1dCA9XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzW3NhbXBsZXIuaW5wdXRdXHJcbiAgICAgICAgICAgICAgOiBzYW1wbGVyLmlucHV0O1xyXG4gICAgICB2YXIgb3V0cHV0ID1cclxuICAgICAgICAgICAgYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgID8gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnNbc2FtcGxlci5vdXRwdXRdXHJcbiAgICAgICAgICAgICAgOiBzYW1wbGVyLm91dHB1dDtcclxuXHJcbiAgICAgIHBlbmRpbmdOb2Rlcy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeSgnbm9kZScsIG5hbWUpKTtcclxuICAgICAgcGVuZGluZ0lucHV0QWNjZXNzb3JzLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIGlucHV0KSk7XHJcbiAgICAgIHBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgb3V0cHV0KSk7XHJcbiAgICAgIHBlbmRpbmdTYW1wbGVycy5wdXNoKHNhbXBsZXIpO1xyXG4gICAgICBwZW5kaW5nVGFyZ2V0cy5wdXNoKHRhcmdldCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcclxuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ05vZGVzKSxcclxuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ0lucHV0QWNjZXNzb3JzKSxcclxuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ091dHB1dEFjY2Vzc29ycyksXHJcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdTYW1wbGVycyksXHJcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdUYXJnZXRzKSxcclxuICAgIF0pLnRoZW4oZnVuY3Rpb24gKGRlcGVuZGVuY2llcykge1xyXG4gICAgICB2YXIgbm9kZXMgPSBkZXBlbmRlbmNpZXNbMF07XHJcbiAgICAgIHZhciBpbnB1dEFjY2Vzc29ycyA9IGRlcGVuZGVuY2llc1sxXTtcclxuICAgICAgdmFyIG91dHB1dEFjY2Vzc29ycyA9IGRlcGVuZGVuY2llc1syXTtcclxuICAgICAgdmFyIHNhbXBsZXJzID0gZGVwZW5kZW5jaWVzWzNdO1xyXG4gICAgICB2YXIgdGFyZ2V0cyA9IGRlcGVuZGVuY2llc1s0XTtcclxuXHJcbiAgICAgIHZhciB0cmFja3MgPSBbXTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG5vZGVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIHZhciBpbnB1dEFjY2Vzc29yID0gaW5wdXRBY2Nlc3NvcnNbaV07XHJcbiAgICAgICAgdmFyIG91dHB1dEFjY2Vzc29yID0gb3V0cHV0QWNjZXNzb3JzW2ldO1xyXG4gICAgICAgIHZhciBzYW1wbGVyID0gc2FtcGxlcnNbaV07XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IHRhcmdldHNbaV07XHJcblxyXG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBub2RlLnVwZGF0ZU1hdHJpeCgpO1xyXG4gICAgICAgIG5vZGUubWF0cml4QXV0b1VwZGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHZhciBUeXBlZEtleWZyYW1lVHJhY2s7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoUEFUSF9QUk9QRVJUSUVTW3RhcmdldC5wYXRoXSkge1xyXG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMud2VpZ2h0czpcclxuICAgICAgICAgICAgVHlwZWRLZXlmcmFtZVRyYWNrID0gTnVtYmVyS2V5ZnJhbWVUcmFjaztcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMucm90YXRpb246XHJcbiAgICAgICAgICAgIFR5cGVkS2V5ZnJhbWVUcmFjayA9IFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy5wb3NpdGlvbjpcclxuICAgICAgICAgIGNhc2UgUEFUSF9QUk9QRVJUSUVTLnNjYWxlOlxyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgVHlwZWRLZXlmcmFtZVRyYWNrID0gVmVjdG9yS2V5ZnJhbWVUcmFjaztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdGFyZ2V0TmFtZSA9IG5vZGUubmFtZSA/IG5vZGUubmFtZSA6IG5vZGUudXVpZDtcclxuXHJcbiAgICAgICAgdmFyIGludGVycG9sYXRpb24gPVxyXG4gICAgICAgICAgICAgIHNhbXBsZXIuaW50ZXJwb2xhdGlvbiAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICA/IElOVEVSUE9MQVRJT05bc2FtcGxlci5pbnRlcnBvbGF0aW9uXVxyXG4gICAgICAgICAgICAgICAgOiBJbnRlcnBvbGF0ZUxpbmVhcjtcclxuXHJcbiAgICAgICAgdmFyIHRhcmdldE5hbWVzID0gW107XHJcblxyXG4gICAgICAgIGlmIChQQVRIX1BST1BFUlRJRVNbdGFyZ2V0LnBhdGhdID09PSBQQVRIX1BST1BFUlRJRVMud2VpZ2h0cykge1xyXG4gICAgICAgICAgLy8gTm9kZSBtYXkgYmUgYSBHcm91cCAoZ2xURiBtZXNoIHdpdGggc2V2ZXJhbCBwcmltaXRpdmVzKSBvciBhIE1lc2guXHJcbiAgICAgICAgICBub2RlLnRyYXZlcnNlKGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKG9iamVjdC5pc01lc2ggPT09IHRydWUgJiYgb2JqZWN0Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlcykge1xyXG4gICAgICAgICAgICAgIHRhcmdldE5hbWVzLnB1c2gob2JqZWN0Lm5hbWUgPyBvYmplY3QubmFtZSA6IG9iamVjdC51dWlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRhcmdldE5hbWVzLnB1c2godGFyZ2V0TmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgb3V0cHV0QXJyYXkgPSBvdXRwdXRBY2Nlc3Nvci5hcnJheTtcclxuXHJcbiAgICAgICAgaWYgKG91dHB1dEFjY2Vzc29yLm5vcm1hbGl6ZWQpIHtcclxuICAgICAgICAgIHZhciBzY2FsZTtcclxuXHJcbiAgICAgICAgICBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IEludDhBcnJheSkge1xyXG4gICAgICAgICAgICBzY2FsZSA9IDEgLyAxMjc7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKG91dHB1dEFycmF5LmNvbnN0cnVjdG9yID09PSBVaW50OEFycmF5KSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDI1NTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT0gSW50MTZBcnJheSkge1xyXG4gICAgICAgICAgICBzY2FsZSA9IDEgLyAzMjc2NztcclxuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IFVpbnQxNkFycmF5KSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDY1NTM1O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBvdXRwdXQgYWNjZXNzb3IgY29tcG9uZW50IHR5cGUuJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdmFyIHNjYWxlZCA9IG5ldyBGbG9hdDMyQXJyYXkob3V0cHV0QXJyYXkubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamwgPSBvdXRwdXRBcnJheS5sZW5ndGg7IGogPCBqbDsgaisrKSB7XHJcbiAgICAgICAgICAgIHNjYWxlZFtqXSA9IG91dHB1dEFycmF5W2pdICogc2NhbGU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgb3V0cHV0QXJyYXkgPSBzY2FsZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBqID0gMCwgamwgPSB0YXJnZXROYW1lcy5sZW5ndGg7IGogPCBqbDsgaisrKSB7XHJcbiAgICAgICAgICB2YXIgdHJhY2sgPSBuZXcgVHlwZWRLZXlmcmFtZVRyYWNrKFxyXG4gICAgICAgICAgICB0YXJnZXROYW1lc1tqXSArICcuJyArIFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0sXHJcbiAgICAgICAgICAgIGlucHV0QWNjZXNzb3IuYXJyYXksXHJcbiAgICAgICAgICAgIG91dHB1dEFycmF5LFxyXG4gICAgICAgICAgICBpbnRlcnBvbGF0aW9uXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIC8vIE92ZXJyaWRlIGludGVycG9sYXRpb24gd2l0aCBjdXN0b20gZmFjdG9yeSBtZXRob2QuXHJcbiAgICAgICAgICBpZiAoc2FtcGxlci5pbnRlcnBvbGF0aW9uID09PSAnQ1VCSUNTUExJTkUnKSB7XHJcbiAgICAgICAgICAgIHRyYWNrLmNyZWF0ZUludGVycG9sYW50ID0gZnVuY3Rpb24gSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgIC8vIEEgQ1VCSUNTUExJTkUga2V5ZnJhbWUgaW4gZ2xURiBoYXMgdGhyZWUgb3V0cHV0IHZhbHVlcyBmb3IgZWFjaCBpbnB1dCB2YWx1ZSxcclxuICAgICAgICAgICAgICAvLyByZXByZXNlbnRpbmcgaW5UYW5nZW50LCBzcGxpbmVWZXJ0ZXgsIGFuZCBvdXRUYW5nZW50LiBBcyBhIHJlc3VsdCwgdHJhY2suZ2V0VmFsdWVTaXplKClcclxuICAgICAgICAgICAgICAvLyBtdXN0IGJlIGRpdmlkZWQgYnkgdGhyZWUgdG8gZ2V0IHRoZSBpbnRlcnBvbGFudCdzIHNhbXBsZVNpemUgYXJndW1lbnQuXHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVzLFxyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXMsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFZhbHVlU2l6ZSgpIC8gMyxcclxuICAgICAgICAgICAgICAgIHJlc3VsdFxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBNYXJrIGFzIENVQklDU1BMSU5FLiBgdHJhY2suZ2V0SW50ZXJwb2xhdGlvbigpYCBkb2Vzbid0IHN1cHBvcnQgY3VzdG9tIGludGVycG9sYW50cy5cclxuICAgICAgICAgICAgdHJhY2suY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRyYWNrcy5wdXNoKHRyYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBuYW1lID0gYW5pbWF0aW9uRGVmLm5hbWUgPyBhbmltYXRpb25EZWYubmFtZSA6ICdhbmltYXRpb25fJyArIGFuaW1hdGlvbkluZGV4O1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb25DbGlwKG5hbWUsIHVuZGVmaW5lZCwgdHJhY2tzKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNub2Rlcy1hbmQtaGllcmFyY2h5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVJbmRleFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0M0Q+fVxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWROb2RlID0gZnVuY3Rpb24gKG5vZGVJbmRleCkge1xyXG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XHJcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcclxuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xyXG5cclxuICAgIHZhciBtZXNoUmVmZXJlbmNlcyA9IGpzb24ubWVzaFJlZmVyZW5jZXM7XHJcbiAgICB2YXIgbWVzaFVzZXMgPSBqc29uLm1lc2hVc2VzO1xyXG5cclxuICAgIHZhciBub2RlRGVmID0ganNvbi5ub2Rlc1tub2RlSW5kZXhdO1xyXG5cclxuICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgcGVuZGluZyA9IFtdO1xyXG5cclxuICAgICAgaWYgKG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcGVuZGluZy5wdXNoKFxyXG4gICAgICAgICAgcGFyc2VyLmdldERlcGVuZGVuY3koJ21lc2gnLCBub2RlRGVmLm1lc2gpLnRoZW4oZnVuY3Rpb24gKG1lc2gpIHtcclxuICAgICAgICAgICAgdmFyIG5vZGU7XHJcblxyXG4gICAgICAgICAgICBpZiAobWVzaFJlZmVyZW5jZXNbbm9kZURlZi5tZXNoXSA+IDEpIHtcclxuICAgICAgICAgICAgICB2YXIgaW5zdGFuY2VOdW0gPSBtZXNoVXNlc1tub2RlRGVmLm1lc2hdKys7XHJcblxyXG4gICAgICAgICAgICAgIG5vZGUgPSBtZXNoLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgbm9kZS5uYW1lICs9ICdfaW5zdGFuY2VfJyArIGluc3RhbmNlTnVtO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG5vZGUgPSBtZXNoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB3ZWlnaHRzIGFyZSBwcm92aWRlZCBvbiB0aGUgbm9kZSwgb3ZlcnJpZGUgd2VpZ2h0cyBvbiB0aGUgbWVzaC5cclxuICAgICAgICAgICAgaWYgKG5vZGVEZWYud2VpZ2h0cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgbm9kZS50cmF2ZXJzZShmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvLmlzTWVzaCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG5vZGVEZWYud2VpZ2h0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgIG8ubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2ldID0gbm9kZURlZi53ZWlnaHRzW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG5vZGVEZWYuY2FtZXJhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmdldERlcGVuZGVuY3koJ2NhbWVyYScsIG5vZGVEZWYuY2FtZXJhKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICBub2RlRGVmLmV4dGVuc2lvbnMgJiZcclxuICAgICAgICBub2RlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXSAmJlxyXG4gICAgICAgIG5vZGVEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUxdLmxpZ2h0ICE9PSB1bmRlZmluZWRcclxuICAgICAgKSB7XHJcbiAgICAgICAgcGVuZGluZy5wdXNoKFxyXG4gICAgICAgICAgcGFyc2VyLmdldERlcGVuZGVuY3koJ2xpZ2h0Jywgbm9kZURlZi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0ubGlnaHQpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xyXG4gICAgfSkoKS50aGVuKGZ1bmN0aW9uIChvYmplY3RzKSB7XHJcbiAgICAgIHZhciBub2RlO1xyXG5cclxuICAgICAgLy8gLmlzQm9uZSBpc24ndCBpbiBnbFRGIHNwZWMuIFNlZSAubWFya0RlZnNcclxuICAgICAgaWYgKG5vZGVEZWYuaXNCb25lID09PSB0cnVlKSB7XHJcbiAgICAgICAgbm9kZSA9IG5ldyBCb25lKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgbm9kZSA9IG5ldyBHcm91cCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKG9iamVjdHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgbm9kZSA9IG9iamVjdHNbMF07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbm9kZSA9IG5ldyBPYmplY3QzRCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobm9kZSAhPT0gb2JqZWN0c1swXSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG9iamVjdHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgICAgbm9kZS5hZGQob2JqZWN0c1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobm9kZURlZi5uYW1lKSB7XHJcbiAgICAgICAgbm9kZS51c2VyRGF0YS5uYW1lID0gbm9kZURlZi5uYW1lO1xyXG4gICAgICAgIG5vZGUubmFtZSA9IFByb3BlcnR5QmluZGluZy5zYW5pdGl6ZU5vZGVOYW1lKG5vZGVEZWYubmFtZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEobm9kZSwgbm9kZURlZik7XHJcblxyXG4gICAgICBpZiAobm9kZURlZi5leHRlbnNpb25zKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgbm9kZSwgbm9kZURlZik7XHJcblxyXG4gICAgICBpZiAobm9kZURlZi5tYXRyaXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xyXG4gICAgICAgIG1hdHJpeC5mcm9tQXJyYXkobm9kZURlZi5tYXRyaXgpO1xyXG4gICAgICAgIG5vZGUuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKG5vZGVEZWYudHJhbnNsYXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgbm9kZS5wb3NpdGlvbi5mcm9tQXJyYXkobm9kZURlZi50cmFuc2xhdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm9kZURlZi5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBub2RlLnF1YXRlcm5pb24uZnJvbUFycmF5KG5vZGVEZWYucm90YXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5vZGVEZWYuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgbm9kZS5zY2FsZS5mcm9tQXJyYXkobm9kZURlZi5zY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbm9kZTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNzY2VuZXNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NlbmVJbmRleFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8R3JvdXA+fVxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRTY2VuZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBzY2VuZSBub2RlIGhpZXJhY2h5IGJ1aWxkZXJcclxuXHJcbiAgICBmdW5jdGlvbiBidWlsZE5vZGVIaWVyYWNoeShub2RlSWQsIHBhcmVudE9iamVjdCwganNvbiwgcGFyc2VyKSB7XHJcbiAgICAgIHZhciBub2RlRGVmID0ganNvbi5ub2Rlc1tub2RlSWRdO1xyXG5cclxuICAgICAgcmV0dXJuIHBhcnNlclxyXG4gICAgICAgIC5nZXREZXBlbmRlbmN5KCdub2RlJywgbm9kZUlkKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICBpZiAobm9kZURlZi5za2luID09PSB1bmRlZmluZWQpIHJldHVybiBub2RlO1xyXG5cclxuICAgICAgICAgIC8vIGJ1aWxkIHNrZWxldG9uIGhlcmUgYXMgd2VsbFxyXG5cclxuICAgICAgICAgIHZhciBza2luRW50cnk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHBhcnNlclxyXG4gICAgICAgICAgICAuZ2V0RGVwZW5kZW5jeSgnc2tpbicsIG5vZGVEZWYuc2tpbilcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHNraW4pIHtcclxuICAgICAgICAgICAgICBza2luRW50cnkgPSBza2luO1xyXG5cclxuICAgICAgICAgICAgICB2YXIgcGVuZGluZ0pvaW50cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBza2luRW50cnkuam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHBlbmRpbmdKb2ludHMucHVzaChwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnbm9kZScsIHNraW5FbnRyeS5qb2ludHNbaV0pKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nSm9pbnRzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGpvaW50Tm9kZXMpIHtcclxuICAgICAgICAgICAgICBub2RlLnRyYXZlcnNlKGZ1bmN0aW9uIChtZXNoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW1lc2guaXNNZXNoKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGJvbmVzID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9uZUludmVyc2VzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsID0gam9pbnROb2Rlcy5sZW5ndGg7IGogPCBqbDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBqb2ludE5vZGUgPSBqb2ludE5vZGVzW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgaWYgKGpvaW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvbmVzLnB1c2goam9pbnROb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdCA9IG5ldyBNYXRyaXg0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChza2luRW50cnkuaW52ZXJzZUJpbmRNYXRyaWNlcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBtYXQuZnJvbUFycmF5KHNraW5FbnRyeS5pbnZlcnNlQmluZE1hdHJpY2VzLmFycmF5LCBqICogMTYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYm9uZUludmVyc2VzLnB1c2gobWF0KTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAnVEhSRUUuR0xURkxvYWRlcjogSm9pbnQgXCIlc1wiIGNvdWxkIG5vdCBiZSBmb3VuZC4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2tpbkVudHJ5LmpvaW50c1tqXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtZXNoLmJpbmQobmV3IFNrZWxldG9uKGJvbmVzLCBib25lSW52ZXJzZXMpLCBtZXNoLm1hdHJpeFdvcmxkKTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgIC8vIGJ1aWxkIG5vZGUgaGllcmFjaHlcclxuXHJcbiAgICAgICAgICBwYXJlbnRPYmplY3QuYWRkKG5vZGUpO1xyXG5cclxuICAgICAgICAgIHZhciBwZW5kaW5nID0gW107XHJcblxyXG4gICAgICAgICAgaWYgKG5vZGVEZWYuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZURlZi5jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICBwZW5kaW5nLnB1c2goYnVpbGROb2RlSGllcmFjaHkoY2hpbGQsIG5vZGUsIGpzb24sIHBhcnNlcikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiBsb2FkU2NlbmUoc2NlbmVJbmRleCkge1xyXG4gICAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcclxuICAgICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XHJcbiAgICAgIHZhciBzY2VuZURlZiA9IHRoaXMuanNvbi5zY2VuZXNbc2NlbmVJbmRleF07XHJcbiAgICAgIHZhciBwYXJzZXIgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gTG9hZGVyIHJldHVybnMgR3JvdXAsIG5vdCBTY2VuZS5cclxuICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xODM0MiNpc3N1ZWNvbW1lbnQtNTc4OTgxMTcyXHJcbiAgICAgIHZhciBzY2VuZSA9IG5ldyBHcm91cCgpO1xyXG4gICAgICBpZiAoc2NlbmVEZWYubmFtZSkgc2NlbmUubmFtZSA9IHNjZW5lRGVmLm5hbWU7XHJcblxyXG4gICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKHNjZW5lLCBzY2VuZURlZik7XHJcblxyXG4gICAgICBpZiAoc2NlbmVEZWYuZXh0ZW5zaW9ucykgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIHNjZW5lLCBzY2VuZURlZik7XHJcblxyXG4gICAgICB2YXIgbm9kZUlkcyA9IHNjZW5lRGVmLm5vZGVzIHx8IFtdO1xyXG5cclxuICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG5vZGVJZHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgIHBlbmRpbmcucHVzaChidWlsZE5vZGVIaWVyYWNoeShub2RlSWRzW2ldLCBzY2VuZSwganNvbiwgcGFyc2VyKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gc2NlbmU7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9KSgpO1xyXG5cclxuICByZXR1cm4gR0xURkxvYWRlcjtcclxufSkoKTtcclxuXHJcbmV4cG9ydCB7IEdMVEZMb2FkZXIgfTtcclxuIiwiaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XHJcblxyXG4vLyBNYW5hZ2VzIGFsbCBkYXQuR1VJIGludGVyYWN0aW9uc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXRHVUkge1xyXG4gIGNvbnN0cnVjdG9yKG1haW4pIHtcclxuICAgIHRoaXMuZ3VpID0gbmV3IGRhdC5HVUkoKTtcclxuXHJcbiAgICB0aGlzLmNhbWVyYSA9IG1haW4uY2FtZXJhLnRocmVlQ2FtZXJhO1xyXG4gICAgdGhpcy5jb250cm9scyA9IG1haW4uY29udHJvbHMudGhyZWVDb250cm9scztcclxuICAgIHRoaXMubGlnaHQgPSBtYWluLmxpZ2h0O1xyXG4gICAgdGhpcy5zY2VuZSA9IG1haW4uc2NlbmU7XHJcblxyXG4gICAgdGhpcy5tb2RlbCA9IG51bGw7XHJcbiAgICB0aGlzLm1lc2hIZWxwZXIgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgbG9hZChtYWluLCBtZXNoKSB7XHJcbiAgICAvKiBHbG9iYWwgKi9cclxuICAgIC8vdGhpcy5ndWkuY2xvc2UoKTtcclxuXHJcbiAgICB0aGlzLm1vZGVsID0gbWFpbi5tb2RlbDtcclxuICAgIHRoaXMubWVzaEhlbHBlciA9IG1haW4ubWVzaEhlbHBlcjtcclxuXHJcbiAgICAvKiBDYW1lcmEgKi9cclxuICAgIGNvbnN0IGNhbWVyYUZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignQ2FtZXJhJyk7XHJcbiAgICBjb25zdCBjYW1lcmFGT1ZHdWkgPSBjYW1lcmFGb2xkZXIuYWRkKENvbmZpZy5jYW1lcmEsICdmb3YnLCAwLCAxODApLm5hbWUoJ0NhbWVyYSBGT1YnKTtcclxuICAgIGNhbWVyYUZPVkd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMuY2FtZXJhLmZvdiA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBjYW1lcmFGT1ZHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcblxyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNhbWVyYUFzcGVjdEd1aSA9IGNhbWVyYUZvbGRlci5hZGQoQ29uZmlnLmNhbWVyYSwgJ2FzcGVjdCcsIDAsIDQpLm5hbWUoJ0NhbWVyYSBBc3BlY3QnKTtcclxuICAgIGNhbWVyYUFzcGVjdEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBjYW1lcmFBc3BlY3RHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcblxyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNhbWVyYUZvZ0NvbG9yR3VpID0gY2FtZXJhRm9sZGVyLmFkZENvbG9yKENvbmZpZy5mb2csICdjb2xvcicpLm5hbWUoJ0ZvZyBDb2xvcicpO1xyXG4gICAgY2FtZXJhRm9nQ29sb3JHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuc2NlbmUuZm9nLmNvbG9yLnNldEhleCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNhbWVyYUZvZ05lYXJHdWkgPSBjYW1lcmFGb2xkZXIuYWRkKENvbmZpZy5mb2csICduZWFyJywgMC4wMDAsIDAuMDEwKS5uYW1lKCdGb2cgTmVhcicpO1xyXG4gICAgY2FtZXJhRm9nTmVhckd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMuc2NlbmUuZm9nLmRlbnNpdHkgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgY2FtZXJhRm9nTmVhckd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvKiBDb250cm9scyAqL1xyXG4gICAgY29uc3QgY29udHJvbHNGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ0NvbnRyb2xzJyk7XHJcbiAgICBjb250cm9sc0ZvbGRlci5hZGQoQ29uZmlnLmNvbnRyb2xzLCAnYXV0b1JvdGF0ZScpLm5hbWUoJ0F1dG8gUm90YXRlJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuYXV0b1JvdGF0ZSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjb250cm9sc0F1dG9Sb3RhdGVTcGVlZEd1aSA9IGNvbnRyb2xzRm9sZGVyLmFkZChDb25maWcuY29udHJvbHMsICdhdXRvUm90YXRlU3BlZWQnLCAtMSwgMSkubmFtZSgnUm90YXRpb24gU3BlZWQnKTtcclxuICAgIGNvbnRyb2xzQXV0b1JvdGF0ZVNwZWVkR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmF1dG9Sb3RhdGVTcGVlZCA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBjb250cm9sc0F1dG9Sb3RhdGVTcGVlZEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvKiBNb2RlbCAqL1xyXG4gICAgY29uc3QgbW9kZWxGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ01vZGVsJyk7XHJcbiAgICBtb2RlbEZvbGRlci5hZGQoQ29uZmlnLm1vZGVsLCAndHlwZScsIFsuLi5Db25maWcubW9kZWwuaW5pdGlhbFR5cGVzXSkubmFtZSgnU2VsZWN0IE1vZGVsJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIGlmIChDb25maWcubWVzaC5lbmFibGVIZWxwZXIpXHJcbiAgICAgICAgICB0aGlzLm1lc2hIZWxwZXIuZGlzYWJsZSgpO1xyXG5cclxuICAgICAgICBDb25maWcubW9kZWwuc2VsZWN0ZWQgPSBDb25maWcubW9kZWwuaW5pdGlhbFR5cGVzLmluZGV4T2YodmFsdWUpO1xyXG4gICAgICAgIHRoaXMudW5sb2FkKCk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC51bmxvYWQoKTtcclxuICAgICAgICB0aGlzLm1vZGVsLmxvYWQodmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiBNZXNoICovXHJcbiAgICBjb25zdCBtZXNoRm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdNZXNoJyk7XHJcbiAgICBtZXNoRm9sZGVyLmFkZChDb25maWcubWVzaCwgJ2VuYWJsZUhlbHBlcicsIHRydWUpLm5hbWUoJ0VuYWJsZSBIZWxwZXJzJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIGlmKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5tZXNoSGVscGVyLmVuYWJsZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMubWVzaEhlbHBlci5kaXNhYmxlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgbWVzaEZvbGRlci5hZGQoQ29uZmlnLm1lc2gsICd0cmFuc2x1Y2VudCcsIHRydWUpLm5hbWUoJ1RyYW5zbHVjZW50Jykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIGlmKHZhbHVlKSB7XHJcbiAgICAgICAgbWVzaC5tYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7XHJcbiAgICAgICAgbWVzaC5tYXRlcmlhbC5vcGFjaXR5ID0gMC41O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1lc2gubWF0ZXJpYWwub3BhY2l0eSA9IDEuMDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBtZXNoRm9sZGVyLmFkZChDb25maWcubWVzaCwgJ3dpcmVmcmFtZScsIHRydWUpLm5hbWUoJ1dpcmVmcmFtZScpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICBtZXNoLm1hdGVyaWFsLndpcmVmcmFtZSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qIExpZ2h0cyAqL1xyXG4gICAgLy8gQW1iaWVudCBMaWdodFxyXG4gICAgY29uc3QgYW1iaWVudExpZ2h0Rm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdBbWJpZW50IExpZ2h0Jyk7XHJcbiAgICBhbWJpZW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5hbWJpZW50TGlnaHQsICdlbmFibGVkJykubmFtZSgnRW5hYmxlZCcpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmxpZ2h0LmFtYmllbnRMaWdodC52aXNpYmxlID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGFtYmllbnRMaWdodEZvbGRlci5hZGRDb2xvcihDb25maWcuYW1iaWVudExpZ2h0LCAnY29sb3InKS5uYW1lKCdDb2xvcicpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmxpZ2h0LmFtYmllbnRMaWdodC5jb2xvci5zZXRIZXgodmFsdWUpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIERpcmVjdGlvbmFsIExpZ2h0XHJcbiAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdEaXJlY3Rpb25hbCBMaWdodCcpO1xyXG4gICAgZGlyZWN0aW9uYWxMaWdodEZvbGRlci5hZGQoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQsICdlbmFibGVkJykubmFtZSgnRW5hYmxlZCcpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQudmlzaWJsZSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyLmFkZENvbG9yKENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LCAnY29sb3InKS5uYW1lKCdDb2xvcicpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuY29sb3Iuc2V0SGV4KHZhbHVlKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodEludGVuc2l0eUd1aSA9IGRpcmVjdGlvbmFsTGlnaHRGb2xkZXIuYWRkKENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LCAnaW50ZW5zaXR5JywgMCwgMikubmFtZSgnSW50ZW5zaXR5Jyk7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0SW50ZW5zaXR5R3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LmludGVuc2l0eSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0SW50ZW5zaXR5R3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0UG9zaXRpb25YR3VpID0gZGlyZWN0aW9uYWxMaWdodEZvbGRlci5hZGQoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQsICd4JywgLTEwMDAsIDEwMDApLm5hbWUoJ1Bvc2l0aW9uIFgnKTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblhHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24ueCA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0UG9zaXRpb25YR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0UG9zaXRpb25ZR3VpID0gZGlyZWN0aW9uYWxMaWdodEZvbGRlci5hZGQoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQsICd5JywgLTEwMDAsIDEwMDApLm5hbWUoJ1Bvc2l0aW9uIFknKTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvbllHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24ueSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0UG9zaXRpb25ZR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0UG9zaXRpb25aR3VpID0gZGlyZWN0aW9uYWxMaWdodEZvbGRlci5hZGQoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQsICd6JywgLTEwMDAsIDEwMDApLm5hbWUoJ1Bvc2l0aW9uIFonKTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblpHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24ueiA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0UG9zaXRpb25aR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2hhZG93IE1hcFxyXG4gICAgY29uc3Qgc2hhZG93Rm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdTaGFkb3cgTWFwJyk7XHJcbiAgICBzaGFkb3dGb2xkZXIuYWRkKENvbmZpZy5zaGFkb3csICdlbmFibGVkJykubmFtZSgnRW5hYmxlZCcpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuY2FzdFNoYWRvdyA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBzaGFkb3dGb2xkZXIuYWRkKENvbmZpZy5zaGFkb3csICdoZWxwZXJFbmFibGVkJykubmFtZSgnSGVscGVyIEVuYWJsZWQnKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0SGVscGVyLnZpc2libGUgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2hhZG93TmVhckd1aSA9IHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ25lYXInLCAwLCA0MDApLm5hbWUoJ05lYXInKTtcclxuICAgIHNoYWRvd05lYXJHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5uZWFyID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHNoYWRvd05lYXJHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwLmRpc3Bvc2UoKTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAgPSBudWxsO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudXBkYXRlKCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHNoYWRvd0Zhckd1aSA9IHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2ZhcicsIDAsIDEyMDApLm5hbWUoJ0ZhcicpO1xyXG4gICAgc2hhZG93RmFyR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHNoYWRvd0Zhckd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAuZGlzcG9zZSgpO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodEhlbHBlci51cGRhdGUoKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2hhZG93VG9wR3VpID0gc2hhZG93Rm9sZGVyLmFkZChDb25maWcuc2hhZG93LCAndG9wJywgLTQwMCwgNDAwKS5uYW1lKCdUb3AnKTtcclxuICAgIHNoYWRvd1RvcEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLnRvcCA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBzaGFkb3dUb3BHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwLmRpc3Bvc2UoKTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAgPSBudWxsO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudXBkYXRlKCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHNoYWRvd1JpZ2h0R3VpID0gc2hhZG93Rm9sZGVyLmFkZChDb25maWcuc2hhZG93LCAncmlnaHQnLCAtNDAwLCA0MDApLm5hbWUoJ1JpZ2h0Jyk7XHJcbiAgICBzaGFkb3dSaWdodEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLnJpZ2h0ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHNoYWRvd1JpZ2h0R3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcC5kaXNwb3NlKCk7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwID0gbnVsbDtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0SGVscGVyLnVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzaGFkb3dCb3R0b21HdWkgPSBzaGFkb3dGb2xkZXIuYWRkKENvbmZpZy5zaGFkb3csICdib3R0b20nLCAtNDAwLCA0MDApLm5hbWUoJ0JvdHRvbScpO1xyXG4gICAgc2hhZG93Qm90dG9tR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEuYm90dG9tID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHNoYWRvd0JvdHRvbUd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAuZGlzcG9zZSgpO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodEhlbHBlci51cGRhdGUoKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2hhZG93TGVmdEd1aSA9IHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2xlZnQnLCAtNDAwLCA0MDApLm5hbWUoJ0xlZnQnKTtcclxuICAgIHNoYWRvd0xlZnRHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHNoYWRvd0xlZnRHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwLmRpc3Bvc2UoKTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAgPSBudWxsO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudXBkYXRlKCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHNoYWRvd0JpYXNHdWkgPSBzaGFkb3dGb2xkZXIuYWRkKENvbmZpZy5zaGFkb3csICdiaWFzJywgLTAuMDAwMDEwLCAxKS5uYW1lKCdCaWFzJyk7XHJcbiAgICBzaGFkb3dCaWFzR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5iaWFzID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHNoYWRvd0JpYXNHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwLmRpc3Bvc2UoKTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAgPSBudWxsO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudXBkYXRlKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gUG9pbnQgTGlnaHRcclxuICAgIGNvbnN0IHBvaW50TGlnaHRGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ1BvaW50IExpZ2h0Jyk7XHJcbiAgICBwb2ludExpZ2h0Rm9sZGVyLmFkZChDb25maWcucG9pbnRMaWdodCwgJ2VuYWJsZWQnKS5uYW1lKCdFbmFibGVkJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMubGlnaHQucG9pbnRMaWdodC52aXNpYmxlID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHBvaW50TGlnaHRGb2xkZXIuYWRkQ29sb3IoQ29uZmlnLnBvaW50TGlnaHQsICdjb2xvcicpLm5hbWUoJ0NvbG9yJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMubGlnaHQucG9pbnRMaWdodC5jb2xvci5zZXRIZXgodmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBwb2ludExpZ2h0SW50ZW5zaXR5R3VpID0gcG9pbnRMaWdodEZvbGRlci5hZGQoQ29uZmlnLnBvaW50TGlnaHQsICdpbnRlbnNpdHknLCAwLCAyKS5uYW1lKCdJbnRlbnNpdHknKTtcclxuICAgIHBvaW50TGlnaHRJbnRlbnNpdHlHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LnBvaW50TGlnaHQuaW50ZW5zaXR5ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHBvaW50TGlnaHRJbnRlbnNpdHlHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHBvaW50TGlnaHREaXN0YW5jZUd1aSA9IHBvaW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5wb2ludExpZ2h0LCAnZGlzdGFuY2UnLCAwLCAxMDAwKS5uYW1lKCdEaXN0YW5jZScpO1xyXG4gICAgcG9pbnRMaWdodERpc3RhbmNlR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5wb2ludExpZ2h0LmRpc3RhbmNlID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHBvaW50TGlnaHREaXN0YW5jZUd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgcG9pbnRMaWdodFBvc2l0aW9uWEd1aSA9IHBvaW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5wb2ludExpZ2h0LCAneCcsIC0xMDAwLCAxMDAwKS5uYW1lKCdQb3NpdGlvbiBYJyk7XHJcbiAgICBwb2ludExpZ2h0UG9zaXRpb25YR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5wb2ludExpZ2h0LnBvc2l0aW9uLnggPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcG9pbnRMaWdodFBvc2l0aW9uWEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgcG9pbnRMaWdodFBvc2l0aW9uWUd1aSA9IHBvaW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5wb2ludExpZ2h0LCAneScsIC0xMDAwLCAxMDAwKS5uYW1lKCdQb3NpdGlvbiBZJyk7XHJcbiAgICBwb2ludExpZ2h0UG9zaXRpb25ZR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5wb2ludExpZ2h0LnBvc2l0aW9uLnkgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcG9pbnRMaWdodFBvc2l0aW9uWUd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgcG9pbnRMaWdodFBvc2l0aW9uWkd1aSA9IHBvaW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5wb2ludExpZ2h0LCAneicsIC0xMDAwLCAxMDAwKS5uYW1lKCdQb3NpdGlvbiBaJyk7XHJcbiAgICBwb2ludExpZ2h0UG9zaXRpb25aR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5wb2ludExpZ2h0LnBvc2l0aW9uLnogPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcG9pbnRMaWdodFBvc2l0aW9uWkd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyBIZW1pIExpZ2h0XHJcbiAgICBjb25zdCBoZW1pTGlnaHRGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ0hlbWkgTGlnaHQnKTtcclxuICAgIGhlbWlMaWdodEZvbGRlci5hZGQoQ29uZmlnLmhlbWlMaWdodCwgJ2VuYWJsZWQnKS5uYW1lKCdFbmFibGVkJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMubGlnaHQuaGVtaUxpZ2h0LnZpc2libGUgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgaGVtaUxpZ2h0Rm9sZGVyLmFkZENvbG9yKENvbmZpZy5oZW1pTGlnaHQsICdjb2xvcicpLm5hbWUoJ0NvbG9yJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMubGlnaHQuaGVtaUxpZ2h0LmNvbG9yLnNldEhleCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuICAgIGhlbWlMaWdodEZvbGRlci5hZGRDb2xvcihDb25maWcuaGVtaUxpZ2h0LCAnZ3JvdW5kQ29sb3InKS5uYW1lKCdncm91bmQgQ29sb3InKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5saWdodC5oZW1pTGlnaHQuZ3JvdW5kQ29sb3Iuc2V0SGV4KHZhbHVlKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgaGVtaUxpZ2h0SW50ZW5zaXR5R3VpID0gaGVtaUxpZ2h0Rm9sZGVyLmFkZChDb25maWcuaGVtaUxpZ2h0LCAnaW50ZW5zaXR5JywgMCwgMikubmFtZSgnSW50ZW5zaXR5Jyk7XHJcbiAgICBoZW1pTGlnaHRJbnRlbnNpdHlHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmhlbWlMaWdodC5pbnRlbnNpdHkgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgaGVtaUxpZ2h0SW50ZW5zaXR5R3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBoZW1pTGlnaHRQb3NpdGlvblhHdWkgPSBoZW1pTGlnaHRGb2xkZXIuYWRkKENvbmZpZy5oZW1pTGlnaHQsICd4JywgLTEwMDAsIDEwMDApLm5hbWUoJ1Bvc2l0aW9uIFgnKTtcclxuICAgIGhlbWlMaWdodFBvc2l0aW9uWEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQuaGVtaUxpZ2h0LnBvc2l0aW9uLnggPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgaGVtaUxpZ2h0UG9zaXRpb25YR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBoZW1pTGlnaHRQb3NpdGlvbllHdWkgPSBoZW1pTGlnaHRGb2xkZXIuYWRkKENvbmZpZy5oZW1pTGlnaHQsICd5JywgLTUwMCwgMTAwMCkubmFtZSgnUG9zaXRpb24gWScpO1xyXG4gICAgaGVtaUxpZ2h0UG9zaXRpb25ZR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5oZW1pTGlnaHQucG9zaXRpb24ueSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBoZW1pTGlnaHRQb3NpdGlvbllHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGhlbWlMaWdodFBvc2l0aW9uWkd1aSA9IGhlbWlMaWdodEZvbGRlci5hZGQoQ29uZmlnLmhlbWlMaWdodCwgJ3onLCAtMTAwMCwgMTAwMCkubmFtZSgnUG9zaXRpb24gWicpO1xyXG4gICAgaGVtaUxpZ2h0UG9zaXRpb25aR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5oZW1pTGlnaHQucG9zaXRpb24ueiA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBoZW1pTGlnaHRQb3NpdGlvblpHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVubG9hZCgpIHtcclxuICAgIHRoaXMuZ3VpLmRlc3Ryb3koKTtcclxuICAgIHRoaXMuZ3VpID0gbmV3IGRhdC5HVUkoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IEtleWJvYXJkIGZyb20gJy4uLy4uL3V0aWxzL2tleWJvYXJkJztcclxuaW1wb3J0IEhlbHBlcnMgZnJvbSAnLi4vLi4vdXRpbHMvaGVscGVycyc7XHJcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xyXG5cclxuLy8gTWFuYWdlcyBhbGwgaW5wdXQgaW50ZXJhY3Rpb25zXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgc2NlbmUsIGNhbWVyYSwgY29udHJvbHMpIHtcclxuICAgIC8vIFByb3BlcnRpZXNcclxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgdGhpcy5jb250cm9scyA9IGNvbnRyb2xzO1xyXG5cclxuICAgIHRoaXMudGltZW91dCA9IG51bGw7XHJcblxyXG4gICAgLy8gSW5zdGFudGlhdGUga2V5Ym9hcmQgaGVscGVyXHJcbiAgICB0aGlzLmtleWJvYXJkID0gbmV3IEtleWJvYXJkKCk7XHJcblxyXG4gICAgLy8gTGlzdGVuZXJzXHJcbiAgICAvLyBNb3VzZSBldmVudHNcclxuICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZXZlbnQpID0+IEhlbHBlcnMudGhyb3R0bGUodGhpcy5vbk1vdXNlTW92ZShldmVudCksIDI1MCksIGZhbHNlKTtcclxuICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGV2ZW50KSA9PiB0aGlzLm9uTW91c2VMZWF2ZShldmVudCksIGZhbHNlKTtcclxuICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZXZlbnQpID0+IHRoaXMub25Nb3VzZU92ZXIoZXZlbnQpLCBmYWxzZSk7XHJcblxyXG4gICAgLy8gS2V5Ym9hcmQgZXZlbnRzXHJcbiAgICB0aGlzLmtleWJvYXJkLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xyXG4gICAgICAvLyBPbmx5IG9uY2VcclxuICAgICAgaWYoZXZlbnQucmVwZWF0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZih0aGlzLmtleWJvYXJkLmV2ZW50TWF0Y2hlcyhldmVudCwgJ2VzY2FwZScpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VzY2FwZSBwcmVzc2VkJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU92ZXIoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgQ29uZmlnLmlzTW91c2VPdmVyID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VMZWF2ZShldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBDb25maWcuaXNNb3VzZU92ZXIgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VNb3ZlKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xyXG5cclxuICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIENvbmZpZy5pc01vdXNlTW92aW5nID0gZmFsc2U7XHJcbiAgICB9LCAyMDApO1xyXG5cclxuICAgIENvbmZpZy5pc01vdXNlTW92aW5nID0gdHJ1ZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuaW1wb3J0IE1hdGVyaWFsIGZyb20gJy4uL2NvbXBvbmVudHMvbWF0ZXJpYWwnO1xyXG5pbXBvcnQgSGVscGVycyBmcm9tICcuLi8uLi91dGlscy9oZWxwZXJzJztcclxuaW1wb3J0IHsgQnVmZmVyR2VvbWV0cnlVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL2J1ZmZlckdlb21ldHJ5VXRpbHMnO1xyXG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAnLi4vbG9hZGVycy9HTFRGTG9hZGVyJztcclxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XHJcblxyXG4vLyBMb2FkcyBpbiBhIHNpbmdsZSBvYmplY3QgZnJvbSB0aGUgY29uZmlnIGZpbGVcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKHNjZW5lLCBtYW5hZ2VyLCB0ZXh0dXJlcykge1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xyXG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcclxuXHJcbiAgICB0aGlzLm9iaiA9IG51bGw7XHJcbiAgICB0aGlzLnJlZiA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBsb2FkKHR5cGUpIHtcclxuICAgIC8vIE1hbmFnZXIgaXMgcGFzc2VkIGluIHRvIGxvYWRlciB0byBkZXRlcm1pbmUgd2hlbiBsb2FkaW5nIGRvbmUgaW4gbWFpblxyXG5cclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlICdnbHRmJzpcclxuICAgICAgICAvLyBMb2FkIG1vZGVsIHdpdGggc2VsZWN0ZWQgbG9hZGVyXHJcbiAgICAgICAgbmV3IEdMVEZMb2FkZXIodGhpcy5tYW5hZ2VyKS5sb2FkKFxyXG4gICAgICAgICAgQ29uZmlnLm1vZGVsc1tDb25maWcubW9kZWwuc2VsZWN0ZWRdLnBhdGgsXHJcbiAgICAgICAgICAoZ2x0ZikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IGdsdGYuc2NlbmU7XHJcbiAgICAgICAgICAgIGxldCBtZXNoO1xyXG5cclxuICAgICAgICAgICAgaWYgKENvbmZpZy5zaGFkb3cuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgIHNjZW5lLnRyYXZlcnNlKGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmlzTWVzaCB8fCBub2RlLmlzTGlnaHQpIG5vZGUuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5pc01lc2gpIHtcclxuICAgICAgICAgICAgICAgICAgbm9kZS5tYXRlcmlhbC53aXJlZnJhbWUgPSBDb25maWcubWVzaC53aXJlZnJhbWU7XHJcbiAgICAgICAgICAgICAgICAgIG1lc2ggPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9iaiA9IG1lc2g7XHJcblxyXG4gICAgICAgICAgICBCdWZmZXJHZW9tZXRyeVV0aWxzLmNvbXB1dGVUYW5nZW50cyhtZXNoLmdlb21ldHJ5KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gICAgICAgICAgICBncm91cC5zY2FsZS5tdWx0aXBseVNjYWxhcigwLjI1KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQoIGdyb3VwICk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZiA9IGdyb3VwO1xyXG5cclxuICAgICAgICAgICAgLy8gVG8gbWFrZSBzdXJlIHRoYXQgdGhlIG1hdHJpeFdvcmxkIGlzIHVwIHRvIGRhdGUgZm9yIHRoZSBib3hoZWxwZXJzXHJcbiAgICAgICAgICAgIGdyb3VwLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO1xyXG4gICAgICAgICAgICBncm91cC5hZGQobWVzaCk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdG8gc2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQoc2NlbmUpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIEhlbHBlcnMubG9nUHJvZ3Jlc3MoKSxcclxuICAgICAgICAgIEhlbHBlcnMubG9nRXJyb3IoKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdvYmplY3QnOlxyXG4gICAgICAgIC8vIExvYWQgbW9kZWwgd2l0aCBPYmplY3RMb2FkZXJcclxuICAgICAgICBuZXcgVEhSRUUuT2JqZWN0TG9hZGVyKHRoaXMubWFuYWdlcikubG9hZChcclxuICAgICAgICAgIENvbmZpZy5tb2RlbHNbQ29uZmlnLm1vZGVsLnNlbGVjdGVkXS5wYXRoLFxyXG4gICAgICAgICAgb2JqID0+IHtcclxuICAgICAgICAgICAgb2JqLnRyYXZlcnNlKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgICBpZihjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBtYXRlcmlhbCBmb3IgbWVzaCBhbmQgc2V0IGl0cyBtYXAgdG8gdGV4dHVyZSBieSBuYW1lIGZyb20gcHJlbG9hZGVkIHRleHR1cmVzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgweGZmZmZmZikuc3RhbmRhcmQ7XHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5tYXAgPSB0aGlzLnRleHR1cmVzLlVWO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgdG8gY2FzdCBhbmQgcmVjZWl2ZSBzaGFkb3cgaWYgZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgaWYoQ29uZmlnLnNoYWRvdy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gU2V0IHByb3AgdG8gb2JqIHNvIGl0IGNhbiBiZSBhY2Nlc3NlZCBmcm9tIG91dHNpZGUgdGhlIGNsYXNzXHJcbiAgICAgICAgICAgIHRoaXMub2JqID0gb2JqO1xyXG4gICAgICAgICAgICB0aGlzLnJlZiA9IG9iajtcclxuXHJcbiAgICAgICAgICAgIG9iai5zY2FsZS5tdWx0aXBseVNjYWxhcihDb25maWcubW9kZWxzW0NvbmZpZy5tb2RlbC5zZWxlY3RlZF0uc2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChvYmopO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIEhlbHBlcnMubG9nUHJvZ3Jlc3MoKSxcclxuICAgICAgICAgIEhlbHBlcnMubG9nRXJyb3IoKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1bmxvYWQoKSB7XHJcbiAgICB0aGlzLnNjZW5lLnJlbW92ZSh0aGlzLnJlZik7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuLy8gUHJvbWlzZSBwb2x5ZmlsbCBmb3IgSUVcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJ2VzNi1wcm9taXNlJztcclxuXHJcbmltcG9ydCBIZWxwZXJzIGZyb20gJy4uLy4uL3V0aWxzL2hlbHBlcnMnO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcclxuXHJcbi8vIFRoaXMgY2xhc3MgcHJlbG9hZHMgYWxsIHRleHR1cmVzIGluIHRoZSBpbWFnZUZpbGVzIGFycmF5IGluIHRoZSBDb25maWcgdmlhIEVTNiBQcm9taXNlcy5cclxuLy8gT25jZSBhbGwgdGV4dHVyZXMgYXJlIGRvbmUgbG9hZGluZyB0aGUgbW9kZWwgaXRzZWxmIHdpbGwgYmUgbG9hZGVkIGFmdGVyIHRoZSBQcm9taXNlIC50aGVuKCkgY2FsbGJhY2suXHJcbi8vIFVzaW5nIHByb21pc2VzIHRvIHByZWxvYWQgdGV4dHVyZXMgcHJldmVudHMgaXNzdWVzIHdoZW4gYXBwbHlpbmcgdGV4dHVyZXMgdG8gbWF0ZXJpYWxzXHJcbi8vIGJlZm9yZSB0aGUgdGV4dHVyZXMgaGF2ZSBsb2FkZWQuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gUHJvcCB0aGF0IHdpbGwgY29udGFpbiBhbGwgbG9hZGVkIHRleHR1cmVzXHJcbiAgICB0aGlzLnRleHR1cmVzID0ge307XHJcbiAgfVxyXG5cclxuICBsb2FkKCkge1xyXG4gICAgY29uc3QgbG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKTtcclxuICAgIGNvbnN0IG1heEFuaXNvdHJvcHkgPSBDb25maWcubWF4QW5pc290cm9weTtcclxuICAgIGNvbnN0IGltYWdlRmlsZXMgPSBDb25maWcudGV4dHVyZS5pbWFnZUZpbGVzO1xyXG4gICAgY29uc3QgcHJvbWlzZUFycmF5ID0gW107XHJcblxyXG4gICAgbG9hZGVyLnNldFBhdGgoQ29uZmlnLnRleHR1cmUucGF0aCk7XHJcblxyXG4gICAgaW1hZ2VGaWxlcy5mb3JFYWNoKGltYWdlRmlsZSA9PiB7XHJcbiAgICAgIC8vIEFkZCBhbiBpbmRpdmlkdWFsIFByb21pc2UgZm9yIGVhY2ggaW1hZ2UgaW4gYXJyYXlcclxuICAgICAgcHJvbWlzZUFycmF5LnB1c2gobmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIC8vIEVhY2ggUHJvbWlzZSB3aWxsIGF0dGVtcHQgdG8gbG9hZCB0aGUgaW1hZ2UgZmlsZVxyXG4gICAgICAgIGxvYWRlci5sb2FkKGltYWdlRmlsZS5pbWFnZSxcclxuICAgICAgICAgIC8vIFRoaXMgZ2V0cyBjYWxsZWQgb24gbG9hZCB3aXRoIHRoZSBsb2FkZWQgdGV4dHVyZVxyXG4gICAgICAgICAgdGV4dHVyZSA9PiB7XHJcbiAgICAgICAgICAgIHRleHR1cmUuYW5pc290cm9weSA9IG1heEFuaXNvdHJvcHk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXNvbHZlIFByb21pc2Ugd2l0aCBvYmplY3Qgb2YgdGV4dHVyZSBpZiBpdCBpcyBpbnN0YW5jZSBvZiBUSFJFRS5UZXh0dXJlXHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsT0JKID0ge307XHJcbiAgICAgICAgICAgIG1vZGVsT0JKW2ltYWdlRmlsZS5uYW1lXSA9IHRleHR1cmU7XHJcbiAgICAgICAgICAgIGlmKG1vZGVsT0JKW2ltYWdlRmlsZS5uYW1lXSBpbnN0YW5jZW9mIFRIUkVFLlRleHR1cmUpXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShtb2RlbE9CSik7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgSGVscGVycy5sb2dQcm9ncmVzcygpLFxyXG4gICAgICAgICAgeGhyID0+IHJlamVjdChuZXcgRXJyb3IoeGhyICsgJ0FuIGVycm9yIG9jY3VycmVkIGxvYWRpbmcgd2hpbGUgbG9hZGluZyAnICsgaW1hZ2VGaWxlLmltYWdlKSlcclxuICAgICAgICApXHJcbiAgICAgIH0pKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgUHJvbWlzZXMgaW4gYXJyYXkgYW5kIHJldHVybiBhbm90aGVyIFByb21pc2Ugd2hlbiBhbGwgaGF2ZSByZXNvbHZlZCBvciBjb25zb2xlIGxvZyByZWFzb24gd2hlbiBhbnkgcmVqZWN0XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFycmF5KS50aGVuKHRleHR1cmVzID0+IHtcclxuICAgICAgLy8gU2V0IHRoZSB0ZXh0dXJlcyBwcm9wIG9iamVjdCB0byBoYXZlIG5hbWUgYmUgdGhlIHJlc29sdmVkIHRleHR1cmVcclxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlc1tPYmplY3Qua2V5cyh0ZXh0dXJlc1tpXSlbMF1dID0gdGV4dHVyZXNbaV1bT2JqZWN0LmtleXModGV4dHVyZXNbaV0pWzBdXTtcclxuICAgICAgfVxyXG4gICAgfSwgcmVhc29uID0+IGNvbnNvbGUubG9nKHJlYXNvbikpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgVFdFRU4gZnJvbSAnQHR3ZWVuanMvdHdlZW4uanMnO1xyXG5cclxuLy8gVGhpcyBvYmplY3QgY29udGFpbnMgdGhlIHN0YXRlIG9mIHRoZSBhcHBcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGlzRGV2OiBmYWxzZSxcclxuICBpc1Nob3dpbmdTdGF0czogdHJ1ZSxcclxuICBpc0xvYWRlZDogZmFsc2UsXHJcbiAgaXNUd2VlbmluZzogZmFsc2UsXHJcbiAgaXNSb3RhdGluZzogdHJ1ZSxcclxuICBpc01vdXNlTW92aW5nOiBmYWxzZSxcclxuICBpc01vdXNlT3ZlcjogZmFsc2UsXHJcbiAgbWF4QW5pc290cm9weTogMSxcclxuICBkcHI6IDEsXHJcbiAgZWFzaW5nOiBUV0VFTi5FYXNpbmcuUXVhZHJhdGljLkluT3V0LFxyXG4gIGR1cmF0aW9uOiA1MDAsXHJcbiAgbW9kZWw6IHtcclxuICAgIHNlbGVjdGVkOiAwLFxyXG4gICAgaW5pdGlhbFR5cGVzOiBbJ2dsdGYnLCAnb2JqZWN0J10sXHJcbiAgICB0eXBlOiAnZ2x0ZidcclxuICB9LFxyXG4gIG1vZGVsczogW1xyXG4gICAge1xyXG4gICAgICBwYXRoOiAnLi9hc3NldHMvbW9kZWxzL2R1Y2suZ2x0ZicsXHJcbiAgICAgIHNjYWxlOiAyMCxcclxuICAgICAgdHlwZTogJ2dsdGYnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBwYXRoOiAnLi9hc3NldHMvbW9kZWxzL1RlYXBvdC5qc29uJyxcclxuICAgICAgc2NhbGU6IDIwLFxyXG4gICAgICB0eXBlOiAnb2JqZWN0J1xyXG4gICAgfVxyXG4gIF0sXHJcbiAgdGV4dHVyZToge1xyXG4gICAgcGF0aDogJy4vYXNzZXRzL3RleHR1cmVzLycsXHJcbiAgICBpbWFnZUZpbGVzOiBbXHJcbiAgICAgIHsgbmFtZTogJ1VWJywgaW1hZ2U6ICdVVl9HcmlkX1NtLmpwZycgfVxyXG4gICAgXVxyXG4gIH0sXHJcbiAgbWVzaDoge1xyXG4gICAgZW5hYmxlSGVscGVyOiB0cnVlLFxyXG4gICAgd2lyZWZyYW1lOiBmYWxzZSxcclxuICAgIHRyYW5zbHVjZW50OiBmYWxzZSxcclxuICAgIG1hdGVyaWFsOiB7XHJcbiAgICAgIGNvbG9yOiAweGZmZmZmZixcclxuICAgICAgZW1pc3NpdmU6IDB4ZmZmZmZmXHJcbiAgICB9XHJcbiAgfSxcclxuICBmb2c6IHtcclxuICAgIGNvbG9yOiAweGZmZmZmZixcclxuICAgIG5lYXI6IDAuMDAwOFxyXG4gIH0sXHJcbiAgY2FtZXJhOiB7XHJcbiAgICBmb3Y6IDQwLFxyXG4gICAgbmVhcjogMixcclxuICAgIGZhcjogMTAwMCxcclxuICAgIGFzcGVjdDogMSxcclxuICAgIHBvc1g6IDAsXHJcbiAgICBwb3NZOiAzMCxcclxuICAgIHBvc1o6IDQwXHJcbiAgfSxcclxuICBjb250cm9sczoge1xyXG4gICAgYXV0b1JvdGF0ZTogZmFsc2UsXHJcbiAgICBhdXRvUm90YXRlU3BlZWQ6IC0wLjUsXHJcbiAgICByb3RhdGVTcGVlZDogMC41LFxyXG4gICAgem9vbVNwZWVkOiAwLjgsXHJcbiAgICBtaW5EaXN0YW5jZTogMjAwLFxyXG4gICAgbWF4RGlzdGFuY2U6IDYwMCxcclxuICAgIG1pblBvbGFyQW5nbGU6IE1hdGguUEkgLyA1LFxyXG4gICAgbWF4UG9sYXJBbmdsZTogTWF0aC5QSSAvIDIsXHJcbiAgICBtaW5BemltdXRoQW5nbGU6IC1JbmZpbml0eSxcclxuICAgIG1heEF6aW11dGhBbmdsZTogSW5maW5pdHksXHJcbiAgICBlbmFibGVEYW1waW5nOiB0cnVlLFxyXG4gICAgZGFtcGluZ0ZhY3RvcjogMC41LFxyXG4gICAgZW5hYmxlWm9vbTogdHJ1ZSxcclxuICAgIHRhcmdldDoge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICB6OiAwXHJcbiAgICB9XHJcbiAgfSxcclxuICBhbWJpZW50TGlnaHQ6IHtcclxuICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICBjb2xvcjogMHgxNDE0MTRcclxuICB9LFxyXG4gIGRpcmVjdGlvbmFsTGlnaHQ6IHtcclxuICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICBjb2xvcjogMHhmMGYwZjAsXHJcbiAgICBpbnRlbnNpdHk6IDAuNCxcclxuICAgIHg6IC03NSxcclxuICAgIHk6IDI4MCxcclxuICAgIHo6IDE1MFxyXG4gIH0sXHJcbiAgc2hhZG93OiB7XHJcbiAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgaGVscGVyRW5hYmxlZDogdHJ1ZSxcclxuICAgIGJpYXM6IDAsXHJcbiAgICBtYXBXaWR0aDogMjA0OCxcclxuICAgIG1hcEhlaWdodDogMjA0OCxcclxuICAgIG5lYXI6IDI1MCxcclxuICAgIGZhcjogNDAwLFxyXG4gICAgdG9wOiAxMDAsXHJcbiAgICByaWdodDogMTAwLFxyXG4gICAgYm90dG9tOiAtMTAwLFxyXG4gICAgbGVmdDogLTEwMFxyXG4gIH0sXHJcbiAgcG9pbnRMaWdodDoge1xyXG4gICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgIGNvbG9yOiAweGZmZmZmZixcclxuICAgIGludGVuc2l0eTogMC4zNCxcclxuICAgIGRpc3RhbmNlOiAxMTUsXHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICAgIHo6IDBcclxuICB9LFxyXG4gIGhlbWlMaWdodDoge1xyXG4gICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgIGNvbG9yOiAweGM4YzhjOCxcclxuICAgIGdyb3VuZENvbG9yOiAweGZmZmZmZixcclxuICAgIGludGVuc2l0eTogMC41NSxcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gICAgejogMFxyXG4gIH1cclxufTtcclxuIiwiLyoqXHJcbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBCdWZmZXJBdHRyaWJ1dGUsXHJcbiAgQnVmZmVyR2VvbWV0cnksXHJcbiAgSW50ZXJsZWF2ZWRCdWZmZXIsXHJcbiAgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUsXHJcbiAgVHJpYW5nbGVGYW5EcmF3TW9kZSxcclxuICBUcmlhbmdsZVN0cmlwRHJhd01vZGUsXHJcbiAgVHJpYW5nbGVzRHJhd01vZGUsXHJcbiAgVmVjdG9yMixcclxuICBWZWN0b3IzLFxyXG59IGZyb20gJ3RocmVlJztcclxuXHJcbnZhciBCdWZmZXJHZW9tZXRyeVV0aWxzID0ge1xyXG4gIGNvbXB1dGVUYW5nZW50czogZnVuY3Rpb24gKGdlb21ldHJ5KSB7XHJcbiAgICB2YXIgaW5kZXggPSBnZW9tZXRyeS5pbmRleDtcclxuICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcclxuXHJcbiAgICAvLyBiYXNlZCBvbiBodHRwOi8vd3d3LnRlcmF0aG9uLmNvbS9jb2RlL3RhbmdlbnQuaHRtbFxyXG4gICAgLy8gKHBlciB2ZXJ0ZXggdGFuZ2VudHMpXHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBpbmRleCA9PT0gbnVsbCB8fFxyXG4gICAgICBhdHRyaWJ1dGVzLnBvc2l0aW9uID09PSB1bmRlZmluZWQgfHxcclxuICAgICAgYXR0cmlidXRlcy5ub3JtYWwgPT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICBhdHRyaWJ1dGVzLnV2ID09PSB1bmRlZmluZWRcclxuICAgICkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAuY29tcHV0ZVRhbmdlbnRzKCkgZmFpbGVkLiBNaXNzaW5nIHJlcXVpcmVkIGF0dHJpYnV0ZXMgKGluZGV4LCBwb3NpdGlvbiwgbm9ybWFsIG9yIHV2KSdcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpbmRpY2VzID0gaW5kZXguYXJyYXk7XHJcbiAgICB2YXIgcG9zaXRpb25zID0gYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTtcclxuICAgIHZhciBub3JtYWxzID0gYXR0cmlidXRlcy5ub3JtYWwuYXJyYXk7XHJcbiAgICB2YXIgdXZzID0gYXR0cmlidXRlcy51di5hcnJheTtcclxuXHJcbiAgICB2YXIgblZlcnRpY2VzID0gcG9zaXRpb25zLmxlbmd0aCAvIDM7XHJcblxyXG4gICAgaWYgKGF0dHJpYnV0ZXMudGFuZ2VudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgndGFuZ2VudCcsIG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheSg0ICogblZlcnRpY2VzKSwgNCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0YW5nZW50cyA9IGF0dHJpYnV0ZXMudGFuZ2VudC5hcnJheTtcclxuXHJcbiAgICB2YXIgdGFuMSA9IFtdLFxyXG4gICAgICAgIHRhbjIgPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5WZXJ0aWNlczsgaSsrKSB7XHJcbiAgICAgIHRhbjFbaV0gPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICB0YW4yW2ldID0gbmV3IFZlY3RvcjMoKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdkEgPSBuZXcgVmVjdG9yMygpLFxyXG4gICAgICAgIHZCID0gbmV3IFZlY3RvcjMoKSxcclxuICAgICAgICB2QyA9IG5ldyBWZWN0b3IzKCksXHJcbiAgICAgICAgdXZBID0gbmV3IFZlY3RvcjIoKSxcclxuICAgICAgICB1dkIgPSBuZXcgVmVjdG9yMigpLFxyXG4gICAgICAgIHV2QyA9IG5ldyBWZWN0b3IyKCksXHJcbiAgICAgICAgc2RpciA9IG5ldyBWZWN0b3IzKCksXHJcbiAgICAgICAgdGRpciA9IG5ldyBWZWN0b3IzKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlVHJpYW5nbGUoYSwgYiwgYykge1xyXG4gICAgICB2QS5mcm9tQXJyYXkocG9zaXRpb25zLCBhICogMyk7XHJcbiAgICAgIHZCLmZyb21BcnJheShwb3NpdGlvbnMsIGIgKiAzKTtcclxuICAgICAgdkMuZnJvbUFycmF5KHBvc2l0aW9ucywgYyAqIDMpO1xyXG5cclxuICAgICAgdXZBLmZyb21BcnJheSh1dnMsIGEgKiAyKTtcclxuICAgICAgdXZCLmZyb21BcnJheSh1dnMsIGIgKiAyKTtcclxuICAgICAgdXZDLmZyb21BcnJheSh1dnMsIGMgKiAyKTtcclxuXHJcbiAgICAgIHZCLnN1Yih2QSk7XHJcbiAgICAgIHZDLnN1Yih2QSk7XHJcblxyXG4gICAgICB1dkIuc3ViKHV2QSk7XHJcbiAgICAgIHV2Qy5zdWIodXZBKTtcclxuXHJcbiAgICAgIHZhciByID0gMS4wIC8gKHV2Qi54ICogdXZDLnkgLSB1dkMueCAqIHV2Qi55KTtcclxuXHJcbiAgICAgIC8vIHNpbGVudGx5IGlnbm9yZSBkZWdlbmVyYXRlIHV2IHRyaWFuZ2xlcyBoYXZpbmcgY29pbmNpZGVudCBvciBjb2xpbmVhciB2ZXJ0aWNlc1xyXG5cclxuICAgICAgaWYgKCFpc0Zpbml0ZShyKSkgcmV0dXJuO1xyXG5cclxuICAgICAgc2Rpci5jb3B5KHZCKS5tdWx0aXBseVNjYWxhcih1dkMueSkuYWRkU2NhbGVkVmVjdG9yKHZDLCAtdXZCLnkpLm11bHRpcGx5U2NhbGFyKHIpO1xyXG4gICAgICB0ZGlyLmNvcHkodkMpLm11bHRpcGx5U2NhbGFyKHV2Qi54KS5hZGRTY2FsZWRWZWN0b3IodkIsIC11dkMueCkubXVsdGlwbHlTY2FsYXIocik7XHJcblxyXG4gICAgICB0YW4xW2FdLmFkZChzZGlyKTtcclxuICAgICAgdGFuMVtiXS5hZGQoc2Rpcik7XHJcbiAgICAgIHRhbjFbY10uYWRkKHNkaXIpO1xyXG5cclxuICAgICAgdGFuMlthXS5hZGQodGRpcik7XHJcbiAgICAgIHRhbjJbYl0uYWRkKHRkaXIpO1xyXG4gICAgICB0YW4yW2NdLmFkZCh0ZGlyKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZ3JvdXBzID0gZ2VvbWV0cnkuZ3JvdXBzO1xyXG5cclxuICAgIGlmIChncm91cHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGdyb3VwcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgIGNvdW50OiBpbmRpY2VzLmxlbmd0aCxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XHJcbiAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcclxuXHJcbiAgICAgIHZhciBzdGFydCA9IGdyb3VwLnN0YXJ0O1xyXG4gICAgICB2YXIgY291bnQgPSBncm91cC5jb3VudDtcclxuXHJcbiAgICAgIGZvciAodmFyIGogPSBzdGFydCwgamwgPSBzdGFydCArIGNvdW50OyBqIDwgamw7IGogKz0gMykge1xyXG4gICAgICAgIGhhbmRsZVRyaWFuZ2xlKGluZGljZXNbaiArIDBdLCBpbmRpY2VzW2ogKyAxXSwgaW5kaWNlc1tqICsgMl0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRtcCA9IG5ldyBWZWN0b3IzKCksXHJcbiAgICAgICAgdG1wMiA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICB2YXIgbiA9IG5ldyBWZWN0b3IzKCksXHJcbiAgICAgICAgbjIgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgdmFyIHcsIHQsIHRlc3Q7XHJcblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlVmVydGV4KHYpIHtcclxuICAgICAgbi5mcm9tQXJyYXkobm9ybWFscywgdiAqIDMpO1xyXG4gICAgICBuMi5jb3B5KG4pO1xyXG5cclxuICAgICAgdCA9IHRhbjFbdl07XHJcblxyXG4gICAgICAvLyBHcmFtLVNjaG1pZHQgb3J0aG9nb25hbGl6ZVxyXG5cclxuICAgICAgdG1wLmNvcHkodCk7XHJcbiAgICAgIHRtcC5zdWIobi5tdWx0aXBseVNjYWxhcihuLmRvdCh0KSkpLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIGhhbmRlZG5lc3NcclxuXHJcbiAgICAgIHRtcDIuY3Jvc3NWZWN0b3JzKG4yLCB0KTtcclxuICAgICAgdGVzdCA9IHRtcDIuZG90KHRhbjJbdl0pO1xyXG4gICAgICB3ID0gdGVzdCA8IDAuMCA/IC0xLjAgOiAxLjA7XHJcblxyXG4gICAgICB0YW5nZW50c1t2ICogNF0gPSB0bXAueDtcclxuICAgICAgdGFuZ2VudHNbdiAqIDQgKyAxXSA9IHRtcC55O1xyXG4gICAgICB0YW5nZW50c1t2ICogNCArIDJdID0gdG1wLno7XHJcbiAgICAgIHRhbmdlbnRzW3YgKiA0ICsgM10gPSB3O1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XHJcbiAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcclxuXHJcbiAgICAgIHZhciBzdGFydCA9IGdyb3VwLnN0YXJ0O1xyXG4gICAgICB2YXIgY291bnQgPSBncm91cC5jb3VudDtcclxuXHJcbiAgICAgIGZvciAodmFyIGogPSBzdGFydCwgamwgPSBzdGFydCArIGNvdW50OyBqIDwgamw7IGogKz0gMykge1xyXG4gICAgICAgIGhhbmRsZVZlcnRleChpbmRpY2VzW2ogKyAwXSk7XHJcbiAgICAgICAgaGFuZGxlVmVydGV4KGluZGljZXNbaiArIDFdKTtcclxuICAgICAgICBoYW5kbGVWZXJ0ZXgoaW5kaWNlc1tqICsgMl0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtICB7QXJyYXk8QnVmZmVyR2VvbWV0cnk+fSBnZW9tZXRyaWVzXHJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gdXNlR3JvdXBzXHJcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnl9XHJcbiAgICovXHJcbiAgbWVyZ2VCdWZmZXJHZW9tZXRyaWVzOiBmdW5jdGlvbiAoZ2VvbWV0cmllcywgdXNlR3JvdXBzKSB7XHJcbiAgICB2YXIgaXNJbmRleGVkID0gZ2VvbWV0cmllc1swXS5pbmRleCAhPT0gbnVsbDtcclxuXHJcbiAgICB2YXIgYXR0cmlidXRlc1VzZWQgPSBuZXcgU2V0KE9iamVjdC5rZXlzKGdlb21ldHJpZXNbMF0uYXR0cmlidXRlcykpO1xyXG4gICAgdmFyIG1vcnBoQXR0cmlidXRlc1VzZWQgPSBuZXcgU2V0KE9iamVjdC5rZXlzKGdlb21ldHJpZXNbMF0ubW9ycGhBdHRyaWJ1dGVzKSk7XHJcblxyXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcclxuICAgIHZhciBtb3JwaEF0dHJpYnV0ZXMgPSB7fTtcclxuXHJcbiAgICB2YXIgbW9ycGhUYXJnZXRzUmVsYXRpdmUgPSBnZW9tZXRyaWVzWzBdLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO1xyXG5cclxuICAgIHZhciBtZXJnZWRHZW9tZXRyeSA9IG5ldyBCdWZmZXJHZW9tZXRyeSgpO1xyXG5cclxuICAgIHZhciBvZmZzZXQgPSAwO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICB2YXIgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xyXG4gICAgICB2YXIgYXR0cmlidXRlc0NvdW50ID0gMDtcclxuXHJcbiAgICAgIC8vIGVuc3VyZSB0aGF0IGFsbCBnZW9tZXRyaWVzIGFyZSBpbmRleGVkLCBvciBub25lXHJcblxyXG4gICAgICBpZiAoaXNJbmRleGVkICE9PSAoZ2VvbWV0cnkuaW5kZXggIT09IG51bGwpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXHJcbiAgICAgICAgICBpICtcclxuICAgICAgICAgICcuIEFsbCBnZW9tZXRyaWVzIG11c3QgaGF2ZSBjb21wYXRpYmxlIGF0dHJpYnV0ZXM7IG1ha2Ugc3VyZSBpbmRleCBhdHRyaWJ1dGUgZXhpc3RzIGFtb25nIGFsbCBnZW9tZXRyaWVzLCBvciBpbiBub25lIG9mIHRoZW0uJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGdhdGhlciBhdHRyaWJ1dGVzLCBleGl0IGVhcmx5IGlmIHRoZXkncmUgZGlmZmVyZW50XHJcblxyXG4gICAgICBmb3IgKHZhciBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICBpZiAoIWF0dHJpYnV0ZXNVc2VkLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcclxuICAgICAgICAgICAgaSArXHJcbiAgICAgICAgICAgICcuIEFsbCBnZW9tZXRyaWVzIG11c3QgaGF2ZSBjb21wYXRpYmxlIGF0dHJpYnV0ZXM7IG1ha2Ugc3VyZSBcIicgK1xyXG4gICAgICAgICAgICBuYW1lICtcclxuICAgICAgICAgICAgJ1wiIGF0dHJpYnV0ZSBleGlzdHMgYW1vbmcgYWxsIGdlb21ldHJpZXMsIG9yIGluIG5vbmUgb2YgdGhlbS4nXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYXR0cmlidXRlc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSBhdHRyaWJ1dGVzW25hbWVdID0gW107XHJcblxyXG4gICAgICAgIGF0dHJpYnV0ZXNbbmFtZV0ucHVzaChnZW9tZXRyeS5hdHRyaWJ1dGVzW25hbWVdKTtcclxuXHJcbiAgICAgICAgYXR0cmlidXRlc0NvdW50Kys7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGVuc3VyZSBnZW9tZXRyaWVzIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGF0dHJpYnV0ZXNcclxuXHJcbiAgICAgIGlmIChhdHRyaWJ1dGVzQ291bnQgIT09IGF0dHJpYnV0ZXNVc2VkLnNpemUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcclxuICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgJy4gTWFrZSBzdXJlIGFsbCBnZW9tZXRyaWVzIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGF0dHJpYnV0ZXMuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGdhdGhlciBtb3JwaCBhdHRyaWJ1dGVzLCBleGl0IGVhcmx5IGlmIHRoZXkncmUgZGlmZmVyZW50XHJcblxyXG4gICAgICBpZiAobW9ycGhUYXJnZXRzUmVsYXRpdmUgIT09IGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXHJcbiAgICAgICAgICBpICtcclxuICAgICAgICAgICcuIC5tb3JwaFRhcmdldHNSZWxhdGl2ZSBtdXN0IGJlIGNvbnNpc3RlbnQgdGhyb3VnaG91dCBhbGwgZ2VvbWV0cmllcy4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yICh2YXIgbmFtZSBpbiBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpIHtcclxuICAgICAgICBpZiAoIW1vcnBoQXR0cmlidXRlc1VzZWQuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xyXG4gICAgICAgICAgICBpICtcclxuICAgICAgICAgICAgJy4gIC5tb3JwaEF0dHJpYnV0ZXMgbXVzdCBiZSBjb25zaXN0ZW50IHRocm91Z2hvdXQgYWxsIGdlb21ldHJpZXMuJ1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1vcnBoQXR0cmlidXRlc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0gPSBbXTtcclxuXHJcbiAgICAgICAgbW9ycGhBdHRyaWJ1dGVzW25hbWVdLnB1c2goZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZ2F0aGVyIC51c2VyRGF0YVxyXG5cclxuICAgICAgbWVyZ2VkR2VvbWV0cnkudXNlckRhdGEubWVyZ2VkVXNlckRhdGEgPSBtZXJnZWRHZW9tZXRyeS51c2VyRGF0YS5tZXJnZWRVc2VyRGF0YSB8fCBbXTtcclxuICAgICAgbWVyZ2VkR2VvbWV0cnkudXNlckRhdGEubWVyZ2VkVXNlckRhdGEucHVzaChnZW9tZXRyeS51c2VyRGF0YSk7XHJcblxyXG4gICAgICBpZiAodXNlR3JvdXBzKSB7XHJcbiAgICAgICAgdmFyIGNvdW50O1xyXG5cclxuICAgICAgICBpZiAoaXNJbmRleGVkKSB7XHJcbiAgICAgICAgICBjb3VudCA9IGdlb21ldHJ5LmluZGV4LmNvdW50O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBjb3VudCA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXHJcbiAgICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgICAnLiBUaGUgZ2VvbWV0cnkgbXVzdCBoYXZlIGVpdGhlciBhbiBpbmRleCBvciBhIHBvc2l0aW9uIGF0dHJpYnV0ZSdcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lcmdlZEdlb21ldHJ5LmFkZEdyb3VwKG9mZnNldCwgY291bnQsIGkpO1xyXG5cclxuICAgICAgICBvZmZzZXQgKz0gY291bnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBtZXJnZSBpbmRpY2VzXHJcblxyXG4gICAgaWYgKGlzSW5kZXhlZCkge1xyXG4gICAgICB2YXIgaW5kZXhPZmZzZXQgPSAwO1xyXG4gICAgICB2YXIgbWVyZ2VkSW5kZXggPSBbXTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IGdlb21ldHJpZXNbaV0uaW5kZXg7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW5kZXguY291bnQ7ICsraikge1xyXG4gICAgICAgICAgbWVyZ2VkSW5kZXgucHVzaChpbmRleC5nZXRYKGopICsgaW5kZXhPZmZzZXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5kZXhPZmZzZXQgKz0gZ2VvbWV0cmllc1tpXS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtZXJnZWRHZW9tZXRyeS5zZXRJbmRleChtZXJnZWRJbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWVyZ2UgYXR0cmlidXRlc1xyXG5cclxuICAgIGZvciAodmFyIG5hbWUgaW4gYXR0cmlidXRlcykge1xyXG4gICAgICB2YXIgbWVyZ2VkQXR0cmlidXRlID0gdGhpcy5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoYXR0cmlidXRlc1tuYW1lXSk7XHJcblxyXG4gICAgICBpZiAoIW1lcmdlZEF0dHJpYnV0ZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aGlsZSB0cnlpbmcgdG8gbWVyZ2UgdGhlICcgK1xyXG4gICAgICAgICAgbmFtZSArXHJcbiAgICAgICAgICAnIGF0dHJpYnV0ZS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgbWVyZ2VkR2VvbWV0cnkuc2V0QXR0cmlidXRlKG5hbWUsIG1lcmdlZEF0dHJpYnV0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWVyZ2UgbW9ycGggYXR0cmlidXRlc1xyXG5cclxuICAgIGZvciAodmFyIG5hbWUgaW4gbW9ycGhBdHRyaWJ1dGVzKSB7XHJcbiAgICAgIHZhciBudW1Nb3JwaFRhcmdldHMgPSBtb3JwaEF0dHJpYnV0ZXNbbmFtZV1bMF0ubGVuZ3RoO1xyXG5cclxuICAgICAgaWYgKG51bU1vcnBoVGFyZ2V0cyA9PT0gMCkgYnJlYWs7XHJcblxyXG4gICAgICBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgPSBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgfHwge307XHJcbiAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Nb3JwaFRhcmdldHM7ICsraSkge1xyXG4gICAgICAgIHZhciBtb3JwaEF0dHJpYnV0ZXNUb01lcmdlID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9ycGhBdHRyaWJ1dGVzW25hbWVdLmxlbmd0aDsgKytqKSB7XHJcbiAgICAgICAgICBtb3JwaEF0dHJpYnV0ZXNUb01lcmdlLnB1c2gobW9ycGhBdHRyaWJ1dGVzW25hbWVdW2pdW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBtZXJnZWRNb3JwaEF0dHJpYnV0ZSA9IHRoaXMubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UpO1xyXG5cclxuICAgICAgICBpZiAoIW1lcmdlZE1vcnBoQXR0cmlidXRlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aGlsZSB0cnlpbmcgdG8gbWVyZ2UgdGhlICcgK1xyXG4gICAgICAgICAgICBuYW1lICtcclxuICAgICAgICAgICAgJyBtb3JwaEF0dHJpYnV0ZS4nXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV0ucHVzaChtZXJnZWRNb3JwaEF0dHJpYnV0ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbWVyZ2VkR2VvbWV0cnk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtBcnJheTxCdWZmZXJBdHRyaWJ1dGU+fSBhdHRyaWJ1dGVzXHJcbiAgICogQHJldHVybiB7QnVmZmVyQXR0cmlidXRlfVxyXG4gICAqL1xyXG4gIG1lcmdlQnVmZmVyQXR0cmlidXRlczogZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcclxuICAgIHZhciBUeXBlZEFycmF5O1xyXG4gICAgdmFyIGl0ZW1TaXplO1xyXG4gICAgdmFyIG5vcm1hbGl6ZWQ7XHJcbiAgICB2YXIgYXJyYXlMZW5ndGggPSAwO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcclxuXHJcbiAgICAgIGlmIChhdHRyaWJ1dGUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoVHlwZWRBcnJheSA9PT0gdW5kZWZpbmVkKSBUeXBlZEFycmF5ID0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yO1xyXG4gICAgICBpZiAoVHlwZWRBcnJheSAhPT0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUuYXJyYXkgbXVzdCBiZSBvZiBjb25zaXN0ZW50IGFycmF5IHR5cGVzIGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXRlbVNpemUgPT09IHVuZGVmaW5lZCkgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XHJcbiAgICAgIGlmIChpdGVtU2l6ZSAhPT0gYXR0cmlidXRlLml0ZW1TaXplKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUuaXRlbVNpemUgbXVzdCBiZSBjb25zaXN0ZW50IGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gdW5kZWZpbmVkKSBub3JtYWxpemVkID0gYXR0cmlidXRlLm5vcm1hbGl6ZWQ7XHJcbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBhdHRyaWJ1dGUubm9ybWFsaXplZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gQnVmZmVyQXR0cmlidXRlLm5vcm1hbGl6ZWQgbXVzdCBiZSBjb25zaXN0ZW50IGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhcnJheUxlbmd0aCArPSBhdHRyaWJ1dGUuYXJyYXkubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBhcnJheSA9IG5ldyBUeXBlZEFycmF5KGFycmF5TGVuZ3RoKTtcclxuICAgIHZhciBvZmZzZXQgPSAwO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICBhcnJheS5zZXQoYXR0cmlidXRlc1tpXS5hcnJheSwgb2Zmc2V0KTtcclxuXHJcbiAgICAgIG9mZnNldCArPSBhdHRyaWJ1dGVzW2ldLmFycmF5Lmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IEJ1ZmZlckF0dHJpYnV0ZShhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyQXR0cmlidXRlPn0gYXR0cmlidXRlc1xyXG4gICAqIEByZXR1cm4ge0FycmF5PEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPn1cclxuICAgKi9cclxuICBpbnRlcmxlYXZlQXR0cmlidXRlczogZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcclxuICAgIC8vIEludGVybGVhdmVzIHRoZSBwcm92aWRlZCBhdHRyaWJ1dGVzIGludG8gYW4gSW50ZXJsZWF2ZWRCdWZmZXIgYW5kIHJldHVybnNcclxuICAgIC8vIGEgc2V0IG9mIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBmb3IgZWFjaCBhdHRyaWJ1dGVcclxuICAgIHZhciBUeXBlZEFycmF5O1xyXG4gICAgdmFyIGFycmF5TGVuZ3RoID0gMDtcclxuICAgIHZhciBzdHJpZGUgPSAwO1xyXG5cclxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgdGhlIGxlbmd0aCBhbmQgdHlwZSBvZiB0aGUgaW50ZXJsZWF2ZWRCdWZmZXJcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcclxuICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaV07XHJcblxyXG4gICAgICBpZiAoVHlwZWRBcnJheSA9PT0gdW5kZWZpbmVkKSBUeXBlZEFycmF5ID0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yO1xyXG4gICAgICBpZiAoVHlwZWRBcnJheSAhPT0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQXR0cmlidXRlQnVmZmVycyBvZiBkaWZmZXJlbnQgdHlwZXMgY2Fubm90IGJlIGludGVybGVhdmVkJyk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XHJcbiAgICAgIHN0cmlkZSArPSBhdHRyaWJ1dGUuaXRlbVNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBzZXQgb2YgYnVmZmVyIGF0dHJpYnV0ZXNcclxuICAgIHZhciBpbnRlcmxlYXZlZEJ1ZmZlciA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlcihuZXcgVHlwZWRBcnJheShhcnJheUxlbmd0aCksIHN0cmlkZSk7XHJcbiAgICB2YXIgb2Zmc2V0ID0gMDtcclxuICAgIHZhciByZXMgPSBbXTtcclxuICAgIHZhciBnZXR0ZXJzID0gWydnZXRYJywgJ2dldFknLCAnZ2V0WicsICdnZXRXJ107XHJcbiAgICB2YXIgc2V0dGVycyA9IFsnc2V0WCcsICdzZXRZJywgJ3NldFonLCAnc2V0VyddO1xyXG5cclxuICAgIGZvciAodmFyIGogPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcclxuICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XHJcbiAgICAgIHZhciBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcclxuICAgICAgdmFyIGNvdW50ID0gYXR0cmlidXRlLmNvdW50O1xyXG4gICAgICB2YXIgaWJhID0gbmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKFxyXG4gICAgICAgIGludGVybGVhdmVkQnVmZmVyLFxyXG4gICAgICAgIGl0ZW1TaXplLFxyXG4gICAgICAgIG9mZnNldCxcclxuICAgICAgICBhdHRyaWJ1dGUubm9ybWFsaXplZFxyXG4gICAgICApO1xyXG4gICAgICByZXMucHVzaChpYmEpO1xyXG5cclxuICAgICAgb2Zmc2V0ICs9IGl0ZW1TaXplO1xyXG5cclxuICAgICAgLy8gTW92ZSB0aGUgZGF0YSBmb3IgZWFjaCBhdHRyaWJ1dGUgaW50byB0aGUgbmV3IGludGVybGVhdmVkQnVmZmVyXHJcbiAgICAgIC8vIGF0IHRoZSBhcHByb3ByaWF0ZSBvZmZzZXRcclxuICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjb3VudDsgYysrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBpdGVtU2l6ZTsgaysrKSB7XHJcbiAgICAgICAgICBpYmFbc2V0dGVyc1trXV0oYywgYXR0cmlidXRlW2dldHRlcnNba11dKGMpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyR2VvbWV0cnk+fSBnZW9tZXRyeVxyXG4gICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgKi9cclxuICBlc3RpbWF0ZUJ5dGVzVXNlZDogZnVuY3Rpb24gKGdlb21ldHJ5KSB7XHJcbiAgICAvLyBSZXR1cm4gdGhlIGVzdGltYXRlZCBtZW1vcnkgdXNlZCBieSB0aGlzIGdlb21ldHJ5IGluIGJ5dGVzXHJcbiAgICAvLyBDYWxjdWxhdGUgdXNpbmcgaXRlbVNpemUsIGNvdW50LCBhbmQgQllURVNfUEVSX0VMRU1FTlQgdG8gYWNjb3VudFxyXG4gICAgLy8gZm9yIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcy5cclxuICAgIHZhciBtZW0gPSAwO1xyXG4gICAgZm9yICh2YXIgbmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgIHZhciBhdHRyID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKG5hbWUpO1xyXG4gICAgICBtZW0gKz0gYXR0ci5jb3VudCAqIGF0dHIuaXRlbVNpemUgKiBhdHRyLmFycmF5LkJZVEVTX1BFUl9FTEVNRU5UO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpbmRpY2VzID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcclxuICAgIG1lbSArPSBpbmRpY2VzID8gaW5kaWNlcy5jb3VudCAqIGluZGljZXMuaXRlbVNpemUgKiBpbmRpY2VzLmFycmF5LkJZVEVTX1BFUl9FTEVNRU5UIDogMDtcclxuICAgIHJldHVybiBtZW07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlXHJcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnk+fVxyXG4gICAqL1xyXG4gIG1lcmdlVmVydGljZXM6IGZ1bmN0aW9uIChnZW9tZXRyeSwgdG9sZXJhbmNlID0gMWUtNCkge1xyXG4gICAgdG9sZXJhbmNlID0gTWF0aC5tYXgodG9sZXJhbmNlLCBOdW1iZXIuRVBTSUxPTik7XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgYW4gaW5kZXggYnVmZmVyIGlmIHRoZSBnZW9tZXRyeSBkb2Vzbid0IGhhdmUgb25lLCBvciBvcHRpbWl6ZSBpdFxyXG4gICAgLy8gaWYgaXQncyBhbHJlYWR5IGF2YWlsYWJsZS5cclxuICAgIHZhciBoYXNoVG9JbmRleCA9IHt9O1xyXG4gICAgdmFyIGluZGljZXMgPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xyXG4gICAgdmFyIHBvc2l0aW9ucyA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtcclxuICAgIHZhciB2ZXJ0ZXhDb3VudCA9IGluZGljZXMgPyBpbmRpY2VzLmNvdW50IDogcG9zaXRpb25zLmNvdW50O1xyXG5cclxuICAgIC8vIG5leHQgdmFsdWUgZm9yIHRyaWFuZ2xlIGluZGljZXNcclxuICAgIHZhciBuZXh0SW5kZXggPSAwO1xyXG5cclxuICAgIC8vIGF0dHJpYnV0ZXMgYW5kIG5ldyBhdHRyaWJ1dGUgYXJyYXlzXHJcbiAgICB2YXIgYXR0cmlidXRlTmFtZXMgPSBPYmplY3Qua2V5cyhnZW9tZXRyeS5hdHRyaWJ1dGVzKTtcclxuICAgIHZhciBhdHRyQXJyYXlzID0ge307XHJcbiAgICB2YXIgbW9ycGhBdHRyc0FycmF5cyA9IHt9O1xyXG4gICAgdmFyIG5ld0luZGljZXMgPSBbXTtcclxuICAgIHZhciBnZXR0ZXJzID0gWydnZXRYJywgJ2dldFknLCAnZ2V0WicsICdnZXRXJ107XHJcblxyXG4gICAgLy8gaW5pdGlhbGl6ZSB0aGUgYXJyYXlzXHJcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xyXG5cclxuICAgICAgYXR0ckFycmF5c1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgdmFyIG1vcnBoQXR0ciA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXTtcclxuICAgICAgaWYgKG1vcnBoQXR0cikge1xyXG4gICAgICAgIG1vcnBoQXR0cnNBcnJheXNbbmFtZV0gPSBuZXcgQXJyYXkobW9ycGhBdHRyLmxlbmd0aCkuZmlsbCgpLm1hcCgoKSA9PiBbXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb252ZXJ0IHRoZSBlcnJvciB0b2xlcmFuY2UgdG8gYW4gYW1vdW50IG9mIGRlY2ltYWwgcGxhY2VzIHRvIHRydW5jYXRlIHRvXHJcbiAgICB2YXIgZGVjaW1hbFNoaWZ0ID0gTWF0aC5sb2cxMCgxIC8gdG9sZXJhbmNlKTtcclxuICAgIHZhciBzaGlmdE11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgZGVjaW1hbFNoaWZ0KTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4Q291bnQ7IGkrKykge1xyXG4gICAgICB2YXIgaW5kZXggPSBpbmRpY2VzID8gaW5kaWNlcy5nZXRYKGkpIDogaTtcclxuXHJcbiAgICAgIC8vIEdlbmVyYXRlIGEgaGFzaCBmb3IgdGhlIHZlcnRleCBhdHRyaWJ1dGVzIGF0IHRoZSBjdXJyZW50IGluZGV4ICdpJ1xyXG4gICAgICB2YXIgaGFzaCA9ICcnO1xyXG4gICAgICBmb3IgKHZhciBqID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xyXG4gICAgICAgIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZXNbal07XHJcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgICB2YXIgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgaXRlbVNpemU7IGsrKykge1xyXG4gICAgICAgICAgLy8gZG91YmxlIHRpbGRlIHRydW5jYXRlcyB0aGUgZGVjaW1hbCB2YWx1ZVxyXG4gICAgICAgICAgaGFzaCArPSBgJHt+fihhdHRyaWJ1dGVbZ2V0dGVyc1trXV0oaW5kZXgpICogc2hpZnRNdWx0aXBsaWVyKX0sYDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFkZCBhbm90aGVyIHJlZmVyZW5jZSB0byB0aGUgdmVydGV4IGlmIGl0J3MgYWxyZWFkeVxyXG4gICAgICAvLyB1c2VkIGJ5IGFub3RoZXIgaW5kZXhcclxuICAgICAgaWYgKGhhc2ggaW4gaGFzaFRvSW5kZXgpIHtcclxuICAgICAgICBuZXdJbmRpY2VzLnB1c2goaGFzaFRvSW5kZXhbaGFzaF0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvcHkgZGF0YSB0byB0aGUgbmV3IGluZGV4IGluIHRoZSBhdHRyaWJ1dGUgYXJyYXlzXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcclxuICAgICAgICAgIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZXNbal07XHJcbiAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKG5hbWUpO1xyXG4gICAgICAgICAgdmFyIG1vcnBoQXR0ciA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXTtcclxuICAgICAgICAgIHZhciBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcclxuICAgICAgICAgIHZhciBuZXdhcnJheSA9IGF0dHJBcnJheXNbbmFtZV07XHJcbiAgICAgICAgICB2YXIgbmV3TW9ycGhBcnJheXMgPSBtb3JwaEF0dHJzQXJyYXlzW25hbWVdO1xyXG5cclxuICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgaXRlbVNpemU7IGsrKykge1xyXG4gICAgICAgICAgICB2YXIgZ2V0dGVyRnVuYyA9IGdldHRlcnNba107XHJcbiAgICAgICAgICAgIG5ld2FycmF5LnB1c2goYXR0cmlidXRlW2dldHRlckZ1bmNdKGluZGV4KSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobW9ycGhBdHRyKSB7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgbSA9IDAsIG1sID0gbW9ycGhBdHRyLmxlbmd0aDsgbSA8IG1sOyBtKyspIHtcclxuICAgICAgICAgICAgICAgIG5ld01vcnBoQXJyYXlzW21dLnB1c2gobW9ycGhBdHRyW21dW2dldHRlckZ1bmNdKGluZGV4KSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBoYXNoVG9JbmRleFtoYXNoXSA9IG5leHRJbmRleDtcclxuICAgICAgICBuZXdJbmRpY2VzLnB1c2gobmV4dEluZGV4KTtcclxuICAgICAgICBuZXh0SW5kZXgrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYXRlIHR5cGVkIGFycmF5cyBmcm9tIG5ldyBhdHRyaWJ1dGUgYXJyYXlzIGFuZCB1cGRhdGVcclxuICAgIC8vIHRoZSBhdHRyaWJ1dGVCdWZmZXJzXHJcbiAgICBjb25zdCByZXN1bHQgPSBnZW9tZXRyeS5jbG9uZSgpO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1tpXTtcclxuICAgICAgdmFyIG9sZEF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcclxuXHJcbiAgICAgIHZhciBidWZmZXIgPSBuZXcgb2xkQXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKGF0dHJBcnJheXNbbmFtZV0pO1xyXG4gICAgICB2YXIgYXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShidWZmZXIsIG9sZEF0dHJpYnV0ZS5pdGVtU2l6ZSwgb2xkQXR0cmlidXRlLm5vcm1hbGl6ZWQpO1xyXG5cclxuICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZShuYW1lLCBhdHRyaWJ1dGUpO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSBhdHRyaWJ1dGUgYXJyYXlzXHJcbiAgICAgIGlmIChuYW1lIGluIG1vcnBoQXR0cnNBcnJheXMpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1vcnBoQXR0cnNBcnJheXNbbmFtZV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgIHZhciBvbGRNb3JwaEF0dHJpYnV0ZSA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXVtqXTtcclxuXHJcbiAgICAgICAgICB2YXIgYnVmZmVyID0gbmV3IG9sZE1vcnBoQXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKG1vcnBoQXR0cnNBcnJheXNbbmFtZV1bal0pO1xyXG4gICAgICAgICAgdmFyIG1vcnBoQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShcclxuICAgICAgICAgICAgYnVmZmVyLFxyXG4gICAgICAgICAgICBvbGRNb3JwaEF0dHJpYnV0ZS5pdGVtU2l6ZSxcclxuICAgICAgICAgICAgb2xkTW9ycGhBdHRyaWJ1dGUubm9ybWFsaXplZFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJlc3VsdC5tb3JwaEF0dHJpYnV0ZXNbbmFtZV1bal0gPSBtb3JwaEF0dHJpYnV0ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBpbmRpY2VzXHJcblxyXG4gICAgcmVzdWx0LnNldEluZGV4KG5ld0luZGljZXMpO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcclxuICAgKiBAcGFyYW0ge251bWJlcn0gZHJhd01vZGVcclxuICAgKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeT59XHJcbiAgICovXHJcbiAgdG9UcmlhbmdsZXNEcmF3TW9kZTogZnVuY3Rpb24gKGdlb21ldHJ5LCBkcmF3TW9kZSkge1xyXG4gICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZXNEcmF3TW9kZSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBHZW9tZXRyeSBhbHJlYWR5IGRlZmluZWQgYXMgdHJpYW5nbGVzLidcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIGdlb21ldHJ5O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSB8fCBkcmF3TW9kZSA9PT0gVHJpYW5nbGVTdHJpcERyYXdNb2RlKSB7XHJcbiAgICAgIHZhciBpbmRleCA9IGdlb21ldHJ5LmdldEluZGV4KCk7XHJcblxyXG4gICAgICAvLyBnZW5lcmF0ZSBpbmRleCBpZiBub3QgcHJlc2VudFxyXG5cclxuICAgICAgaWYgKGluZGV4ID09PSBudWxsKSB7XHJcbiAgICAgICAgdmFyIGluZGljZXMgPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO1xyXG5cclxuICAgICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3NpdGlvbi5jb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGluZGljZXMucHVzaChpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBnZW9tZXRyeS5zZXRJbmRleChpbmRpY2VzKTtcclxuICAgICAgICAgIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmRlZmluZWQgcG9zaXRpb24gYXR0cmlidXRlLiBQcm9jZXNzaW5nIG5vdCBwb3NzaWJsZS4nXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy9cclxuXHJcbiAgICAgIHZhciBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcclxuICAgICAgdmFyIG5ld0luZGljZXMgPSBbXTtcclxuXHJcbiAgICAgIGlmIChkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSkge1xyXG4gICAgICAgIC8vIGdsLlRSSUFOR0xFX0ZBTlxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBudW1iZXJPZlRyaWFuZ2xlczsgaSsrKSB7XHJcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WCgwKSk7XHJcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XHJcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBnbC5UUklBTkdMRV9TVFJJUFxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mVHJpYW5nbGVzOyBpKyspIHtcclxuICAgICAgICAgIGlmIChpICUgMiA9PT0gMCkge1xyXG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMikpO1xyXG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xyXG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobmV3SW5kaWNlcy5sZW5ndGggLyAzICE9PSBudW1iZXJPZlRyaWFuZ2xlcykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuYWJsZSB0byBnZW5lcmF0ZSBjb3JyZWN0IGFtb3VudCBvZiB0cmlhbmdsZXMuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGJ1aWxkIGZpbmFsIGdlb21ldHJ5XHJcblxyXG4gICAgICB2YXIgbmV3R2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpO1xyXG4gICAgICBuZXdHZW9tZXRyeS5zZXRJbmRleChuZXdJbmRpY2VzKTtcclxuICAgICAgbmV3R2VvbWV0cnkuY2xlYXJHcm91cHMoKTtcclxuXHJcbiAgICAgIHJldHVybiBuZXdHZW9tZXRyeTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5rbm93biBkcmF3IG1vZGU6JywgZHJhd01vZGUpO1xyXG4gICAgcmV0dXJuIGdlb21ldHJ5O1xyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgeyBCdWZmZXJHZW9tZXRyeVV0aWxzIH07XHJcbiIsIi8qKlxyXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xyXG4gKiBAYXV0aG9yIG1yLmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cclxuICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY2FudmFzOiAhIXdpbmRvdy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgd2ViZ2w6IChmdW5jdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuXHJcbiAgICAgIHJldHVybiAhISh3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ICYmIChjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJykpKTtcclxuICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkoKSxcclxuXHJcbiAgd29ya2VyczogISF3aW5kb3cuV29ya2VyLFxyXG4gIGZpbGVhcGk6IHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYixcclxuXHJcbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGVsZW1lbnQuaWQgPSAnd2ViZ2wtZXJyb3ItbWVzc2FnZSc7XHJcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcclxuICAgIGVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSAnMTNweCc7XHJcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRXZWlnaHQgPSAnbm9ybWFsJztcclxuICAgIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSAnI2ZmZic7XHJcbiAgICBlbGVtZW50LnN0eWxlLmNvbG9yID0gJyMwMDAnO1xyXG4gICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzEuNWVtJztcclxuICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSAnNDAwcHgnO1xyXG4gICAgZWxlbWVudC5zdHlsZS5tYXJnaW4gPSAnNWVtIGF1dG8gMCc7XHJcblxyXG4gICAgaWYoIXRoaXMud2ViZ2wpIHtcclxuICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ID8gW1xyXG4gICAgICAgICdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyIC8+JyxcclxuICAgICAgICAnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwMDAwXCI+aGVyZTwvYT4uJ1xyXG4gICAgICBdLmpvaW4oJ1xcbicpIDogW1xyXG4gICAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyLz4nLFxyXG4gICAgICAgICdGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5oZXJlPC9hPi4nXHJcbiAgICAgIF0uam9pbignXFxuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfSxcclxuXHJcbiAgYWRkR2V0V2ViR0xNZXNzYWdlOiBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XHJcbiAgICB2YXIgcGFyZW50LCBpZCwgZWxlbWVudDtcclxuXHJcbiAgICBwYXJhbWV0ZXJzID0gcGFyYW1ldGVycyB8fCB7fTtcclxuXHJcbiAgICBwYXJlbnQgPSBwYXJhbWV0ZXJzLnBhcmVudCAhPT0gdW5kZWZpbmVkID8gcGFyYW1ldGVycy5wYXJlbnQgOiBkb2N1bWVudC5ib2R5O1xyXG4gICAgaWQgPSBwYXJhbWV0ZXJzLmlkICE9PSB1bmRlZmluZWQgPyBwYXJhbWV0ZXJzLmlkIDogJ29sZGllJztcclxuXHJcbiAgICBlbGVtZW50ID0gdGhpcy5nZXRXZWJHTEVycm9yTWVzc2FnZSgpO1xyXG4gICAgZWxlbWVudC5pZCA9IGlkO1xyXG5cclxuICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICB9XHJcbn07XHJcbiIsIi8vIFByb3ZpZGVzIHNpbXBsZSBzdGF0aWMgZnVuY3Rpb25zIHRoYXQgYXJlIHVzZWQgbXVsdGlwbGUgdGltZXMgaW4gdGhlIGFwcFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWxwZXJzIHtcclxuICBzdGF0aWMgdGhyb3R0bGUoZm4sIHRocmVzaGhvbGQsIHNjb3BlKSB7XHJcbiAgICB0aHJlc2hob2xkIHx8ICh0aHJlc2hob2xkID0gMjUwKTtcclxuICAgIGxldCBsYXN0LCBkZWZlclRpbWVyO1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgY29uc3QgY29udGV4dCA9IHNjb3BlIHx8IHRoaXM7XHJcblxyXG4gICAgICBjb25zdCBub3cgID0gK25ldyBEYXRlLFxyXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICBpZihsYXN0ICYmIG5vdyA8IGxhc3QgKyB0aHJlc2hob2xkKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGRlZmVyVGltZXIpO1xyXG4gICAgICAgIGRlZmVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgbGFzdCA9IG5vdztcclxuICAgICAgICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgICAgIH0sIHRocmVzaGhvbGQpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxhc3QgPSBub3c7XHJcbiAgICAgICAgZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgbG9nUHJvZ3Jlc3MoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oeGhyKSB7XHJcbiAgICAgIGlmKHhoci5sZW5ndGhDb21wdXRhYmxlKSB7XHJcbiAgICAgICAgY29uc3QgcGVyY2VudENvbXBsZXRlID0geGhyLmxvYWRlZCAvIHhoci50b3RhbCAqIDEwMDtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coTWF0aC5yb3VuZChwZXJjZW50Q29tcGxldGUsIDIpICsgJyUgZG93bmxvYWRlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgbG9nRXJyb3IoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oeGhyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoeGhyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBoYW5kbGVDb2xvckNoYW5nZShjb2xvcikge1xyXG4gICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xyXG4gICAgICBpZih0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCcjJywgJzB4Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbG9yLnNldEhleCh2YWx1ZSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHVwZGF0ZShtZXNoKSB7XHJcbiAgICB0aGlzLm5lZWRzVXBkYXRlKG1lc2gubWF0ZXJpYWwsIG1lc2guZ2VvbWV0cnkpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIG5lZWRzVXBkYXRlKG1hdGVyaWFsLCBnZW9tZXRyeSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICBtYXRlcmlhbC5zaGFkaW5nID0gK21hdGVyaWFsLnNoYWRpbmc7IC8vRW5zdXJlIG51bWJlclxyXG4gICAgICBtYXRlcmlhbC52ZXJ0ZXhDb2xvcnMgPSArbWF0ZXJpYWwudmVydGV4Q29sb3JzOyAvL0Vuc3VyZSBudW1iZXJcclxuICAgICAgbWF0ZXJpYWwuc2lkZSA9ICttYXRlcmlhbC5zaWRlOyAvL0Vuc3VyZSBudW1iZXJcclxuICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICBnZW9tZXRyeS52ZXJ0aWNlc05lZWRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICBnZW9tZXRyeS5ub3JtYWxzTmVlZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgIGdlb21ldHJ5LmNvbG9yc05lZWRVcGRhdGUgPSB0cnVlO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyB1cGRhdGVUZXh0dXJlKG1hdGVyaWFsLCBtYXRlcmlhbEtleSwgdGV4dHVyZXMpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgbWF0ZXJpYWxbbWF0ZXJpYWxLZXldID0gdGV4dHVyZXNba2V5XTtcclxuICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgfTtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgQUxJQVMgPSB7XHJcbiAgJ2xlZnQnXHRcdDogMzcsXHJcbiAgJ3VwJ1x0XHQgIDogMzgsXHJcbiAgJ3JpZ2h0J1x0XHQ6IDM5LFxyXG4gICdkb3duJ1x0XHQ6IDQwLFxyXG4gICdzcGFjZSdcdFx0OiAzMixcclxuICAndGFiJ1x0XHQgIDogOSxcclxuICAnZXNjYXBlJ1x0OiAyN1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2V5Ym9hcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRvbUVsZW1lbnQpIHtcclxuICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQgfHwgZG9jdW1lbnQ7XHJcbiAgICB0aGlzLmtleUNvZGVzID0ge307XHJcblxyXG4gICAgLy8gYmluZCBrZXlFdmVudHNcclxuICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSwgZmFsc2UpO1xyXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSwgZmFsc2UpO1xyXG5cclxuICAgIC8vIGJpbmQgd2luZG93IGJsdXJcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4gdGhpcy5vbkJsdXIsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4gdGhpcy5vbktleUNoYW5nZShldmVudCksIGZhbHNlKTtcclxuICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4gdGhpcy5vbktleUNoYW5nZShldmVudCksIGZhbHNlKTtcclxuXHJcbiAgICAvLyB1bmJpbmQgd2luZG93IGJsdXIgZXZlbnRcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4gdGhpcy5vbkJsdXIsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIG9uQmx1cigpIHtcclxuICAgIGZvcihjb25zdCBwcm9wIGluIHRoaXMua2V5Q29kZXMpXHJcbiAgICAgIHRoaXMua2V5Q29kZXNbcHJvcF0gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIG9uS2V5Q2hhbmdlKGV2ZW50KSB7XHJcbiAgICAvLyBsb2cgdG8gZGVidWdcclxuICAgIC8vY29uc29sZS5sb2coJ29uS2V5Q2hhbmdlJywgZXZlbnQsIGV2ZW50LmtleUNvZGUsIGV2ZW50LnNoaWZ0S2V5LCBldmVudC5jdHJsS2V5LCBldmVudC5hbHRLZXksIGV2ZW50Lm1ldGFLZXkpXHJcblxyXG4gICAgLy8gdXBkYXRlIHRoaXMua2V5Q29kZXNcclxuICAgIGNvbnN0IGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xyXG4gICAgdGhpcy5rZXlDb2Rlc1trZXlDb2RlXSA9IGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJztcclxuICB9XHJcblxyXG4gIHByZXNzZWQoa2V5RGVzYykge1xyXG4gICAgY29uc3Qga2V5cyA9IGtleURlc2Muc3BsaXQoJysnKTtcclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgIGxldCBwcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgIGlmKE9iamVjdC5rZXlzKEFMSUFTKS5pbmRleE9mKGtleSkgIT0gLTEpIHtcclxuICAgICAgICBwcmVzc2VkID0gdGhpcy5rZXlDb2Rlc1tBTElBU1trZXldXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwcmVzc2VkID0gdGhpcy5rZXlDb2Rlc1trZXkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApXTtcclxuICAgICAgfVxyXG4gICAgICBpZighcHJlc3NlZClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBldmVudE1hdGNoZXMoZXZlbnQsIGtleURlc2MpIHtcclxuICAgIGNvbnN0IGFsaWFzZXMgPSBBTElBUztcclxuICAgIGNvbnN0IGFsaWFzS2V5cyA9IE9iamVjdC5rZXlzKGFsaWFzZXMpO1xyXG4gICAgY29uc3Qga2V5cyA9IGtleURlc2Muc3BsaXQoJysnKTtcclxuICAgIC8vIGxvZyB0byBkZWJ1Z1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2V2ZW50TWF0Y2hlcycsIGV2ZW50LCBldmVudC5rZXlDb2RlLCBldmVudC5zaGlmdEtleSwgZXZlbnQuY3RybEtleSwgZXZlbnQuYWx0S2V5LCBldmVudC5tZXRhS2V5KVxyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgbGV0IHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgaWYoa2V5ID09PSAnc2hpZnQnKSB7XHJcbiAgICAgICAgcHJlc3NlZCA9IGV2ZW50LnNoaWZ0S2V5ID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYoa2V5ID09PSAnY3RybCcpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQuY3RybEtleSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgfSBlbHNlIGlmKGtleSA9PT0gJ2FsdCcpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQuYWx0S2V5ID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYoa2V5ID09PSAnbWV0YScpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQubWV0YUtleSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgfSBlbHNlIGlmKGFsaWFzS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKSB7XHJcbiAgICAgICAgcHJlc3NlZCA9IGV2ZW50LmtleUNvZGUgPT09IGFsaWFzZXNba2V5XTtcclxuICAgICAgfSBlbHNlIGlmKGV2ZW50LmtleUNvZGUgPT09IGtleS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpIHtcclxuICAgICAgICBwcmVzc2VkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZighcHJlc3NlZClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG59XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRIUkVFKSB7XHJcbiAgdmFyIE1PVVNFID0gVEhSRUUuTU9VU0U7XHJcbiAgaWYgKCFNT1VTRSkgTU9VU0UgPSB7IExFRlQ6IDAsIE1JRERMRTogMSwgUklHSFQ6IDIgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQGF1dGhvciBxaWFvIC8gaHR0cHM6Ly9naXRodWIuY29tL3FpYW9cclxuICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tXHJcbiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cclxuICAgKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXlcclxuICAgKiBAYXV0aG9yIGVyaWNoNjY2IC8gaHR0cDovL2VyaWNoYWluZXMuY29tXHJcbiAgICovXHJcbiAgLypnbG9iYWwgVEhSRUUsIGNvbnNvbGUgKi9cclxuXHJcbiAgZnVuY3Rpb24gT3JiaXRDb25zdHJhaW50KG9iamVjdCkge1xyXG4gICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XHJcblxyXG4gICAgLy8gXCJ0YXJnZXRcIiBzZXRzIHRoZSBsb2NhdGlvbiBvZiBmb2N1cywgd2hlcmUgdGhlIG9iamVjdCBvcmJpdHMgYXJvdW5kXHJcbiAgICAvLyBhbmQgd2hlcmUgaXQgcGFucyB3aXRoIHJlc3BlY3QgdG8uXHJcbiAgICB0aGlzLnRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcblxyXG4gICAgLy8gTGltaXRzIHRvIGhvdyBmYXIgeW91IGNhbiBkb2xseSBpbiBhbmQgb3V0ICggUGVyc3BlY3RpdmVDYW1lcmEgb25seSApXHJcbiAgICB0aGlzLm1pbkRpc3RhbmNlID0gMDtcclxuICAgIHRoaXMubWF4RGlzdGFuY2UgPSBJbmZpbml0eTtcclxuXHJcbiAgICAvLyBMaW1pdHMgdG8gaG93IGZhciB5b3UgY2FuIHpvb20gaW4gYW5kIG91dCAoIE9ydGhvZ3JhcGhpY0NhbWVyYSBvbmx5IClcclxuICAgIHRoaXMubWluWm9vbSA9IDA7XHJcbiAgICB0aGlzLm1heFpvb20gPSBJbmZpbml0eTtcclxuXHJcbiAgICAvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgdmVydGljYWxseSwgdXBwZXIgYW5kIGxvd2VyIGxpbWl0cy5cclxuICAgIC8vIFJhbmdlIGlzIDAgdG8gTWF0aC5QSSByYWRpYW5zLlxyXG4gICAgdGhpcy5taW5Qb2xhckFuZ2xlID0gMDsgLy8gcmFkaWFuc1xyXG4gICAgdGhpcy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSTsgLy8gcmFkaWFuc1xyXG5cclxuICAgIC8vIEhvdyBmYXIgeW91IGNhbiBvcmJpdCBob3Jpem9udGFsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXHJcbiAgICAvLyBJZiBzZXQsIG11c3QgYmUgYSBzdWItaW50ZXJ2YWwgb2YgdGhlIGludGVydmFsIFsgLSBNYXRoLlBJLCBNYXRoLlBJIF0uXHJcbiAgICB0aGlzLm1pbkF6aW11dGhBbmdsZSA9IC1JbmZpbml0eTsgLy8gcmFkaWFuc1xyXG4gICAgdGhpcy5tYXhBemltdXRoQW5nbGUgPSBJbmZpbml0eTsgLy8gcmFkaWFuc1xyXG5cclxuICAgIC8vIFNldCB0byB0cnVlIHRvIGVuYWJsZSBkYW1waW5nIChpbmVydGlhKVxyXG4gICAgLy8gSWYgZGFtcGluZyBpcyBlbmFibGVkLCB5b3UgbXVzdCBjYWxsIGNvbnRyb2xzLnVwZGF0ZSgpIGluIHlvdXIgYW5pbWF0aW9uIGxvb3BcclxuICAgIHRoaXMuZW5hYmxlRGFtcGluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5kYW1waW5nRmFjdG9yID0gMC4yNTtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy9cclxuICAgIC8vIGludGVybmFsc1xyXG5cclxuICAgIHZhciBzY29wZSA9IHRoaXM7XHJcblxyXG4gICAgdmFyIEVQUyA9IDAuMDAwMDAxO1xyXG5cclxuICAgIC8vIEN1cnJlbnQgcG9zaXRpb24gaW4gc3BoZXJpY2FsIGNvb3JkaW5hdGUgc3lzdGVtLlxyXG4gICAgdmFyIHRoZXRhO1xyXG4gICAgdmFyIHBoaTtcclxuXHJcbiAgICAvLyBQZW5kaW5nIGNoYW5nZXNcclxuICAgIHZhciBwaGlEZWx0YSA9IDA7XHJcbiAgICB2YXIgdGhldGFEZWx0YSA9IDA7XHJcbiAgICB2YXIgc2NhbGUgPSAxO1xyXG4gICAgdmFyIHBhbk9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbiAgICB2YXIgem9vbUNoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBBUElcclxuXHJcbiAgICB0aGlzLmdldFBvbGFyQW5nbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBwaGk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0QXppbXV0aGFsQW5nbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB0aGV0YTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yb3RhdGVMZWZ0ID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICAgIHRoZXRhRGVsdGEgLT0gYW5nbGU7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucm90YXRlVXAgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgcGhpRGVsdGEgLT0gYW5nbGU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHBhc3MgaW4gZGlzdGFuY2UgaW4gd29ybGQgc3BhY2UgdG8gbW92ZSBsZWZ0XHJcbiAgICB0aGlzLnBhbkxlZnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gcGFuTGVmdChkaXN0YW5jZSkge1xyXG4gICAgICAgIHZhciB0ZSA9IHRoaXMub2JqZWN0Lm1hdHJpeC5lbGVtZW50cztcclxuXHJcbiAgICAgICAgLy8gZ2V0IFggY29sdW1uIG9mIG1hdHJpeFxyXG4gICAgICAgIHYuc2V0KHRlWzBdLCB0ZVsxXSwgdGVbMl0pO1xyXG4gICAgICAgIHYubXVsdGlwbHlTY2FsYXIoLWRpc3RhbmNlKTtcclxuXHJcbiAgICAgICAgcGFuT2Zmc2V0LmFkZCh2KTtcclxuICAgICAgfTtcclxuICAgIH0pKCk7XHJcblxyXG4gICAgLy8gcGFzcyBpbiBkaXN0YW5jZSBpbiB3b3JsZCBzcGFjZSB0byBtb3ZlIHVwXHJcbiAgICB0aGlzLnBhblVwID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHYgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBhblVwKGRpc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIHRlID0gdGhpcy5vYmplY3QubWF0cml4LmVsZW1lbnRzO1xyXG5cclxuICAgICAgICAvLyBnZXQgWSBjb2x1bW4gb2YgbWF0cml4XHJcbiAgICAgICAgdi5zZXQodGVbNF0sIHRlWzVdLCB0ZVs2XSk7XHJcbiAgICAgICAgdi5tdWx0aXBseVNjYWxhcihkaXN0YW5jZSk7XHJcblxyXG4gICAgICAgIHBhbk9mZnNldC5hZGQodik7XHJcbiAgICAgIH07XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIC8vIHBhc3MgaW4geCx5IG9mIGNoYW5nZSBkZXNpcmVkIGluIHBpeGVsIHNwYWNlLFxyXG4gICAgLy8gcmlnaHQgYW5kIGRvd24gYXJlIHBvc2l0aXZlXHJcbiAgICB0aGlzLnBhbiA9IGZ1bmN0aW9uIChkZWx0YVgsIGRlbHRhWSwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xyXG4gICAgICBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpIHtcclxuICAgICAgICAvLyBwZXJzcGVjdGl2ZVxyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHNjb3BlLm9iamVjdC5wb3NpdGlvbjtcclxuICAgICAgICB2YXIgb2Zmc2V0ID0gcG9zaXRpb24uY2xvbmUoKS5zdWIoc2NvcGUudGFyZ2V0KTtcclxuICAgICAgICB2YXIgdGFyZ2V0RGlzdGFuY2UgPSBvZmZzZXQubGVuZ3RoKCk7XHJcblxyXG4gICAgICAgIC8vIGhhbGYgb2YgdGhlIGZvdiBpcyBjZW50ZXIgdG8gdG9wIG9mIHNjcmVlblxyXG4gICAgICAgIHRhcmdldERpc3RhbmNlICo9IE1hdGgudGFuKCgoc2NvcGUub2JqZWN0LmZvdiAvIDIpICogTWF0aC5QSSkgLyAxODAuMCk7XHJcblxyXG4gICAgICAgIC8vIHdlIGFjdHVhbGx5IGRvbid0IHVzZSBzY3JlZW5XaWR0aCwgc2luY2UgcGVyc3BlY3RpdmUgY2FtZXJhIGlzIGZpeGVkIHRvIHNjcmVlbiBoZWlnaHRcclxuICAgICAgICBzY29wZS5wYW5MZWZ0KCgyICogZGVsdGFYICogdGFyZ2V0RGlzdGFuY2UpIC8gc2NyZWVuSGVpZ2h0KTtcclxuICAgICAgICBzY29wZS5wYW5VcCgoMiAqIGRlbHRhWSAqIHRhcmdldERpc3RhbmNlKSAvIHNjcmVlbkhlaWdodCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKSB7XHJcbiAgICAgICAgLy8gb3J0aG9ncmFwaGljXHJcbiAgICAgICAgc2NvcGUucGFuTGVmdCgoZGVsdGFYICogKHNjb3BlLm9iamVjdC5yaWdodCAtIHNjb3BlLm9iamVjdC5sZWZ0KSkgLyBzY3JlZW5XaWR0aCk7XHJcbiAgICAgICAgc2NvcGUucGFuVXAoKGRlbHRhWSAqIChzY29wZS5vYmplY3QudG9wIC0gc2NvcGUub2JqZWN0LmJvdHRvbSkpIC8gc2NyZWVuSGVpZ2h0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjYW1lcmEgbmVpdGhlciBvcnRob2dyYXBoaWMgb3IgcGVyc3BlY3RpdmVcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gcGFuIGRpc2FibGVkLidcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZG9sbHlJbiA9IGZ1bmN0aW9uIChkb2xseVNjYWxlKSB7XHJcbiAgICAgIGlmIChzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSkge1xyXG4gICAgICAgIHNjYWxlIC89IGRvbGx5U2NhbGU7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKSB7XHJcbiAgICAgICAgc2NvcGUub2JqZWN0Lnpvb20gPSBNYXRoLm1heChcclxuICAgICAgICAgIHRoaXMubWluWm9vbSxcclxuICAgICAgICAgIE1hdGgubWluKHRoaXMubWF4Wm9vbSwgdGhpcy5vYmplY3Quem9vbSAqIGRvbGx5U2NhbGUpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzY29wZS5vYmplY3QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgICAgIHpvb21DaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gZG9sbHkvem9vbSBkaXNhYmxlZC4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRvbGx5T3V0ID0gZnVuY3Rpb24gKGRvbGx5U2NhbGUpIHtcclxuICAgICAgaWYgKHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKSB7XHJcbiAgICAgICAgc2NhbGUgKj0gZG9sbHlTY2FsZTtcclxuICAgICAgfSBlbHNlIGlmIChzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpIHtcclxuICAgICAgICBzY29wZS5vYmplY3Quem9vbSA9IE1hdGgubWF4KFxyXG4gICAgICAgICAgdGhpcy5taW5ab29tLFxyXG4gICAgICAgICAgTWF0aC5taW4odGhpcy5tYXhab29tLCB0aGlzLm9iamVjdC56b29tIC8gZG9sbHlTY2FsZSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgICAgem9vbUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLidcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIG9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcblxyXG4gICAgICAvLyBzbyBjYW1lcmEudXAgaXMgdGhlIG9yYml0IGF4aXNcclxuICAgICAgdmFyIHF1YXQgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpLnNldEZyb21Vbml0VmVjdG9ycyhvYmplY3QudXAsIG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApKTtcclxuICAgICAgdmFyIHF1YXRJbnZlcnNlID0gcXVhdC5jbG9uZSgpLmludmVyc2UoKTtcclxuXHJcbiAgICAgIHZhciBsYXN0UG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG4gICAgICB2YXIgbGFzdFF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xyXG5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLm9iamVjdC5wb3NpdGlvbjtcclxuXHJcbiAgICAgICAgb2Zmc2V0LmNvcHkocG9zaXRpb24pLnN1Yih0aGlzLnRhcmdldCk7XHJcblxyXG4gICAgICAgIC8vIHJvdGF0ZSBvZmZzZXQgdG8gXCJ5LWF4aXMtaXMtdXBcIiBzcGFjZVxyXG4gICAgICAgIG9mZnNldC5hcHBseVF1YXRlcm5pb24ocXVhdCk7XHJcblxyXG4gICAgICAgIC8vIGFuZ2xlIGZyb20gei1heGlzIGFyb3VuZCB5LWF4aXNcclxuXHJcbiAgICAgICAgdGhldGEgPSBNYXRoLmF0YW4yKG9mZnNldC54LCBvZmZzZXQueik7XHJcblxyXG4gICAgICAgIC8vIGFuZ2xlIGZyb20geS1heGlzXHJcblxyXG4gICAgICAgIHBoaSA9IE1hdGguYXRhbjIoTWF0aC5zcXJ0KG9mZnNldC54ICogb2Zmc2V0LnggKyBvZmZzZXQueiAqIG9mZnNldC56KSwgb2Zmc2V0LnkpO1xyXG5cclxuICAgICAgICB0aGV0YSArPSB0aGV0YURlbHRhO1xyXG4gICAgICAgIHBoaSArPSBwaGlEZWx0YTtcclxuXHJcbiAgICAgICAgLy8gcmVzdHJpY3QgdGhldGEgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xyXG4gICAgICAgIHRoZXRhID0gTWF0aC5tYXgodGhpcy5taW5BemltdXRoQW5nbGUsIE1hdGgubWluKHRoaXMubWF4QXppbXV0aEFuZ2xlLCB0aGV0YSkpO1xyXG5cclxuICAgICAgICAvLyByZXN0cmljdCBwaGkgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xyXG4gICAgICAgIHBoaSA9IE1hdGgubWF4KHRoaXMubWluUG9sYXJBbmdsZSwgTWF0aC5taW4odGhpcy5tYXhQb2xhckFuZ2xlLCBwaGkpKTtcclxuXHJcbiAgICAgICAgLy8gcmVzdHJpY3QgcGhpIHRvIGJlIGJldHdlZSBFUFMgYW5kIFBJLUVQU1xyXG4gICAgICAgIHBoaSA9IE1hdGgubWF4KEVQUywgTWF0aC5taW4oTWF0aC5QSSAtIEVQUywgcGhpKSk7XHJcblxyXG4gICAgICAgIHZhciByYWRpdXMgPSBvZmZzZXQubGVuZ3RoKCkgKiBzY2FsZTtcclxuXHJcbiAgICAgICAgLy8gcmVzdHJpY3QgcmFkaXVzIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcclxuICAgICAgICByYWRpdXMgPSBNYXRoLm1heCh0aGlzLm1pbkRpc3RhbmNlLCBNYXRoLm1pbih0aGlzLm1heERpc3RhbmNlLCByYWRpdXMpKTtcclxuXHJcbiAgICAgICAgLy8gbW92ZSB0YXJnZXQgdG8gcGFubmVkIGxvY2F0aW9uXHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkKHBhbk9mZnNldCk7XHJcblxyXG4gICAgICAgIG9mZnNldC54ID0gcmFkaXVzICogTWF0aC5zaW4ocGhpKSAqIE1hdGguc2luKHRoZXRhKTtcclxuICAgICAgICBvZmZzZXQueSA9IHJhZGl1cyAqIE1hdGguY29zKHBoaSk7XHJcbiAgICAgICAgb2Zmc2V0LnogPSByYWRpdXMgKiBNYXRoLnNpbihwaGkpICogTWF0aC5jb3ModGhldGEpO1xyXG5cclxuICAgICAgICAvLyByb3RhdGUgb2Zmc2V0IGJhY2sgdG8gXCJjYW1lcmEtdXAtdmVjdG9yLWlzLXVwXCIgc3BhY2VcclxuICAgICAgICBvZmZzZXQuYXBwbHlRdWF0ZXJuaW9uKHF1YXRJbnZlcnNlKTtcclxuXHJcbiAgICAgICAgcG9zaXRpb24uY29weSh0aGlzLnRhcmdldCkuYWRkKG9mZnNldCk7XHJcblxyXG4gICAgICAgIHRoaXMub2JqZWN0Lmxvb2tBdCh0aGlzLnRhcmdldCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmVuYWJsZURhbXBpbmcgPT09IHRydWUpIHtcclxuICAgICAgICAgIHRoZXRhRGVsdGEgKj0gMSAtIHRoaXMuZGFtcGluZ0ZhY3RvcjtcclxuICAgICAgICAgIHBoaURlbHRhICo9IDEgLSB0aGlzLmRhbXBpbmdGYWN0b3I7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoZXRhRGVsdGEgPSAwO1xyXG4gICAgICAgICAgcGhpRGVsdGEgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2NhbGUgPSAxO1xyXG4gICAgICAgIHBhbk9mZnNldC5zZXQoMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSBjb25kaXRpb24gaXM6XHJcbiAgICAgICAgLy8gbWluKGNhbWVyYSBkaXNwbGFjZW1lbnQsIGNhbWVyYSByb3RhdGlvbiBpbiByYWRpYW5zKV4yID4gRVBTXHJcbiAgICAgICAgLy8gdXNpbmcgc21hbGwtYW5nbGUgYXBwcm94aW1hdGlvbiBjb3MoeC8yKSA9IDEgLSB4XjIgLyA4XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHpvb21DaGFuZ2VkIHx8XHJcbiAgICAgICAgICBsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5vYmplY3QucG9zaXRpb24pID4gRVBTIHx8XHJcbiAgICAgICAgICA4ICogKDEgLSBsYXN0UXVhdGVybmlvbi5kb3QodGhpcy5vYmplY3QucXVhdGVybmlvbikpID4gRVBTXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBsYXN0UG9zaXRpb24uY29weSh0aGlzLm9iamVjdC5wb3NpdGlvbik7XHJcbiAgICAgICAgICBsYXN0UXVhdGVybmlvbi5jb3B5KHRoaXMub2JqZWN0LnF1YXRlcm5pb24pO1xyXG4gICAgICAgICAgem9vbUNoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfTtcclxuICAgIH0pKCk7XHJcbiAgfVxyXG5cclxuICAvLyBUaGlzIHNldCBvZiBjb250cm9scyBwZXJmb3JtcyBvcmJpdGluZywgZG9sbHlpbmcgKHpvb21pbmcpLCBhbmQgcGFubmluZy4gSXQgbWFpbnRhaW5zXHJcbiAgLy8gdGhlIFwidXBcIiBkaXJlY3Rpb24gYXMgK1ksIHVubGlrZSB0aGUgVHJhY2tiYWxsQ29udHJvbHMuIFRvdWNoIG9uIHRhYmxldCBhbmQgcGhvbmVzIGlzXHJcbiAgLy8gc3VwcG9ydGVkLlxyXG4gIC8vXHJcbiAgLy8gICAgT3JiaXQgLSBsZWZ0IG1vdXNlIC8gdG91Y2g6IG9uZSBmaW5nZXIgbW92ZVxyXG4gIC8vICAgIFpvb20gLSBtaWRkbGUgbW91c2UsIG9yIG1vdXNld2hlZWwgLyB0b3VjaDogdHdvIGZpbmdlciBzcHJlYWQgb3Igc3F1aXNoXHJcbiAgLy8gICAgUGFuIC0gcmlnaHQgbW91c2UsIG9yIGFycm93IGtleXMgLyB0b3VjaDogdGhyZWUgZmludGVyIHN3aXBlXHJcblxyXG4gIGZ1bmN0aW9uIE9yYml0Q29udHJvbHMob2JqZWN0LCBkb21FbGVtZW50KSB7XHJcbiAgICB2YXIgY29uc3RyYWludCA9IG5ldyBPcmJpdENvbnN0cmFpbnQob2JqZWN0KTtcclxuXHJcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBkb21FbGVtZW50ICE9PSB1bmRlZmluZWQgPyBkb21FbGVtZW50IDogZG9jdW1lbnQ7XHJcblxyXG4gICAgLy8gQVBJXHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb25zdHJhaW50Jywge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY29uc3RyYWludDtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZ2V0UG9sYXJBbmdsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIGNvbnN0cmFpbnQuZ2V0UG9sYXJBbmdsZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldEF6aW11dGhhbEFuZ2xlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gY29uc3RyYWludC5nZXRBemltdXRoYWxBbmdsZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB0aGlzIGNvbnRyb2xcclxuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgLy8gY2VudGVyIGlzIG9sZCwgZGVwcmVjYXRlZDsgdXNlIFwidGFyZ2V0XCIgaW5zdGVhZFxyXG4gICAgdGhpcy5jZW50ZXIgPSB0aGlzLnRhcmdldDtcclxuXHJcbiAgICAvLyBUaGlzIG9wdGlvbiBhY3R1YWxseSBlbmFibGVzIGRvbGx5aW5nIGluIGFuZCBvdXQ7IGxlZnQgYXMgXCJ6b29tXCIgZm9yXHJcbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cclxuICAgIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHpvb21pbmdcclxuICAgIHRoaXMuZW5hYmxlWm9vbSA9IHRydWU7XHJcbiAgICB0aGlzLnpvb21TcGVlZCA9IDEuMDtcclxuXHJcbiAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSByb3RhdGluZ1xyXG4gICAgdGhpcy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgdGhpcy5yb3RhdGVTcGVlZCA9IDEuMDtcclxuXHJcbiAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSBwYW5uaW5nXHJcbiAgICB0aGlzLmVuYWJsZVBhbiA9IHRydWU7XHJcbiAgICB0aGlzLmtleVBhblNwZWVkID0gNy4wOyAvLyBwaXhlbHMgbW92ZWQgcGVyIGFycm93IGtleSBwdXNoXHJcblxyXG4gICAgLy8gU2V0IHRvIHRydWUgdG8gYXV0b21hdGljYWxseSByb3RhdGUgYXJvdW5kIHRoZSB0YXJnZXRcclxuICAgIC8vIElmIGF1dG8tcm90YXRlIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxyXG4gICAgdGhpcy5hdXRvUm90YXRlID0gZmFsc2U7XHJcbiAgICB0aGlzLmF1dG9Sb3RhdGVTcGVlZCA9IDIuMDsgLy8gMzAgc2Vjb25kcyBwZXIgcm91bmQgd2hlbiBmcHMgaXMgNjBcclxuXHJcbiAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB1c2Ugb2YgdGhlIGtleXNcclxuICAgIHRoaXMuZW5hYmxlS2V5cyA9IHRydWU7XHJcblxyXG4gICAgLy8gVGhlIGZvdXIgYXJyb3cga2V5c1xyXG4gICAgdGhpcy5rZXlzID0geyBMRUZUOiAzNywgVVA6IDM4LCBSSUdIVDogMzksIEJPVFRPTTogNDAgfTtcclxuXHJcbiAgICAvLyBNb3VzZSBidXR0b25zXHJcbiAgICB0aGlzLm1vdXNlQnV0dG9ucyA9IHtcclxuICAgICAgT1JCSVQ6IFRIUkVFLk1PVVNFLkxFRlQsXHJcbiAgICAgIFpPT006IFRIUkVFLk1PVVNFLk1JRERMRSxcclxuICAgICAgUEFOOiBUSFJFRS5NT1VTRS5SSUdIVCxcclxuICAgIH07XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vXHJcbiAgICAvLyBpbnRlcm5hbHNcclxuXHJcbiAgICB2YXIgc2NvcGUgPSB0aGlzO1xyXG5cclxuICAgIHZhciByb3RhdGVTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICB2YXIgcm90YXRlRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgIHZhciByb3RhdGVEZWx0YSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcblxyXG4gICAgdmFyIHBhblN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgIHZhciBwYW5FbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG4gICAgdmFyIHBhbkRlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuXHJcbiAgICB2YXIgZG9sbHlTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICB2YXIgZG9sbHlFbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG4gICAgdmFyIGRvbGx5RGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG5cclxuICAgIHZhciBTVEFURSA9IHtcclxuICAgICAgTk9ORTogLTEsXHJcbiAgICAgIFJPVEFURTogMCxcclxuICAgICAgRE9MTFk6IDEsXHJcbiAgICAgIFBBTjogMixcclxuICAgICAgVE9VQ0hfUk9UQVRFOiAzLFxyXG4gICAgICBUT1VDSF9ET0xMWTogNCxcclxuICAgICAgVE9VQ0hfUEFOOiA1LFxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc3RhdGUgPSBTVEFURS5OT05FO1xyXG5cclxuICAgIC8vIGZvciByZXNldFxyXG5cclxuICAgIHRoaXMudGFyZ2V0MCA9IHRoaXMudGFyZ2V0LmNsb25lKCk7XHJcbiAgICB0aGlzLnBvc2l0aW9uMCA9IHRoaXMub2JqZWN0LnBvc2l0aW9uLmNsb25lKCk7XHJcbiAgICB0aGlzLnpvb20wID0gdGhpcy5vYmplY3Quem9vbTtcclxuXHJcbiAgICAvLyBldmVudHNcclxuXHJcbiAgICB2YXIgY2hhbmdlRXZlbnQgPSB7IHR5cGU6ICdjaGFuZ2UnIH07XHJcbiAgICB2YXIgc3RhcnRFdmVudCA9IHsgdHlwZTogJ3N0YXJ0JyB9O1xyXG4gICAgdmFyIGVuZEV2ZW50ID0geyB0eXBlOiAnZW5kJyB9O1xyXG5cclxuICAgIC8vIHBhc3MgaW4geCx5IG9mIGNoYW5nZSBkZXNpcmVkIGluIHBpeGVsIHNwYWNlLFxyXG4gICAgLy8gcmlnaHQgYW5kIGRvd24gYXJlIHBvc2l0aXZlXHJcbiAgICBmdW5jdGlvbiBwYW4oZGVsdGFYLCBkZWx0YVkpIHtcclxuICAgICAgdmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XHJcblxyXG4gICAgICBjb25zdHJhaW50LnBhbihkZWx0YVgsIGRlbHRhWSwgZWxlbWVudC5jbGllbnRXaWR0aCwgZWxlbWVudC5jbGllbnRIZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAodGhpcy5hdXRvUm90YXRlICYmIHN0YXRlID09PSBTVEFURS5OT05FKSB7XHJcbiAgICAgICAgY29uc3RyYWludC5yb3RhdGVMZWZ0KGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY29uc3RyYWludC51cGRhdGUoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG5cclxuICAgICAgdGhpcy50YXJnZXQuY29weSh0aGlzLnRhcmdldDApO1xyXG4gICAgICB0aGlzLm9iamVjdC5wb3NpdGlvbi5jb3B5KHRoaXMucG9zaXRpb24wKTtcclxuICAgICAgdGhpcy5vYmplY3Quem9vbSA9IHRoaXMuem9vbTA7XHJcblxyXG4gICAgICB0aGlzLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XHJcblxyXG4gICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRBdXRvUm90YXRpb25BbmdsZSgpIHtcclxuICAgICAgcmV0dXJuICgoMiAqIE1hdGguUEkpIC8gNjAgLyA2MCkgKiBzY29wZS5hdXRvUm90YXRlU3BlZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Wm9vbVNjYWxlKCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5wb3coMC45NSwgc2NvcGUuem9vbVNwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbk1vdXNlRG93bihldmVudCkge1xyXG4gICAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuT1JCSVQpIHtcclxuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBzdGF0ZSA9IFNUQVRFLlJPVEFURTtcclxuXHJcbiAgICAgICAgcm90YXRlU3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gc2NvcGUubW91c2VCdXR0b25zLlpPT00pIHtcclxuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgc3RhdGUgPSBTVEFURS5ET0xMWTtcclxuXHJcbiAgICAgICAgZG9sbHlTdGFydC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuUEFOKSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgc3RhdGUgPSBTVEFURS5QQU47XHJcblxyXG4gICAgICAgIHBhblN0YXJ0LnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5OT05FKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwLCBmYWxzZSk7XHJcbiAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudChzdGFydEV2ZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2ZW50KSB7XHJcbiAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIHZhciBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgPyBzY29wZS5kb21FbGVtZW50LmJvZHkgOiBzY29wZS5kb21FbGVtZW50O1xyXG5cclxuICAgICAgaWYgKHN0YXRlID09PSBTVEFURS5ST1RBVEUpIHtcclxuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICByb3RhdGVFbmQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICAgIHJvdGF0ZURlbHRhLnN1YlZlY3RvcnMocm90YXRlRW5kLCByb3RhdGVTdGFydCk7XHJcblxyXG4gICAgICAgIC8vIHJvdGF0aW5nIGFjcm9zcyB3aG9sZSBzY3JlZW4gZ29lcyAzNjAgZGVncmVlcyBhcm91bmRcclxuICAgICAgICBjb25zdHJhaW50LnJvdGF0ZUxlZnQoXHJcbiAgICAgICAgICAoKDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCkgLyBlbGVtZW50LmNsaWVudFdpZHRoKSAqIHNjb3BlLnJvdGF0ZVNwZWVkXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gcm90YXRpbmcgdXAgYW5kIGRvd24gYWxvbmcgd2hvbGUgc2NyZWVuIGF0dGVtcHRzIHRvIGdvIDM2MCwgYnV0IGxpbWl0ZWQgdG8gMTgwXHJcbiAgICAgICAgY29uc3RyYWludC5yb3RhdGVVcChcclxuICAgICAgICAgICgoMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55KSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0KSAqIHNjb3BlLnJvdGF0ZVNwZWVkXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcm90YXRlU3RhcnQuY29weShyb3RhdGVFbmQpO1xyXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURS5ET0xMWSkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVab29tID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBkb2xseUVuZC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgICAgZG9sbHlEZWx0YS5zdWJWZWN0b3JzKGRvbGx5RW5kLCBkb2xseVN0YXJ0KTtcclxuXHJcbiAgICAgICAgaWYgKGRvbGx5RGVsdGEueSA+IDApIHtcclxuICAgICAgICAgIGNvbnN0cmFpbnQuZG9sbHlJbihnZXRab29tU2NhbGUoKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkb2xseURlbHRhLnkgPCAwKSB7XHJcbiAgICAgICAgICBjb25zdHJhaW50LmRvbGx5T3V0KGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvbGx5U3RhcnQuY29weShkb2xseUVuZCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFLlBBTikge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHBhbkVuZC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgICAgcGFuRGVsdGEuc3ViVmVjdG9ycyhwYW5FbmQsIHBhblN0YXJ0KTtcclxuXHJcbiAgICAgICAgcGFuKHBhbkRlbHRhLngsIHBhbkRlbHRhLnkpO1xyXG5cclxuICAgICAgICBwYW5TdGFydC5jb3B5KHBhbkVuZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuTk9ORSkgc2NvcGUudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25Nb3VzZVVwKC8qIGV2ZW50ICovKSB7XHJcbiAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UpO1xyXG4gICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KGVuZEV2ZW50KTtcclxuICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uTW91c2VXaGVlbChldmVudCkge1xyXG4gICAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgfHwgc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgfHwgc3RhdGUgIT09IFNUQVRFLk5PTkUpIHJldHVybjtcclxuXHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgdmFyIGRlbHRhID0gMDtcclxuXHJcbiAgICAgIGlmIChldmVudC53aGVlbERlbHRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAvLyBXZWJLaXQgLyBPcGVyYSAvIEV4cGxvcmVyIDlcclxuXHJcbiAgICAgICAgZGVsdGEgPSBldmVudC53aGVlbERlbHRhO1xyXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmRldGFpbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgLy8gRmlyZWZveFxyXG5cclxuICAgICAgICBkZWx0YSA9IC1ldmVudC5kZXRhaWw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkZWx0YSA+IDApIHtcclxuICAgICAgICBjb25zdHJhaW50LmRvbGx5T3V0KGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgfSBlbHNlIGlmIChkZWx0YSA8IDApIHtcclxuICAgICAgICBjb25zdHJhaW50LmRvbGx5SW4oZ2V0Wm9vbVNjYWxlKCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudChzdGFydEV2ZW50KTtcclxuICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudChlbmRFdmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XHJcbiAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVLZXlzID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKVxyXG4gICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICAgIGNhc2Ugc2NvcGUua2V5cy5VUDpcclxuICAgICAgICAgIHBhbigwLCBzY29wZS5rZXlQYW5TcGVlZCk7XHJcbiAgICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIHNjb3BlLmtleXMuQk9UVE9NOlxyXG4gICAgICAgICAgcGFuKDAsIC1zY29wZS5rZXlQYW5TcGVlZCk7XHJcbiAgICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIHNjb3BlLmtleXMuTEVGVDpcclxuICAgICAgICAgIHBhbihzY29wZS5rZXlQYW5TcGVlZCwgMCk7XHJcbiAgICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIHNjb3BlLmtleXMuUklHSFQ6XHJcbiAgICAgICAgICBwYW4oLXNjb3BlLmtleVBhblNwZWVkLCAwKTtcclxuICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b3VjaHN0YXJ0KGV2ZW50KSB7XHJcbiAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgc3dpdGNoIChldmVudC50b3VjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgIGNhc2UgMTogLy8gb25lLWZpbmdlcmVkIHRvdWNoOiByb3RhdGVcclxuICAgICAgICAgIGlmIChzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9ST1RBVEU7XHJcblxyXG4gICAgICAgICAgcm90YXRlU3RhcnQuc2V0KGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgMjogLy8gdHdvLWZpbmdlcmVkIHRvdWNoOiBkb2xseVxyXG4gICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9ET0xMWTtcclxuXHJcbiAgICAgICAgICB2YXIgZHggPSBldmVudC50b3VjaGVzWzBdLnBhZ2VYIC0gZXZlbnQudG91Y2hlc1sxXS5wYWdlWDtcclxuICAgICAgICAgIHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgLSBldmVudC50b3VjaGVzWzFdLnBhZ2VZO1xyXG4gICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgICAgICAgIGRvbGx5U3RhcnQuc2V0KDAsIGRpc3RhbmNlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIDM6IC8vIHRocmVlLWZpbmdlcmVkIHRvdWNoOiBwYW5cclxuICAgICAgICAgIGlmIChzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9QQU47XHJcblxyXG4gICAgICAgICAgcGFuU3RhcnQuc2V0KGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuTk9ORSkgc2NvcGUuZGlzcGF0Y2hFdmVudChzdGFydEV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b3VjaG1vdmUoZXZlbnQpIHtcclxuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgIHZhciBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgPyBzY29wZS5kb21FbGVtZW50LmJvZHkgOiBzY29wZS5kb21FbGVtZW50O1xyXG5cclxuICAgICAgc3dpdGNoIChldmVudC50b3VjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgIGNhc2UgMTogLy8gb25lLWZpbmdlcmVkIHRvdWNoOiByb3RhdGVcclxuICAgICAgICAgIGlmIChzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICBpZiAoc3RhdGUgIT09IFNUQVRFLlRPVUNIX1JPVEFURSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIHJvdGF0ZUVuZC5zZXQoZXZlbnQudG91Y2hlc1swXS5wYWdlWCwgZXZlbnQudG91Y2hlc1swXS5wYWdlWSk7XHJcbiAgICAgICAgICByb3RhdGVEZWx0YS5zdWJWZWN0b3JzKHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQpO1xyXG5cclxuICAgICAgICAgIC8vIHJvdGF0aW5nIGFjcm9zcyB3aG9sZSBzY3JlZW4gZ29lcyAzNjAgZGVncmVlcyBhcm91bmRcclxuICAgICAgICAgIGNvbnN0cmFpbnQucm90YXRlTGVmdChcclxuICAgICAgICAgICAgKCgyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLngpIC8gZWxlbWVudC5jbGllbnRXaWR0aCkgKiBzY29wZS5yb3RhdGVTcGVlZFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIC8vIHJvdGF0aW5nIHVwIGFuZCBkb3duIGFsb25nIHdob2xlIHNjcmVlbiBhdHRlbXB0cyB0byBnbyAzNjAsIGJ1dCBsaW1pdGVkIHRvIDE4MFxyXG4gICAgICAgICAgY29uc3RyYWludC5yb3RhdGVVcChcclxuICAgICAgICAgICAgKCgyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnkpIC8gZWxlbWVudC5jbGllbnRIZWlnaHQpICogc2NvcGUucm90YXRlU3BlZWRcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgcm90YXRlU3RhcnQuY29weShyb3RhdGVFbmQpO1xyXG5cclxuICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgMjogLy8gdHdvLWZpbmdlcmVkIHRvdWNoOiBkb2xseVxyXG4gICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICBpZiAoc3RhdGUgIT09IFNUQVRFLlRPVUNIX0RPTExZKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgdmFyIGR4ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWCAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVg7XHJcbiAgICAgICAgICB2YXIgZHkgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VZIC0gZXZlbnQudG91Y2hlc1sxXS5wYWdlWTtcclxuICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcblxyXG4gICAgICAgICAgZG9sbHlFbmQuc2V0KDAsIGRpc3RhbmNlKTtcclxuICAgICAgICAgIGRvbGx5RGVsdGEuc3ViVmVjdG9ycyhkb2xseUVuZCwgZG9sbHlTdGFydCk7XHJcblxyXG4gICAgICAgICAgaWYgKGRvbGx5RGVsdGEueSA+IDApIHtcclxuICAgICAgICAgICAgY29uc3RyYWludC5kb2xseU91dChnZXRab29tU2NhbGUoKSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGRvbGx5RGVsdGEueSA8IDApIHtcclxuICAgICAgICAgICAgY29uc3RyYWludC5kb2xseUluKGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBkb2xseVN0YXJ0LmNvcHkoZG9sbHlFbmQpO1xyXG5cclxuICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgMzogLy8gdGhyZWUtZmluZ2VyZWQgdG91Y2g6IHBhblxyXG4gICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfUEFOKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgcGFuRW5kLnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICAgIHBhbkRlbHRhLnN1YlZlY3RvcnMocGFuRW5kLCBwYW5TdGFydCk7XHJcblxyXG4gICAgICAgICAgcGFuKHBhbkRlbHRhLngsIHBhbkRlbHRhLnkpO1xyXG5cclxuICAgICAgICAgIHBhblN0YXJ0LmNvcHkocGFuRW5kKTtcclxuXHJcbiAgICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG91Y2hlbmQoLyogZXZlbnQgKi8pIHtcclxuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KGVuZEV2ZW50KTtcclxuICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRleHRtZW51KGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBjb250ZXh0bWVudSwgZmFsc2UpO1xyXG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24sIGZhbHNlKTtcclxuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlKTtcclxuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ01vek1vdXNlUGl4ZWxTY3JvbGwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlKTsgLy8gZmlyZWZveFxyXG5cclxuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0b3VjaHN0YXJ0LCBmYWxzZSk7XHJcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRvdWNoZW5kLCBmYWxzZSk7XHJcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0b3VjaG1vdmUsIGZhbHNlKTtcclxuXHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBmYWxzZSk7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlKTtcclxuXHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlEb3duLCBmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGNvbnRleHRtZW51LCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIG9uTW91c2VXaGVlbCwgZmFsc2UpO1xyXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ01vek1vdXNlUGl4ZWxTY3JvbGwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlKTsgLy8gZmlyZWZveFxyXG5cclxuICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdG91Y2hzdGFydCwgZmFsc2UpO1xyXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdG91Y2hlbmQsIGZhbHNlKTtcclxuICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0b3VjaG1vdmUsIGZhbHNlKTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93biwgZmFsc2UpO1xyXG5cclxuICAgIC8vIGZvcmNlIGFuIHVwZGF0ZSBhdCBzdGFydFxyXG4gICAgdGhpcy51cGRhdGUoKTtcclxuICB9XHJcblxyXG4gIE9yYml0Q29udHJvbHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShUSFJFRS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlKTtcclxuICBPcmJpdENvbnRyb2xzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9yYml0Q29udHJvbHM7XHJcblxyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE9yYml0Q29udHJvbHMucHJvdG90eXBlLCB7XHJcbiAgICBvYmplY3Q6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5vYmplY3Q7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIHRhcmdldDoge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50LnRhcmdldDtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5PcmJpdENvbnRyb2xzOiB0YXJnZXQgaXMgbm93IGltbXV0YWJsZS4gVXNlIHRhcmdldC5zZXQoKSBpbnN0ZWFkLicpO1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC50YXJnZXQuY29weSh2YWx1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIG1pbkRpc3RhbmNlOiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQubWluRGlzdGFuY2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC5taW5EaXN0YW5jZSA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBtYXhEaXN0YW5jZToge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50Lm1heERpc3RhbmNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbnN0cmFpbnQubWF4RGlzdGFuY2UgPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgbWluWm9vbToge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50Lm1pblpvb207XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC5taW5ab29tID0gdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIG1heFpvb206IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5tYXhab29tO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbnN0cmFpbnQubWF4Wm9vbSA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBtaW5Qb2xhckFuZ2xlOiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQubWluUG9sYXJBbmdsZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1pblBvbGFyQW5nbGUgPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgbWF4UG9sYXJBbmdsZToge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50Lm1heFBvbGFyQW5nbGU7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC5tYXhQb2xhckFuZ2xlID0gdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIG1pbkF6aW11dGhBbmdsZToge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50Lm1pbkF6aW11dGhBbmdsZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1pbkF6aW11dGhBbmdsZSA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBtYXhBemltdXRoQW5nbGU6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5tYXhBemltdXRoQW5nbGU7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC5tYXhBemltdXRoQW5nbGUgPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgZW5hYmxlRGFtcGluZzoge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50LmVuYWJsZURhbXBpbmc7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC5lbmFibGVEYW1waW5nID0gdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIGRhbXBpbmdGYWN0b3I6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5kYW1waW5nRmFjdG9yO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGFtcGluZ0ZhY3RvciA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcblxyXG4gICAgbm9ab29tOiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuT3JiaXRDb250cm9sczogLm5vWm9vbSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVpvb20gaW5zdGVhZC4nKTtcclxuICAgICAgICByZXR1cm4gIXRoaXMuZW5hYmxlWm9vbTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9ab29tIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlWm9vbSBpbnN0ZWFkLicpO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlWm9vbSA9ICF2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgbm9Sb3RhdGU6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1JvdGF0ZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVJvdGF0ZSBpbnN0ZWFkLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5lbmFibGVSb3RhdGU7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9Sb3RhdGUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVSb3RhdGUgaW5zdGVhZC4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmVuYWJsZVJvdGF0ZSA9ICF2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgbm9QYW46IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9QYW4gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVQYW4gaW5zdGVhZC4nKTtcclxuICAgICAgICByZXR1cm4gIXRoaXMuZW5hYmxlUGFuO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1BhbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVBhbiBpbnN0ZWFkLicpO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlUGFuID0gIXZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBub0tleXM6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9LZXlzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlS2V5cyBpbnN0ZWFkLicpO1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5lbmFibGVLZXlzO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub0tleXMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVLZXlzIGluc3RlYWQuJyk7XHJcbiAgICAgICAgdGhpcy5lbmFibGVLZXlzID0gIXZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBzdGF0aWNNb3Zpbmc6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5zdGF0aWNNb3ZpbmcgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVEYW1waW5nIGluc3RlYWQuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmNvbnN0cmFpbnQuZW5hYmxlRGFtcGluZztcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5zdGF0aWNNb3ZpbmcgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVEYW1waW5nIGluc3RlYWQuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50LmVuYWJsZURhbXBpbmcgPSAhdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIGR5bmFtaWNEYW1waW5nRmFjdG9yOiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuZHluYW1pY0RhbXBpbmdGYWN0b3IgaGFzIGJlZW4gcmVuYW1lZC4gVXNlIC5kYW1waW5nRmFjdG9yIGluc3RlYWQuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5kYW1waW5nRmFjdG9yO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogLmR5bmFtaWNEYW1waW5nRmFjdG9yIGhhcyBiZWVuIHJlbmFtZWQuIFVzZSAuZGFtcGluZ0ZhY3RvciBpbnN0ZWFkLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC5kYW1waW5nRmFjdG9yID0gdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gT3JiaXRDb250cm9scztcclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGVlckNvbm5lY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbkNvbmZpZyA9IHtcclxuICAgICAgICAgICAgJ2ljZVNlcnZlcnMnOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICd1cmxzJzogJ3N0dW46c3R1bi5sLmdvb2dsZS5jb206MTkzMDInXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAndXJscyc6ICd0dXJuOm51bWIudmlhZ2VuaWUuY2EnLFxyXG4gICAgICAgICAgICAgICAgICAnY3JlZGVudGlhbCc6ICdtdWF6a2gnLFxyXG4gICAgICAgICAgICAgICAgICAndXNlcm5hbWUnOiAnd2VicnRjQGxpdmUuY29tJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgJ3VybHMnOiAndHVybjoxOTIuMTU4LjI5LjM5OjM0Nzg/dHJhbnNwb3J0PXVkcCcsXHJcbiAgICAgICAgICAgICAgICAgICdjcmVkZW50aWFsJzogJ0paRU9FdDJWM1FiMHkyN0dSbnR0MnUyUEFZQT0nLFxyXG4gICAgICAgICAgICAgICAgICAndXNlcm5hbWUnOiAnMjgyMjQ1MTE6MTM3OTMzMDgwOCdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICd1cmxzJzogJ3R1cm46MTkyLjE1OC4yOS4zOTozNDc4P3RyYW5zcG9ydD10Y3AnLFxyXG4gICAgICAgICAgICAgICAgICAnY3JlZGVudGlhbCc6ICdKWkVPRXQyVjNRYjB5MjdHUm50dDJ1MlBBWUE9JyxcclxuICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJzogJzI4MjI0NTExOjEzNzkzMzA4MDgnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uID0gdGhpcy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmRhdGFDaGFubmVscyA9IFtdO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5ydGNQZWVyQ29ubmVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGxvY2F0aW9uLmhvc3RuYW1lICE9PSAnbG9jYWxob3N0Jykge1xyXG4gICAgICAgICAgICB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRoaXMucGVlckNvbm5lY3Rpb25Db25maWcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ydGNQZWVyQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbih0aGlzLnBlZXJDb25uZWN0aW9uQ29uZmlnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCBSVENQZWVyQ29ubm5lY3Rpb246ICcgKyB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucnRjUGVlckNvbm5lY3Rpb247XHJcblxyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGNyZWF0ZSBQZWVyQ29ubmVjdGlvbiwgZXhjZXB0aW9uOiAnICsgZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgYWxlcnQoJ0Nhbm5vdCBjcmVhdGUgUlRDUGVlckNvbm5lY3Rpb24gb2JqZWN0LicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZURhdGFDaGFubmVsKGNoYW5uZWxOYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucnRjUGVlckNvbm5lY3Rpb24pIHtcclxuICAgICAgICAgICAgbGV0IGRhdGFDaGFubmVsID0gdGhpcy5ydGNQZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChjaGFubmVsTmFtZSwge1xyXG4gICAgICAgICAgICAgICAgb3JkZXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpZDogcm9vbVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVscy5wdXNoKGRhdGFDaGFubmVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGVlckNvbm5lY3Rpb24gZnJvbSBcIi4vcGVlckNvbm5lY3Rpb25cIjtcclxuaW1wb3J0IHt1cGRhdGVSZW1vdGVPYmplY3RzLCBtb3ZlUmVtb3RlVmlkZW9Ub1NjZW5lfSBmcm9tICcuLi9hcHAvZ2FtZSc7XHJcblxyXG5leHBvcnQgbGV0IGRhdGFDaGFubmVsO1xyXG5leHBvcnQgbGV0IGlzSW5pdGlhdG9yO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlkZW9DYWxse1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgaXNJbml0aWF0b3IgPSBmYWxzZTtcclxuICAgICAgICBsZXQgaXNDaGFubmVsUmVhZHkgPSBmYWxzZTtcclxuICAgICAgICBsZXQgaXNTdGFydGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBsb2NhbFN0cmVhbTtcclxuICAgICAgICBsZXQgcmVtb3RlU3RyZWFtO1xyXG5cclxuICAgICAgICBsZXQgcGVlckNvbm5lY3Rpb247XHJcbiAgICAgICAgLy8gbGV0IGRhdGFDaGFubmVsO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLyAgIHNvY2tldC5pbyByb29tIGhhbmRsaW5nICAgLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8gbGV0IHJvb20gPSAnMTIzJztcclxuICAgICAgICBsZXQgcm9vbU5hbWUgPSBwcm9tcHQoJ0VudGVyIHJvb20gbmFtZTonKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gaW8uY29ubmVjdCgpO1xyXG5cclxuICAgICAgICBpZiAocm9vbU5hbWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdjcmVhdGUgb3Igam9pbicsIHJvb21OYW1lKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRlZCB0byBjcmVhdGUgb3Igam9pbiByb29tJywgcm9vbU5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc29ja2V0Lm9uKCdjcmVhdGVkJywgZnVuY3Rpb24ocm9vbSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCByb29tICcgKyByb29tKTtcclxuICAgICAgICAgICAgaXNJbml0aWF0b3IgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzb2NrZXQub24oJ2Z1bGwnLCBmdW5jdGlvbihyb29tKSB7XHJcbiAgICAgICAgICAgIC8vVE9ETyBzaG93IHVzZXIgdGhhdCByb29tIGlzIGZ1bGwuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSb29tICcgKyByb29tICsgJyBpcyBmdWxsJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNvY2tldC5vbignam9pbicsIGZ1bmN0aW9uIChyb29tKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Fub3RoZXIgcGVlciBtYWRlIGEgcmVxdWVzdCB0byBqb2luIHJvb20gJyArIHJvb20pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGhpcyBwZWVyIGlzIHRoZSBpbml0aWF0b3Igb2Ygcm9vbSAnICsgcm9vbSArICchJyk7XHJcbiAgICAgICAgICAgIGlzQ2hhbm5lbFJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc29ja2V0Lm9uKCdqb2luZWQnLCBmdW5jdGlvbihyb29tKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdqb2luZWQ6ICcgKyByb29tKTtcclxuICAgICAgICAgICAgaXNDaGFubmVsUmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzb2NrZXQub24oJ2xvZycsIGZ1bmN0aW9uKGFycmF5KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFycmF5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc29ja2V0Lm9uKCdtZXNzYWdlJywgZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xpZW50IHJlY2VpdmVkIG1lc3NhZ2U6JywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlID09PSAnZ290IHVzZXIgbWVkaWEnKSB7XHJcbiAgICAgICAgICAgICAgICBtYXliZVN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnb2ZmZXInKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzSW5pdGlhdG9yICYmICFpc1N0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXliZVN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihtZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvQW5zd2VyKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ2Fuc3dlcicgJiYgaXNTdGFydGVkKSB7XHJcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdjYW5kaWRhdGUnICYmIGlzU3RhcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHNkcE1MaW5lSW5kZXg6IG1lc3NhZ2UubGFiZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlOiBtZXNzYWdlLmNhbmRpZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlID09PSAnYnllJyAmJiBpc1N0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZVJlbW90ZUhhbmd1cCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbmRTaWduYWxpbmdNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NsaWVudCBzZW5kaW5nIG1lc3NhZ2U6ICcsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBzb2NrZXQuZW1pdCgnbWVzc2FnZScsIHJvb21OYW1lLCBtZXNzYWdlKTsgXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8gICBpbml0IHZpZGVvIGNhcHR1cmUgYW5kIHN0cmVhbSAgIC8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsVmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9jYWxWaWRlbycpO1xyXG4gICAgICAgIGNvbnN0IHJlbW90ZVZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlbW90ZVZpZGVvJyk7XHJcblxyXG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcclxuICAgICAgICAgICAgdmlkZW86IHRydWUsXHJcbiAgICAgICAgICAgIGF1ZGlvOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihpbml0TG9jYWxTdHJlYW0pXHJcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgYWxlcnQoJ2dldFVzZXJNZWRpYSgpIGVycm9yOiAnICsgZS5uYW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdExvY2FsU3RyZWFtKHN0cmVhbSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWRkaW5nIGxvY2FsIHN0cmVhbS4nKTtcclxuICAgICAgICAgICAgbG9jYWxTdHJlYW0gPSBzdHJlYW07XHJcbiAgICAgICAgICAgIGxvY2FsVmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xyXG4gICAgICAgICAgICBzZW5kU2lnbmFsaW5nTWVzc2FnZSgnZ290IHVzZXIgbWVkaWEnKTtcclxuICAgICAgICAgICAgaWYgKGlzSW5pdGlhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBtYXliZVN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1heWJlU3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc+Pj4+Pj4+IG1heWJlU3RhcnQoKSAnLCBpc1N0YXJ0ZWQsIGxvY2FsU3RyZWFtLCBpc0NoYW5uZWxSZWFkeSk7XHJcbiAgICAgICAgICAgIGlmICghaXNTdGFydGVkICYmIHR5cGVvZiBsb2NhbFN0cmVhbSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNDaGFubmVsUmVhZHkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCc+Pj4+Pj4gY3JlYXRpbmcgcGVlciBjb25uZWN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICBpbml0UGVlckNvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiBsb2NhbFN0cmVhbS5nZXRUcmFja3MoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKHRyYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtb3ZlUmVtb3RlVmlkZW9Ub1NjZW5lKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaXNTdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpc0luaXRpYXRvcicsIGlzSW5pdGlhdG9yKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0luaXRpYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXREYXRhQ2hhbm5lbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGVkIFJUQ0RhdGFDaGFubmVsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9DYWxsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZ2FtZUNvbnRyb2xsZXIuc3RhcnRTaGFyZWRTY2VuZVN5bmMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICB3aW5kb3cub25wYWdlaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBoYW5ndXAoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBoYW5kbGUgdGFicyBjbG9zaW5nKGFsbW9zdCBhbGwgYnJvd3NlcnMpIG9yIHBhZ2VoaWRlKG5lZWRlZCBmb3IgaVBhZC9pUGhvbmUpXHJcbiAgICAgICAgdmFyIGlzT25JT1MgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9NYWMvKSAmJiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMjsgLy8gbXVzdCBiZSBpT1MuLi5cclxuICAgICAgICB2YXIgZXZlbnROYW1lID0gaXNPbklPUyA/IFwicGFnZWhpZGVcIiA6IFwiYmVmb3JldW5sb2FkXCI7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuY3Rpb24gKGV2ZW50KSB7IFxyXG4gICAgICAgICAgICBzZW5kU2lnbmFsaW5nTWVzc2FnZSgnYnllJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLyAgIGNyZWF0ZSBhbmQgaGFuZGxlIFBlZXJDb25uZWN0aW9uIC8vLy8vIFxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgY29uc3QgaW5pdFBlZXJDb25uZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbiA9IG5ldyBQZWVyQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IGhhbmRsZUljZUNhbmRpZGF0ZTtcclxuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24ub250cmFjayA9IGhhbmRsZVRyYWNrQWRkZWQ7XHJcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLm9uZGF0YWNoYW5uZWwgPSBoYW5kbGVEYXRhQ2hhbm5lbEFkZGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlSWNlQ2FuZGlkYXRlKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpY2VjYW5kaWRhdGUgZXZlbnQ6ICcsIGV2ZW50KTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmNhbmRpZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgc2VuZFNpZ25hbGluZ01lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjYW5kaWRhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBldmVudC5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICBpZDogZXZlbnQuY2FuZGlkYXRlLnNkcE1pZCxcclxuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGU6IGV2ZW50LmNhbmRpZGF0ZS5jYW5kaWRhdGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VuZCBvZiBjYW5kaWRhdGVzLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVUcmFja0FkZGVkKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5zdHJlYW1zICYmIGV2ZW50LnN0cmVhbXNbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXZlbnQgc3RyZWFtcyBkZXRlY3RlZFwiKVxyXG4gICAgICAgICAgICAgICAgcmVtb3RlVmlkZW8uc3JjT2JqZWN0ID0gZXZlbnQuc3RyZWFtc1swXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVtb3RlU3RyZWFtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDcmVhdGluZyBuZXcgTWVkaWFTdHJlYW1cIilcclxuICAgICAgICAgICAgICAgICAgICByZW1vdGVTdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWRkaW5nIHRyYWNrIHRvIHJlbW90ZSBzdHJlYW1cIilcclxuICAgICAgICAgICAgICAgIHJlbW90ZVN0cmVhbS5hZGRUcmFjayhldmVudC50cmFjayk7XHJcbiAgICAgICAgICAgICAgICByZW1vdGVWaWRlby5zZXRBdHRyaWJ1dGUoJ3NyYycsIHJlbW90ZVN0cmVhbSk7XHJcbiAgICAgICAgICAgICAgICByZW1vdGVWaWRlby5zcmNPYmplY3QgPSByZW1vdGVTdHJlYW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVtb3RlVmlkZW8uYXV0b3BsYXkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ3JlYXRlT2ZmZXJFcnJvcihldmVudCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY3JlYXRlT2ZmZXIoKSBlcnJvcjogJywgZXZlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9DYWxsKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VuZGluZyBvZmZlciB0byBwZWVyJyk7XHJcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHNldExvY2FsQW5kU2VuZE1lc3NhZ2UsIGhhbmRsZUNyZWF0ZU9mZmVyRXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9BbnN3ZXIoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIGFuc3dlciB0byBwZWVyLicpO1xyXG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKS50aGVuKFxyXG4gICAgICAgICAgICAgICAgc2V0TG9jYWxBbmRTZW5kTWVzc2FnZSxcclxuICAgICAgICAgICAgICAgIG9uQ3JlYXRlU2Vzc2lvbkRlc2NyaXB0aW9uRXJyb3JcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldExvY2FsQW5kU2VuZE1lc3NhZ2Uoc2Vzc2lvbkRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oc2Vzc2lvbkRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NldExvY2FsQW5kU2VuZE1lc3NhZ2Ugc2VuZGluZyBtZXNzYWdlJywgc2Vzc2lvbkRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgc2VuZFNpZ25hbGluZ01lc3NhZ2Uoc2Vzc2lvbkRlc2NyaXB0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uQ3JlYXRlU2Vzc2lvbkRlc2NyaXB0aW9uRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbiBkZXNjcmlwdGlvbjogJyArIGVycm9yLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZ3VwKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGFuZ2luZyB1cC4nKTtcclxuICAgICAgICAgICAgc3RvcCgpO1xyXG4gICAgICAgICAgICBzZW5kU2lnbmFsaW5nTWVzc2FnZSgnYnllJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZW1vdGVIYW5ndXAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIHRlcm1pbmF0ZWQuJyk7XHJcbiAgICAgICAgICAgIHN0b3AoKTtcclxuICAgICAgICAgICAgaXNJbml0aWF0b3IgPSB0cnVlOyAvL3doZW4gcmVtb3RlIGxlYXZlcywgdGhpcyBjbGllbnQgd2lsbCBiZSB0aGUgbmV3IGluaXRpYXRvclxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RvcCgpIHtcclxuICAgICAgICAgICAgaXNTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRhdGFDaGFubmVsLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgcmVtb3RlVmlkZW8ucGF1c2UoKTtcclxuICAgICAgICAgICAgcmVtb3RlVmlkZW8ucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTsgLy8gZW1wdHkgc291cmNlXHJcbiAgICAgICAgICAgIHJlbW90ZVZpZGVvLnJlbW92ZUF0dHJpYnV0ZSgnYXV0b3BsYXknKTtcclxuICAgICAgICAgICAgcmVtb3RlU3RyZWFtID0gbnVsbDtcclxuICAgICAgICAgICAgcmVtb3RlVmlkZW8ubG9hZCgpO1xyXG4gICAgICAgICAgICAvLyAgIGdhbWVDb250cm9sbGVyLnN0b3BTaGFyZWRTY2VuZVN5bmMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vICAgY3JlYXRlIGFuZCBoYW5kbGUgZGF0YWNoYW5uZWwgICAvLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0RGF0YUNoYW5uZWwoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDUkVBVElORyBEQVRBQ0hBTk5FTCBnYW1lVXBkYXRlcycpXHJcbiAgICAgICAgICAgIGRhdGFDaGFubmVsID0gcGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoJ2dhbWVVcGRhdGVzJyk7XHJcbiAgICAgICAgICAgIGRhdGFDaGFubmVsLm9ubWVzc2FnZSA9IGhhbmRsZVJlY2VpdmVNZXNzYWdlO1xyXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbC5vbmVycm9yID0gaGFuZGxlRGF0YUNoYW5uZWxFcnJvcjtcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwub25vcGVuID0gaGFuZGxlRGF0YUNoYW5uZWxTdGF0dXNDaGFuZ2U7XHJcbiAgICAgICAgICAgIGRhdGFDaGFubmVsLm9uY2xvc2UgPSBoYW5kbGVEYXRhQ2hhbm5lbFN0YXR1c0NoYW5nZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDUkVBVEVEIERBVEFDSEFOTkVMIGdhbWVVcGRhdGVzJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZURhdGFDaGFubmVsQWRkZWQoZXZlbnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIENoYW5uZWwgQ2FsbGJhY2snKTtcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwgPSBldmVudC5jaGFubmVsO1xyXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbC5vbm1lc3NhZ2UgPSBoYW5kbGVSZWNlaXZlTWVzc2FnZTtcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEYXRhIENoYW5uZWwgRXJyb3I6XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwub25vcGVuID0gaGFuZGxlRGF0YUNoYW5uZWxTdGF0dXNDaGFuZ2U7XHJcbiAgICAgICAgICAgIGRhdGFDaGFubmVsLm9uY2xvc2UgPSBoYW5kbGVEYXRhQ2hhbm5lbFN0YXR1c0NoYW5nZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NSRUFURUQgREFUQUNIQU5ORUwgZ2FtZVVwZGF0ZXMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlY2VpdmVNZXNzYWdlKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVJlbW90ZU9iamVjdHMoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVEYXRhQ2hhbm5lbEVycm9yKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGF0YSBDaGFubmVsIEVycm9yOlwiLCBlcnJvcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRGF0YUNoYW5uZWxTdGF0dXNDaGFuZ2UoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFDaGFubmVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBkYXRhQ2hhbm5lbC5yZWFkeVN0YXRlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gXCJvcGVuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRBVEEgQ0hBTk5FTCBTVEFURTogb3BlblwiKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRBVEEgQ0hBTk5FTCBTVEFURTogY2xvc2VkXCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8gICBzeW5jaHJvbml6YXRpb24gb2YgZ2FtZW9iamVjdHMgICAgLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICAvLyBmdW5jdGlvbiBzdGFydEdhbWVTeW5jKCkge1xyXG4gICAgICAgIC8vICAgbGV0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoc2VuZEdhbWVvYmplY3RQb3NpdGlvbnMsIDMwKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIGZ1bmN0aW9uIHNlbmRHYW1lb2JqZWN0UG9zaXRpb25zKHNjZW5lSnNvbikge1xyXG4gICAgICAgIC8vICAgLy9UT0RPIHNlbmQgSlNPTiBTdHJpbmdzIG9mIGdhbWVvYmplY3QgYW5kIHBvc2l0aW9uc1xyXG4gICAgICAgIC8vICAgaWYgKGRhdGFDaGFubmVsICYmIGRhdGFDaGFubmVsLnJlYWR5U3RhdGUgPT09IFwib3BlblwiKSB7XHJcbiAgICAgICAgLy8gICAgIGRhdGFDaGFubmVsLnNlbmQoc2NlbmVKc29uKTtcclxuICAgICAgICAvLyAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==