/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/app.js":(e,t,n)=>{"use strict";n.r(t);n("./node_modules/core-js/stable/index.js"),n("./node_modules/regenerator-runtime/runtime.js");var o=n("./src/js/data/config.js"),r=n("./src/js/utils/detector.js"),a=(n("./src/js/app/gameScene.js"),n("./src/js/webrtc/videoCall.js")),i=n("./src/js/app/game.js");n("./src/css/app.scss");console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),o.default.isDev=!0,function(){if(r.default.webgl){document.getElementById("appContainer");(0,i.startPhys)(a.isInitiator)}else r.default.addGetWebGLMessage()}()},"./src/js/app/components/camera.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/data/config.js");function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=t.domElement.width,i=t.domElement.height;this.threeCamera=new o.PerspectiveCamera(r.default.camera.fov,a/i,r.default.camera.near,r.default.camera.far),this.threeCamera.position.set(r.default.camera.posX,r.default.camera.posY,r.default.camera.posZ),this.updateSize(t),window.addEventListener("resize",(function(){return n.updateSize(t)}),!1)}var t,n,i;return t=e,(n=[{key:"updateSize",value:function(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()}}])&&a(t.prototype,n),i&&a(t,i),e}()},"./src/js/app/components/controls.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/utils/orbitControls.js"),a=n.n(r),i=n("./src/js/data/config.js");function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new(a())(o);this.threeControls=new r(t,n),this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.threeControls.target.set(i.default.controls.target.x,i.default.controls.target.y,i.default.controls.target.z),this.threeControls.autoRotate=i.default.controls.autoRotate,this.threeControls.autoRotateSpeed=i.default.controls.autoRotateSpeed,this.threeControls.rotateSpeed=i.default.controls.rotateSpeed,this.threeControls.zoomSpeed=i.default.controls.zoomSpeed,this.threeControls.minDistance=i.default.controls.minDistance,this.threeControls.maxDistance=i.default.controls.maxDistance,this.threeControls.minPolarAngle=i.default.controls.minPolarAngle,this.threeControls.maxPolarAngle=i.default.controls.maxPolarAngle,this.threeControls.enableDamping=i.default.controls.enableDamping,this.threeControls.enableZoom=i.default.controls.enableZoom,this.threeControls.dampingFactor=i.default.controls.dampingFactor}}])&&s(t.prototype,n),r&&s(t,r),e}()},"./src/js/app/components/geometry.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/app/components/material.js"),a=n("./src/js/data/config.js");function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.geo=null}var t,n,s;return t=e,(n=[{key:"make",value:function(e){var t=this;return"plane"===e?function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.geo=new o.PlaneGeometry(e,n,r,a)}:"sphere"===e?function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;t.geo=new o.SphereGeometry(e,n,r)}:void 0}},{key:"place",value:function(e,t){var n,s,l=new r.default(15658734).standard,c=new o.Mesh(this.geo,l);(n=c.position).set.apply(n,i(e)),(s=c.rotation).set.apply(s,i(t)),a.default.shadow.enabled&&(c.receiveShadow=!0),this.scene.add(c)}}])&&l(t.prototype,n),s&&l(t,s),e}()},"./src/js/app/components/light.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/data/config.js");function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.ambientLight=new o.AmbientLight(r.default.ambientLight.color),this.ambientLight.visible=r.default.ambientLight.enabled,this.pointLight=new o.PointLight(r.default.pointLight.color,r.default.pointLight.intensity,r.default.pointLight.distance),this.pointLight.position.set(r.default.pointLight.x,r.default.pointLight.y,r.default.pointLight.z),this.pointLight.visible=r.default.pointLight.enabled,this.directionalLight=new o.DirectionalLight(r.default.directionalLight.color,r.default.directionalLight.intensity),this.directionalLight.position.set(r.default.directionalLight.x,r.default.directionalLight.y,r.default.directionalLight.z),this.directionalLight.visible=r.default.directionalLight.enabled,this.directionalLight.castShadow=r.default.shadow.enabled,this.directionalLight.shadow.bias=r.default.shadow.bias,this.directionalLight.shadow.camera.near=r.default.shadow.near,this.directionalLight.shadow.camera.far=r.default.shadow.far,this.directionalLight.shadow.camera.left=r.default.shadow.left,this.directionalLight.shadow.camera.right=r.default.shadow.right,this.directionalLight.shadow.camera.top=r.default.shadow.top,this.directionalLight.shadow.camera.bottom=r.default.shadow.bottom,this.directionalLight.shadow.mapSize.width=r.default.shadow.mapWidth,this.directionalLight.shadow.mapSize.height=r.default.shadow.mapHeight,r.default.isDev&&(this.directionalLightHelper=new o.CameraHelper(this.directionalLight.shadow.camera),this.directionalLightHelper.visible=r.default.shadow.helperEnabled),this.hemiLight=new o.HemisphereLight(r.default.hemiLight.color,r.default.hemiLight.groundColor,r.default.hemiLight.intensity),this.hemiLight.position.set(r.default.hemiLight.x,r.default.hemiLight.y,r.default.hemiLight.z),this.hemiLight.visible=r.default.hemiLight.enabled}},{key:"place",value:function(e){switch(e){case"ambient":this.scene.add(this.ambientLight);break;case"directional":this.scene.add(this.directionalLight),r.default.isDev&&this.scene.add(this.directionalLightHelper);break;case"point":this.scene.add(this.pointLight);break;case"hemi":this.scene.add(this.hemiLight)}}}])&&a(t.prototype,n),i&&a(t,i),e}()},"./src/js/app/components/material.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/three/build/three.module.js");var r=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.basic=new o.MeshBasicMaterial({color:t,side:o.DoubleSide}),this.standard=new o.MeshStandardMaterial({color:t,shading:o.FlatShading,roughness:1,metalness:0,side:o.DoubleSide}),this.wire=new o.MeshBasicMaterial({wireframe:!0})}},"./src/js/app/components/renderer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/data/config.js");function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.container=n,this.threeRenderer=new o.WebGLRenderer({antialias:!0,alpha:!0}),this.threeRenderer.setClearColor(t.fog.color),this.threeRenderer.setPixelRatio(window.devicePixelRatio),n.appendChild(this.threeRenderer.domElement),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=o.PCFSoftShadowMap,r.default.maxAnisotropy=this.threeRenderer.capabilities.getMaxAnisotropy(),this.updateSize(),document.addEventListener("DOMContentLoaded",(function(){return a.updateSize()}),!1),window.addEventListener("resize",(function(){return a.updateSize()}),!1)}var t,n,i;return t=e,(n=[{key:"updateSize",value:function(){this.threeRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight)}},{key:"render",value:function(e,t){this.threeRenderer.render(e,t)}}])&&a(t.prototype,n),i&&a(t,i),e}()},"./src/js/app/game.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{startPhys:()=>w,startGame:()=>L,getSceneJSON:()=>x,updateRemoteObjects:()=>R,moveRemoteVideoToScene:()=>T});var o=n("./node_modules/three/build/three.module.js"),r=(n("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),n("./node_modules/three/examples/jsm/loaders/GLTFLoader.js")),a=n("./node_modules/three/examples/jsm/controls/DragControls.js"),i=n("./src/js/app/game/gameController.js"),s=n("./node_modules/three/examples/js/libs/ammo.wasm.js"),l=n("./src/js/app/game/scene.js");function c(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){c(a,o,r,i,s,"next",e)}function s(e){c(a,o,r,i,s,"throw",e)}i(void 0)}))}}var d,h,m,f,p=(0,i.GameController)(),g=new Map,v=new o.WebGLRenderer({alpha:!0}),b=[],y=!1,w=function(){s().then((function(e){!function(e){var t=new e.btDefaultCollisionConfiguration,n=new e.btCollisionDispatcher(t),o=new e.btDbvtBroadphase,r=new e.btSequentialImpulseConstraintSolver;new e.btDiscreteDynamicsWorld(n,o,r,t).setGravity(new e.btVector3(0,-10,0))}(e),L(!0)}))};function L(e){y=e,console.log("Started game with isInitiator = "+e),v.setPixelRatio(window.devicePixelRatio),v.setSize(window.innerWidth,window.innerHeight),v.autoClear=!1,document.getElementById("appContainer").appendChild(v.domElement),d=(0,l.initScene)(),h=(0,l.initCamera)(y),function(){E.apply(this,arguments)}(),new a.DragControls([].concat(b),h,v.domElement).addEventListener("drag",(function(e){p.sendGameobjectUpdate(M(e.object)),A()})),S()}function E(){return(E=u(regeneratorRuntime.mark((function e(){var t,n,i,s,l,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new r.GLTFLoader,e.next=3,t.loadAsync("assets/models/duck.gltf");case 3:e.sent.scene.traverse((function(e){e.isMesh&&(f=new o.Mesh,e.scale.set(.01,.01,.01),f=e,new a.DragControls([f],h,v.domElement).addEventListener("drag",(function(e){p.sendGameobjectUpdate(M(e.object)),A()})))})),y?((n=f.clone()).name="duckMesh1",d.add(n),n.position.set(0,-4,0),g.set(n.name,n),C(n),(i=f.clone()).name="duckMesh2",i.position.set(1,-4,0),d.add(i),g.set(i.name,i),C(i)):((s=f.clone()).name="duckMesh3",s.position.set(-1,-4,0),d.add(s),g.set(s.name,s),C(s)),v.outputEncoding=o.sRGBEncoding,l=new o.PlaneGeometry(4,8/3),c=new o.MeshBasicMaterial({color:9127187,side:o.DoubleSide}),(u=new o.Mesh(l,c)).position.y=-2,u.rotation.x=Math.PI/2,d.add(u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){setTimeout((function(){console.log("------------moveRemoteVideoToScene-------------");var e=document.getElementById("remoteVideo"),t=e.offsetWidth/e.offsetHeight;console.log(e),console.log("width: "+e.offsetWidth),console.log("height: "+e.offsetHeight);var n,r,a,i=new o.PlaneGeometry(4,4/t),s=(n="remoteVideo",r=document.getElementById(n),a=new o.VideoTexture(r),new o.MeshBasicMaterial({map:a,overdraw:!0,side:o.DoubleSide})),l=new o.Mesh(i,s);d.add(l)}),1e3)}function S(){requestAnimationFrame(S),v.render(d,h)}function M(e){var t={name:e.name,position:e.position,rotation:e.rotation},n=JSON.stringify(t);return console.log("JSON:"+n),n}function x(){m.uuid,m.position,m.rotation;return JSON.stringify(b)}function R(e){var t=JSON.parse(e);if(g.has(t.name)){var n=d.getObjectByName(t.name);n.position.x=t.position.x,n.position.y=t.position.y,n.position.z=t.position.z,n.rotation.x=t.rotation._x,n.rotation.y=t.rotation._y,n.rotation.z=t.rotation._z}else{f.name=t.name,f.position.set(t.position.x,t.position.y,t.position.z);var o=f.clone();g.set(o.name,o),d.add(o),C(o)}}function C(e){b.push(e),new a.DragControls([].concat(b),h,v.domElement).addEventListener("drag",(function(e){p.sendGameobjectUpdate(M(e.object)),A()}))}function A(){v.render(d,h)}},"./src/js/app/gameScene.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var o=n("./node_modules/three/build/three.module.js"),r=n("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),a=n("./src/js/app/components/renderer.js"),i=n("./src/js/app/components/camera.js"),s=n("./src/js/app/components/light.js"),l=n("./src/js/app/components/controls.js"),c=n("./src/js/app/components/geometry.js"),u=n("./src/js/app/helpers/stats.js"),d=n("./src/js/app/helpers/meshHelper.js"),h=n("./src/js/app/model/texture.js"),m=n("./src/js/app/model/model.js"),f=n("./src/js/app/managers/interaction.js"),p=n("./src/js/app/managers/datGUI.js"),g=n("./src/js/data/config.js");function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.clock=new o.Clock,this.scene=new o.Scene,this.scene.fog=new o.FogExp2(g.default.fog.color,g.default.fog.near),window.devicePixelRatio&&(g.default.dpr=window.devicePixelRatio),this.renderer=new a.default(this.scene,t),this.camera=new i.default(this.renderer.threeRenderer),this.controls=new l.default(this.camera.threeCamera,t),this.light=new s.default(this.scene);["ambient","directional","point","hemi"].forEach((function(e){return n.light.place(e)})),this.geometry=new c.default(this.scene),this.geometry.make("plane")(150,150,10,10),this.geometry.place([0,-20,0],[Math.PI/2,0,0]),g.default.isDev&&g.default.isShowingStats&&(this.stats=new u.default(this.renderer),this.stats.setUp()),g.default.isDev&&(this.gui=new p.default(this)),this.texture=new h.default,this.texture.load().then((function(){n.manager=new o.LoadingManager,n.model=new m.default(n.scene,n.manager,n.texture.textures),n.model.load(g.default.models[g.default.model.selected].type),n.manager.onProgress=function(e,t,n){console.log("".concat(e,": ").concat(t," ").concat(n))},n.manager.onLoad=function(){new f.default(n.renderer.threeRenderer,n.scene,n.camera.threeCamera,n.controls.threeControls),g.default.isDev&&(n.meshHelper=new d.default(n.scene,n.model.obj),g.default.mesh.enableHelper&&n.meshHelper.enable(),n.gui.load(n,n.model.obj)),g.default.isLoaded=!0,n.container.querySelector("#loading").style.display="none"}})),this.render()}var t,n,b;return t=e,(n=[{key:"render",value:function(){g.default.isDev&&g.default.isShowingStats&&u.default.start(),this.renderer.render(this.scene,this.camera.threeCamera),g.default.isDev&&g.default.isShowingStats&&u.default.end(),r.default.update(),this.controls.threeControls.update(),requestAnimationFrame(this.render.bind(this))}}])&&v(t.prototype,n),b&&v(t,b),e}()},"./src/js/app/game/gameController.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GameController:()=>a});var o=n("./src/js/webrtc/videoCall.js"),r=[],a=function(){return{addLocalObject:function(e){console.log("localObject added for game sync: "+JSON.stringify(e)+" id: "+e.id);var t={uuid:e.uuid,position:e.position,rotation:e.rotation},n=JSON.stringify(t);r.push(n)},startSharedSceneSync:function(){},stopSharedSceneSync:function(){clearInterval(undefined)},sendGameobjectUpdate:function(e){o.dataChannel&&void 0!==e&&"open"===o.dataChannel.readyState&&o.dataChannel.send(e)},updateRemoteObjects:function(e){var t=JSON.parse(e);localElement=getLocalObject,cube.position.x=t.position.x,cube.position.y=t.position.y,cube.position.z=t.position.z,cube.rotation.x=t.rotation._x,cube.rotation.y=t.rotation._y,cube.rotation.z=t.rotation._z}}}},"./src/js/app/game/scene.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{initScene:()=>a,initCamera:()=>i});var o,r=n("./node_modules/three/build/three.module.js");function a(){return(o=new r.Scene).background=null,function(){var e=new r.DirectionalLight(16777215,1);e.position.set(2,2,0),o.add(e);var t=new r.DirectionalLight(16777215,1);t.position.set(2,2,-20),o.add(t);var n=new r.DirectionalLight(16777215,1);n.position.set(2,2,20),o.add(n)}(),o}function i(e){var t=new r.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,500);return e?(console.log("changing camera position!"),t.position.x=0,t.position.y=0,t.position.z=-10,t.lookAt(0,0,0)):(t.position.x=0,t.position.y=0,t.position.z=10,t.lookAt(0,0,0)),t}},"./src/js/app/helpers/meshHelper.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/app/helpers/vertexNormalsHelper.js");function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mesh=n,this.scene=t;var a=new o.WireframeGeometry(this.mesh.geometry);this.wireLine=new o.LineSegments(a),this.wireLine.material.depthTest=!1,this.wireLine.material.opacity=.25,this.wireLine.material.transparent=!0;var i=new o.EdgesGeometry(this.mesh.geometry);this.edgesLine=new o.LineSegments(i),this.edgesLine.material.depthTest=!1,this.edgesLine.material.opacity=.25,this.edgesLine.material.transparent=!0,this.vertexHelper=new r.VertexNormalsHelper(this.mesh,2),this.boxHelper=new o.BoxHelper(this.mesh)}var t,n,i;return t=e,(n=[{key:"enable",value:function(){this.mesh.add(this.wireLine),this.mesh.add(this.edgesLine),this.scene.add(this.vertexHelper),this.scene.add(this.boxHelper)}},{key:"disable",value:function(){this.mesh.remove(this.wireLine),this.mesh.remove(this.edgesLine),this.scene.remove(this.vertexHelper),this.scene.remove(this.boxHelper)}}])&&a(t.prototype,n),i&&a(t,i),e}()},"./src/js/app/helpers/stats.js":(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r,a,i,s;n.r(t),n.d(t,{default:()=>l});var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t}var t,n,l;return t=e,l=[{key:"start",value:function(){r("frame").start(),i.start(),r("rAF").tick(),r("FPS").frame(),r("render").start()}},{key:"end",value:function(){r("render").end(),r("frame").end(),r("rStats").start(),r().update(),r("rStats").end()}}],(n=[{key:"setUp",value:function(){a=new BrowserStats,i=new glStats,s=new threeStats(this.renderer.threeRenderer),r=new rStats({CSSPath:"./css/",userTimingAPI:!0,values:{frame:{caption:"Total frame time (ms)",over:16,average:!0,avgMs:100},fps:{caption:"Framerate (FPS)",below:30},calls:{caption:"Calls (three.js)",over:3e3},raf:{caption:"Time since last rAF (ms)",average:!0,avgMs:100},rstats:{caption:"rStats update (ms)",average:!0,avgMs:100},texture:{caption:"GenTex",average:!0,avgMs:100}},groups:[{caption:"Framerate",values:["fps","raf"]},{caption:"Frame Budget",values:["frame","texture","setup","render"]}],fractions:[{base:"frame",steps:["texture","setup","render"]}],plugins:[a,s]})}}])&&o(t.prototype,n),l&&o(t,l),e}()},"./src/js/app/helpers/vertexNormalsHelper.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{VertexNormalsHelper:()=>l});var o=n("./node_modules/three/build/three.module.js"),r=new o.Vector3,a=new o.Vector3,i=new o.Matrix3,s=["a","b","c"];function l(e,t,n){this.object=e,this.size=void 0!==t?t:.1;var r=void 0!==n?n:16711680,a=0,i=this.object.geometry;i&&i.isGeometry?a=3*i.faces.length:i&&i.isBufferGeometry&&(a=i.attributes.normal.count);var s=new o.BufferGeometry,l=new o.Float32BufferAttribute(2*a*3,3);s.setAttribute("position",l),o.LineSegments.call(this,s,new o.LineBasicMaterial({color:r,toneMapped:!1})),this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.update()}l.prototype=Object.create(o.LineSegments.prototype),l.prototype.constructor=l,l.prototype.update=function(){var e;this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld,n=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry){var l=o.vertices,c=o.faces;e=0;for(var u=0,d=c.length;u<d;u++)for(var h=c[u],m=0,f=h.vertexNormals.length;m<f;m++){var p=l[h[s[m]]],g=h.vertexNormals[m];r.copy(p).applyMatrix4(t),a.copy(g).applyMatrix3(i).normalize().multiplyScalar(this.size).add(r),n.setXYZ(e,r.x,r.y,r.z),e+=1,n.setXYZ(e,a.x,a.y,a.z),e+=1}}else if(o&&o.isBufferGeometry){var v=o.attributes.position,b=o.attributes.normal;e=0;for(var y=0,w=v.count;y<w;y++)r.set(v.getX(y),v.getY(y),v.getZ(y)).applyMatrix4(t),a.set(b.getX(y),b.getY(y),b.getZ(y)),a.applyMatrix3(i).normalize().multiplyScalar(this.size).add(r),n.setXYZ(e,r.x,r.y,r.z),e+=1,n.setXYZ(e,a.x,a.y,a.z),e+=1}n.needsUpdate=!0}},"./src/js/app/loaders/GLTFLoader.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GLTFLoader:()=>a});var o=n("./node_modules/three/build/three.module.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(){function e(e){o.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(o.Loader.prototype),{constructor:e,load:function(e,t,n,r){var a,i=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:o.LoaderUtils.extractUrlBase(e),i.manager.itemStart(e);var s=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},l=new o.FileLoader(i.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),"use-credentials"===i.crossOrigin&&l.setWithCredentials(!0),l.load(e,(function(n){try{i.parse(n,a,(function(n){t(n),i.manager.itemEnd(e)}),s)}catch(e){s(e)}}),n,s)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,r,u){var d,p={};if("string"==typeof e)d=e;else if(o.LoaderUtils.decodeText(new Uint8Array(e,0,4))===c){try{p[n.KHR_BINARY_GLTF]=new h(e)}catch(e){return void(u&&u(e))}d=p[n.KHR_BINARY_GLTF].content}else d=o.LoaderUtils.decodeText(new Uint8Array(e));var b=JSON.parse(d);if(void 0===b.asset||b.asset.version[0]<2)u&&u(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(b.extensionsUsed)for(var y=0;y<b.extensionsUsed.length;++y){var w=b.extensionsUsed[y],L=b.extensionsRequired||[];switch(w){case n.KHR_LIGHTS_PUNCTUAL:p[w]=new i(b);break;case n.KHR_MATERIALS_CLEARCOAT:p[w]=new l;break;case n.KHR_MATERIALS_UNLIT:p[w]=new s;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:p[w]=new g;break;case n.KHR_DRACO_MESH_COMPRESSION:p[w]=new m(b,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:p[w]=new a(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:p[w]=new f;break;case n.KHR_MESH_QUANTIZATION:p[w]=new v;break;default:L.indexOf(w)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}new B(b,p,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(r,u)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function a(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function s(){this.name=n.KHR_MATERIALS_UNLIT}function l(){this.name=n.KHR_MATERIALS_CLEARCOAT}i.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new o.Color(16777215);void 0!==n.color&&r.fromArray(n.color);var a=void 0!==n.range?n.range:0;switch(n.type){case"directional":(t=new o.DirectionalLight(r)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new o.PointLight(r)).distance=a;break;case"spot":(t=new o.SpotLight(r)).distance=a,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},s.prototype.getMaterialType=function(){return o.MeshBasicMaterial},s.prototype.extendParams=function(e,t,n){var r=[];e.color=new o.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var i=a.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(r)},l.prototype.getMaterialType=function(){return o.MeshPhysicalMaterial},l.prototype.extendParams=function(e,t,n){var r=[],a=t.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var i=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new o.Vector2(i,i)}return Promise.all(r)};var c="glTF",u=1313821514,d=5130562;function h(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:o.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==c)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=new DataView(e,12),a=0;a<r.byteLength;){var i=r.getUint32(a,!0);a+=4;var s=r.getUint32(a,!0);if(a+=4,s===u){var l=new Uint8Array(e,12+a,i);this.content=o.LoaderUtils.decodeText(l)}else if(s===d){var h=12+a;this.body=e.slice(h,h+i)}a+=i}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function m(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function f(){this.name=n.KHR_TEXTURE_TRANSFORM}function p(e){o.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),i=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),s={specular:{value:(new o.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=s,this.onBeforeCompile=function(e){for(var o in s)e.uniforms[o]=s[o];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",a),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",i)},Object.defineProperties(this,{specular:{get:function(){return s.specular.value},set:function(e){s.specular.value=e}},specularMap:{get:function(){return s.specularMap.value},set:function(e){s.specularMap.value=e}},glossiness:{get:function(){return s.glossiness.value},set:function(e){s.glossiness.value=e}},glossinessMap:{get:function(){return s.glossinessMap.value},set:function(e){s.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return p},extendParams:function(e,t,n){var r=t.extensions[this.name];e.color=new o.Color(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var i=r.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new o.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new o.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var s=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",s)),a.push(n.assignTexture(e,"specularMap",s))}return Promise.all(a)},createMaterial:function(e){var t=new p(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=o.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function v(){this.name=n.KHR_MESH_QUANTIZATION}function b(e,t,n,r){o.Interpolant.call(this,e,t,n,r)}m.prototype.decodePrimitive=function(e,t){var n=this.json,o=this.dracoLoader,r=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,i={},s={},l={};for(var c in a){var u=j[c]||c.toLowerCase();i[u]=a[c]}for(c in e.attributes){u=j[c]||c.toLowerCase();if(void 0!==a[c]){var d=n.accessors[e.attributes[c]],h=x[d.componentType];l[u]=h,s[u]=!0===d.normalized}}return t.getDependency("bufferView",r).then((function(e){return new Promise((function(t){o.decodeDracoFile(e,(function(e){for(var n in e.attributes){var o=e.attributes[n],r=s[n];void 0!==r&&(o.normalized=r)}t(e)}),i,l)}))}))},f.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},p.prototype=Object.create(o.MeshStandardMaterial.prototype),p.prototype.constructor=p,p.prototype.copy=function(e){return o.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},b.prototype=Object.create(o.Interpolant.prototype),b.prototype.constructor=b,b.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,o=this.valueSize,r=e*o*3+o,a=0;a!==o;a++)t[a]=n[r+a];return t},b.prototype.beforeStart_=b.prototype.copySampleValue_,b.prototype.afterEnd_=b.prototype.copySampleValue_,b.prototype.interpolate_=function(e,t,n,o){for(var r=this.resultBuffer,a=this.sampleValues,i=this.valueSize,s=2*i,l=3*i,c=o-t,u=(n-t)/c,d=u*u,h=d*u,m=e*l,f=m-l,p=-2*h+3*d,g=h-d,v=1-p,b=g-d+u,y=0;y!==i;y++){var w=a[f+y+i],L=a[f+y+s]*c,E=a[m+y+i],T=a[m+y]*c;r[y]=v*w+b*L+p*E+g*T}return r};var y=0,w=1,L=2,E=3,T=4,S=5,M=6,x={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},R={9728:o.NearestFilter,9729:o.LinearFilter,9984:o.NearestMipmapNearestFilter,9985:o.LinearMipmapNearestFilter,9986:o.NearestMipmapLinearFilter,9987:o.LinearMipmapLinearFilter},C={33071:o.ClampToEdgeWrapping,33648:o.MirroredRepeatWrapping,10497:o.RepeatWrapping},A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},P={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},_={CUBICSPLINE:void 0,LINEAR:o.InterpolateLinear,STEP:o.InterpolateDiscrete},O="OPAQUE",k="MASK",D="BLEND",I={"image/png":o.RGBAFormat,"image/jpeg":o.RGBFormat};function F(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function H(e,t,n){for(var o in n.extensions)void 0===e[o]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[o]=n.extensions[o])}function U(e,t){void 0!==t.extras&&("object"===r(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function G(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,o=t.weights.length;n<o;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(n=0,o=r.length;n<o;n++)e.morphTargetDictionary[r[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function N(e){for(var t="",n=Object.keys(e).sort(),o=0,r=n.length;o<r;o++)t+=n[o]+":"+e[n[o]]+";";return t}function B(e,n,r){this.json=e||{},this.extensions=n||{},this.options=r||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new o.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new o.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function z(e,t,n){var r=t.attributes,a=[];function i(t,o){return n.getDependency("accessor",t).then((function(t){e.setAttribute(o,t)}))}for(var s in r){var l=j[s]||s.toLowerCase();l in e.attributes||a.push(i(r[s],l))}if(void 0!==t.indices&&!e.index){var c=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(c)}return U(e,t),function(e,t,n){var r=t.attributes,a=new o.Box3;if(void 0!==r.POSITION){var i=(m=n.json.accessors[r.POSITION]).min,s=m.max;if(void 0!==i&&void 0!==s){a.set(new o.Vector3(i[0],i[1],i[2]),new o.Vector3(s[0],s[1],s[2]));var l=t.targets;if(void 0!==l){for(var c=new o.Vector3,u=new o.Vector3,d=0,h=l.length;d<h;d++){var m,f=l[d];if(void 0!==f.POSITION)i=(m=n.json.accessors[f.POSITION]).min,s=m.max,void 0!==i&&void 0!==s?(u.setX(Math.max(Math.abs(i[0]),Math.abs(s[0]))),u.setY(Math.max(Math.abs(i[1]),Math.abs(s[1]))),u.setZ(Math.max(Math.abs(i[2]),Math.abs(s[2]))),c.max(u)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}a.expandByVector(c)}e.boundingBox=a;var p=new o.Sphere;a.getCenter(p.center),p.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=p}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var o=!1,r=!1,a=0,i=t.length;a<i&&(void 0!==(c=t[a]).POSITION&&(o=!0),void 0!==c.NORMAL&&(r=!0),!o||!r);a++);if(!o&&!r)return Promise.resolve(e);var s=[],l=[];for(a=0,i=t.length;a<i;a++){var c=t[a];if(o){var u=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;s.push(u)}r&&(u=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal,l.push(u))}return Promise.all([Promise.all(s),Promise.all(l)]).then((function(t){var n=t[0],a=t[1];return o&&(e.morphAttributes.position=n),r&&(e.morphAttributes.normal=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function V(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var s=n.count-2,l=[];if(t===o.TriangleFanDrawMode)for(i=1;i<=s;i++)l.push(n.getX(0)),l.push(n.getX(i)),l.push(n.getX(i+1));else for(i=0;i<s;i++)i%2==0?(l.push(n.getX(i)),l.push(n.getX(i+1)),l.push(n.getX(i+2))):(l.push(n.getX(i+2)),l.push(n.getX(i+1)),l.push(n.getX(i)));l.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(l),c}return B.prototype.parse=function(e,t){var n=this,o=this.json,r=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var a={scene:t[0][o.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:o.asset,parser:n,userData:{}};H(r,a,o),U(a,o),e(a)})).catch(t)},B.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],o={},r={},a=0,i=t.length;a<i;a++)for(var s=t[a].joints,l=0,c=s.length;l<c;l++)e[s[l]].isBone=!0;for(var u=0,d=e.length;u<d;u++){var h=e[u];void 0!==h.mesh&&(void 0===o[h.mesh]&&(o[h.mesh]=r[h.mesh]=0),o[h.mesh]++,void 0!==h.skin&&(n[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=o,this.json.meshUses=r},B.prototype.getDependency=function(e,t){var o=e+":"+t,r=this.cache.get(o);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this.loadMesh(t);break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this.loadBufferView(t);break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this.loadMaterial(t);break;case"texture":r=this.loadTexture(t);break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;case"light":r=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(o,r)}return r},B.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,o=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(o.map((function(t,o){return n.getDependency(e,o)}))),this.cache.add(e,t)}return t},B.prototype.loadBuffer=function(e){var t=this.json.buffers[e],o=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,n){o.load(F(t.uri,r.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},B.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,o=t.byteOffset||0;return e.slice(o,o+n)}))},B.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,i,s=e[0],l=A[r.type],c=x[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,h=r.byteOffset||0,m=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(m&&m!==d){var p=Math.floor(h/m),g="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,v=t.cache.get(g);v||(a=new c(s,p*m,r.count*m/u),v=new o.InterleavedBuffer(a,m/u),t.cache.add(g,v)),i=new o.InterleavedBufferAttribute(v,l,h%m/u,f)}else a=null===s?new c(r.count*l):new c(s,h,r.count*l),i=new o.BufferAttribute(a,l,f);if(void 0!==r.sparse){var b=A.SCALAR,y=x[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,L=r.sparse.values.byteOffset||0,E=new y(e[1],w,r.sparse.count*b),T=new c(e[2],L,r.sparse.count*l);null!==s&&(i=new o.BufferAttribute(i.array.slice(),i.itemSize,i.normalized));for(var S=0,M=E.length;S<M;S++){var R=E[S];if(i.setX(R,T[S*l]),l>=2&&i.setY(R,T[S*l+1]),l>=3&&i.setZ(R,T[S*l+2]),l>=4&&i.setW(R,T[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))},B.prototype.loadTexture=function(e){var t,r=this,a=this.json,i=this.options,s=this.textureLoader,l=self.URL||self.webkitURL,c=a.textures[e],u=c.extensions||{},d=(t=u[n.MSFT_TEXTURE_DDS]?a.images[u[n.MSFT_TEXTURE_DDS].source]:a.images[c.source]).uri,h=!1;return void 0!==t.bufferView&&(d=r.getDependency("bufferView",t.bufferView).then((function(e){h=!0;var n=new Blob([e],{type:t.mimeType});return d=l.createObjectURL(n)}))),Promise.resolve(d).then((function(e){var t=i.manager.getHandler(e);return t||(t=u[n.MSFT_TEXTURE_DDS]?r.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise((function(n,o){t.load(F(e,i.path),n,void 0,o)}))})).then((function(e){!0===h&&l.revokeObjectURL(d),e.flipY=!1,c.name&&(e.name=c.name),t.mimeType in I&&(e.format=I[t.mimeType]);var n=(a.samplers||{})[c.sampler]||{};return e.magFilter=R[n.magFilter]||o.LinearFilter,e.minFilter=R[n.minFilter]||o.LinearMipmapLinearFilter,e.wrapS=C[n.wrapS]||o.RepeatWrapping,e.wrapT=C[n.wrapT]||o.RepeatWrapping,e}))},B.prototype.assignTexture=function(e,t,r){var a=this;return this.getDependency("texture",r.index).then((function(i){if(!i.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":i.format=o.RGBFormat}if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),a.extensions[n.KHR_TEXTURE_TRANSFORM]){var s=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;s&&(i=a.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(i,s))}e[t]=i}))},B.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,i=void 0===t.attributes.normal,s=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,c=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+n.uuid,d=this.cache.get(u);d||(d=new o.PointsMaterial,o.Material.prototype.copy.call(d,n),d.color.copy(n.color),d.map=n.map,d.sizeAttenuation=!1,this.cache.add(u,d)),n=d}else if(e.isLine){u="LineBasicMaterial:"+n.uuid;var h=this.cache.get(u);h||(h=new o.LineBasicMaterial,o.Material.prototype.copy.call(h,n),h.color.copy(n.color),this.cache.add(u,h)),n=h}if(r||a||i||s||l){u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),s&&(u+="skinning:"),r&&(u+="vertex-tangents:"),a&&(u+="vertex-colors:"),i&&(u+="flat-shading:"),l&&(u+="morph-targets:"),c&&(u+="morph-normals:");var m=this.cache.get(u);m||(m=n.clone(),s&&(m.skinning=!0),r&&(m.vertexTangents=!0),a&&(m.vertexColors=!0),i&&(m.flatShading=!0),l&&(m.morphTargets=!0),c&&(m.morphNormals=!0),this.cache.add(u,m)),n=m}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),n.normalScale&&!r&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!r&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),e.material=n},B.prototype.loadMaterial=function(e){var t,r=this,a=this.json,i=this.extensions,s=a.materials[e],l={},c=s.extensions||{},u=[];if(c[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var d=i[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=d.getMaterialType(),u.push(d.extendParams(l,s,r))}else if(c[n.KHR_MATERIALS_UNLIT]){var h=i[n.KHR_MATERIALS_UNLIT];t=h.getMaterialType(),u.push(h.extendParams(l,s,r))}else{t=o.MeshStandardMaterial;var m=s.pbrMetallicRoughness||{};if(l.color=new o.Color(1,1,1),l.opacity=1,Array.isArray(m.baseColorFactor)){var f=m.baseColorFactor;l.color.fromArray(f),l.opacity=f[3]}void 0!==m.baseColorTexture&&u.push(r.assignTexture(l,"map",m.baseColorTexture)),l.metalness=void 0!==m.metallicFactor?m.metallicFactor:1,l.roughness=void 0!==m.roughnessFactor?m.roughnessFactor:1,void 0!==m.metallicRoughnessTexture&&(u.push(r.assignTexture(l,"metalnessMap",m.metallicRoughnessTexture)),u.push(r.assignTexture(l,"roughnessMap",m.metallicRoughnessTexture)))}!0===s.doubleSided&&(l.side=o.DoubleSide);var g=s.alphaMode||O;if(g===D?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,g===k&&(l.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&t!==o.MeshBasicMaterial&&(u.push(r.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new o.Vector2(1,1),void 0!==s.normalTexture.scale&&l.normalScale.set(s.normalTexture.scale,s.normalTexture.scale)),void 0!==s.occlusionTexture&&t!==o.MeshBasicMaterial&&(u.push(r.assignTexture(l,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(l.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&t!==o.MeshBasicMaterial&&(l.emissive=(new o.Color).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&t!==o.MeshBasicMaterial&&u.push(r.assignTexture(l,"emissiveMap",s.emissiveTexture)),c[n.KHR_MATERIALS_CLEARCOAT]){var v=i[n.KHR_MATERIALS_CLEARCOAT];t=v.getMaterialType(),u.push(v.extendParams(l,{extensions:c},r))}return Promise.all(u).then((function(){var e;return e=t===p?i[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):new t(l),s.name&&(e.name=s.name),e.map&&(e.map.encoding=o.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=o.sRGBEncoding),U(e,s),s.extensions&&H(i,e,s),e}))},B.prototype.loadGeometries=function(e){var t=this,r=this.extensions,a=this.primitiveCache;function i(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return z(n,e,t)}))}for(var s,l,c=[],u=0,d=e.length;u<d;u++){var h,m=e[u],f=(l=void 0,(l=(s=m).extensions&&s.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+N(l.attributes):s.indices+":"+N(s.attributes)+":"+s.mode),p=a[f];if(p)c.push(p.promise);else h=m.extensions&&m.extensions[n.KHR_DRACO_MESH_COMPRESSION]?i(m):z(new o.BufferGeometry,m,t),a[f]={primitive:m,promise:h},c.push(h)}return Promise.all(c)},B.prototype.loadMesh=function(e){for(var t,n=this,r=this.json.meshes[e],a=r.primitives,i=[],s=0,l=a.length;s<l;s++){var c=void 0===a[s].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new o.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:o.FrontSide})),t.DefaultMaterial):this.getDependency("material",a[s].material);i.push(c)}return i.push(n.loadGeometries(a)),Promise.all(i).then((function(t){for(var i=t.slice(0,t.length-1),s=t[t.length-1],l=[],c=0,u=s.length;c<u;c++){var d,h=s[c],m=a[c],f=i[c];if(m.mode===T||m.mode===S||m.mode===M||void 0===m.mode)!0!==(d=!0===r.isSkinnedMesh?new o.SkinnedMesh(h,f):new o.Mesh(h,f)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),m.mode===S?d.geometry=V(d.geometry,o.TriangleStripDrawMode):m.mode===M&&(d.geometry=V(d.geometry,o.TriangleFanDrawMode));else if(m.mode===w)d=new o.LineSegments(h,f);else if(m.mode===E)d=new o.Line(h,f);else if(m.mode===L)d=new o.LineLoop(h,f);else{if(m.mode!==y)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);d=new o.Points(h,f)}Object.keys(d.geometry.morphAttributes).length>0&&G(d,r),d.name=r.name||"mesh_"+e,s.length>1&&(d.name+="_"+c),U(d,r),n.assignFinalMaterial(d),l.push(d)}if(1===l.length)return l[0];var p=new o.Group;for(c=0,u=l.length;c<u;c++)p.add(l[c]);return p}))},B.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new o.PerspectiveCamera(o.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new o.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=n.name),U(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},B.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},B.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],i=[],s=[],l=0,c=t.channels.length;l<c;l++){var u=t.channels[l],d=t.samplers[u.sampler],h=u.target,m=void 0!==h.node?h.node:h.id,f=void 0!==t.parameters?t.parameters[d.input]:d.input,p=void 0!==t.parameters?t.parameters[d.output]:d.output;n.push(this.getDependency("node",m)),r.push(this.getDependency("accessor",f)),a.push(this.getDependency("accessor",p)),i.push(d),s.push(h)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(i),Promise.all(s)]).then((function(n){for(var r=n[0],a=n[1],i=n[2],s=n[3],l=n[4],c=[],u=0,d=r.length;u<d;u++){var h=r[u],m=a[u],f=i[u],p=s[u],g=l[u];if(void 0!==h){var v;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,P[g.path]){case P.weights:v=o.NumberKeyframeTrack;break;case P.rotation:v=o.QuaternionKeyframeTrack;break;case P.position:case P.scale:default:v=o.VectorKeyframeTrack}var y=h.name?h.name:h.uuid,w=void 0!==p.interpolation?_[p.interpolation]:o.InterpolateLinear,L=[];P[g.path]===P.weights?h.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&L.push(e.name?e.name:e.uuid)})):L.push(y);var E=f.array;if(f.normalized){var T;if(E.constructor===Int8Array)T=1/127;else if(E.constructor===Uint8Array)T=1/255;else if(E.constructor==Int16Array)T=1/32767;else{if(E.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");T=1/65535}for(var S=new Float32Array(E.length),M=0,x=E.length;M<x;M++)S[M]=E[M]*T;E=S}for(M=0,x=L.length;M<x;M++){var R=new v(L[M]+"."+P[g.path],m.array,E,w);"CUBICSPLINE"===p.interpolation&&(R.createInterpolant=function(e){return new b(this.times,this.values,this.getValueSize()/3,e)},R.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(R)}}}var C=t.name?t.name:"animation_"+e;return new o.AnimationClip(C,void 0,c)}))},B.prototype.loadNode=function(e){var t,r=this.json,a=this.extensions,i=this,s=r.meshReferences,l=r.meshUses,c=r.nodes[e];return(t=[],void 0!==c.mesh&&t.push(i.getDependency("mesh",c.mesh).then((function(e){var t;if(s[c.mesh]>1){var n=l[c.mesh]++;(t=e.clone()).name+="_instance_"+n}else t=e;return void 0!==c.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=c.weights.length;t<n;t++)e.morphTargetInfluences[t]=c.weights[t]})),t}))),void 0!==c.camera&&t.push(i.getDependency("camera",c.camera)),c.extensions&&c.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==c.extensions[n.KHR_LIGHTS_PUNCTUAL].light&&t.push(i.getDependency("light",c.extensions[n.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===c.isBone?new o.Bone:e.length>1?new o.Group:1===e.length?e[0]:new o.Object3D)!==e[0])for(var n=0,r=e.length;n<r;n++)t.add(e[n]);if(c.name&&(t.userData.name=c.name,t.name=o.PropertyBinding.sanitizeNodeName(c.name)),U(t,c),c.extensions&&H(a,t,c),void 0!==c.matrix){var i=new o.Matrix4;i.fromArray(c.matrix),t.applyMatrix4(i)}else void 0!==c.translation&&t.position.fromArray(c.translation),void 0!==c.rotation&&t.quaternion.fromArray(c.rotation),void 0!==c.scale&&t.scale.fromArray(c.scale);return t}))},B.prototype.loadScene=function(){function e(t,n,r,a){var i=r.nodes[t];return a.getDependency("node",t).then((function(e){return void 0===i.skin?e:a.getDependency("skin",i.skin).then((function(e){for(var n=[],o=0,r=(t=e).joints.length;o<r;o++)n.push(a.getDependency("node",t.joints[o]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],a=[],i=0,s=n.length;i<s;i++){var l=n[i];if(l){r.push(l);var c=new o.Matrix4;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*i),a.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new o.Skeleton(r,a),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var o=[];if(i.children)for(var s=i.children,l=0,c=s.length;l<c;l++){var u=s[l];o.push(e(u,t,r,a))}return Promise.all(o)}))}return function(t){var n=this.json,r=this.extensions,a=this.json.scenes[t],i=new o.Group;a.name&&(i.name=a.name),U(i,a),a.extensions&&H(r,i,a);for(var s=a.nodes||[],l=[],c=0,u=s.length;c<u;c++)l.push(e(s[c],i,n,this));return Promise.all(l).then((function(){return i}))}}(),e}()},"./src/js/app/managers/datGUI.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./src/js/data/config.js");function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gui=new dat.GUI,this.camera=t.camera.threeCamera,this.controls=t.controls.threeControls,this.light=t.light,this.scene=t.scene,this.model=null,this.meshHelper=null}var t,n,a;return t=e,(n=[{key:"load",value:function(e,t){var n=this;this.model=e.model,this.meshHelper=e.meshHelper;var a=this.gui.addFolder("Camera"),i=a.add(o.default.camera,"fov",0,180).name("Camera FOV");i.onChange((function(e){n.controls.enableRotate=!1,n.camera.fov=e})),i.onFinishChange((function(){n.camera.updateProjectionMatrix(),n.controls.enableRotate=!0}));var s=a.add(o.default.camera,"aspect",0,4).name("Camera Aspect");s.onChange((function(e){n.controls.enableRotate=!1,n.camera.aspect=e})),s.onFinishChange((function(){n.camera.updateProjectionMatrix(),n.controls.enableRotate=!0})),a.addColor(o.default.fog,"color").name("Fog Color").onChange((function(e){n.scene.fog.color.setHex(e)}));var l=a.add(o.default.fog,"near",0,.01).name("Fog Near");l.onChange((function(e){n.controls.enableRotate=!1,n.scene.fog.density=e})),l.onFinishChange((function(){n.controls.enableRotate=!0}));var c=this.gui.addFolder("Controls");c.add(o.default.controls,"autoRotate").name("Auto Rotate").onChange((function(e){n.controls.autoRotate=e}));var u=c.add(o.default.controls,"autoRotateSpeed",-1,1).name("Rotation Speed");u.onChange((function(e){n.controls.enableRotate=!1,n.controls.autoRotateSpeed=e})),u.onFinishChange((function(){n.controls.enableRotate=!0})),this.gui.addFolder("Model").add(o.default.model,"type",r(o.default.model.initialTypes)).name("Select Model").onChange((function(e){e&&(o.default.mesh.enableHelper&&n.meshHelper.disable(),o.default.model.selected=o.default.model.initialTypes.indexOf(e),n.unload(),n.model.unload(),n.model.load(e))}));var d=this.gui.addFolder("Mesh");d.add(o.default.mesh,"enableHelper",!0).name("Enable Helpers").onChange((function(e){e?n.meshHelper.enable():n.meshHelper.disable()})),d.add(o.default.mesh,"translucent",!0).name("Translucent").onChange((function(e){e?(t.material.transparent=!0,t.material.opacity=.5):t.material.opacity=1})),d.add(o.default.mesh,"wireframe",!0).name("Wireframe").onChange((function(e){t.material.wireframe=e}));var h=this.gui.addFolder("Ambient Light");h.add(o.default.ambientLight,"enabled").name("Enabled").onChange((function(e){n.light.ambientLight.visible=e})),h.addColor(o.default.ambientLight,"color").name("Color").onChange((function(e){n.light.ambientLight.color.setHex(e)}));var m=this.gui.addFolder("Directional Light");m.add(o.default.directionalLight,"enabled").name("Enabled").onChange((function(e){n.light.directionalLight.visible=e})),m.addColor(o.default.directionalLight,"color").name("Color").onChange((function(e){n.light.directionalLight.color.setHex(e)}));var f=m.add(o.default.directionalLight,"intensity",0,2).name("Intensity");f.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.intensity=e})),f.onFinishChange((function(){n.controls.enableRotate=!0}));var p=m.add(o.default.directionalLight,"x",-1e3,1e3).name("Position X");p.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.position.x=e})),p.onFinishChange((function(){n.controls.enableRotate=!0}));var g=m.add(o.default.directionalLight,"y",-1e3,1e3).name("Position Y");g.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.position.y=e})),g.onFinishChange((function(){n.controls.enableRotate=!0}));var v=m.add(o.default.directionalLight,"z",-1e3,1e3).name("Position Z");v.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.position.z=e})),v.onFinishChange((function(){n.controls.enableRotate=!0}));var b=this.gui.addFolder("Shadow Map");b.add(o.default.shadow,"enabled").name("Enabled").onChange((function(e){n.light.directionalLight.castShadow=e})),b.add(o.default.shadow,"helperEnabled").name("Helper Enabled").onChange((function(e){n.light.directionalLightHelper.visible=e}));var y=b.add(o.default.shadow,"near",0,400).name("Near");y.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.near=e})),y.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var w=b.add(o.default.shadow,"far",0,1200).name("Far");w.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.far=e})),w.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var L=b.add(o.default.shadow,"top",-400,400).name("Top");L.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.top=e})),L.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var E=b.add(o.default.shadow,"right",-400,400).name("Right");E.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.right=e})),E.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var T=b.add(o.default.shadow,"bottom",-400,400).name("Bottom");T.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.bottom=e})),T.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var S=b.add(o.default.shadow,"left",-400,400).name("Left");S.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.camera.left=e})),S.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var M=b.add(o.default.shadow,"bias",-1e-5,1).name("Bias");M.onChange((function(e){n.controls.enableRotate=!1,n.light.directionalLight.shadow.bias=e})),M.onFinishChange((function(){n.controls.enableRotate=!0,n.light.directionalLight.shadow.map.dispose(),n.light.directionalLight.shadow.map=null,n.light.directionalLightHelper.update()}));var x=this.gui.addFolder("Point Light");x.add(o.default.pointLight,"enabled").name("Enabled").onChange((function(e){n.light.pointLight.visible=e})),x.addColor(o.default.pointLight,"color").name("Color").onChange((function(e){n.light.pointLight.color.setHex(e)}));var R=x.add(o.default.pointLight,"intensity",0,2).name("Intensity");R.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.intensity=e})),R.onFinishChange((function(){n.controls.enableRotate=!0}));var C=x.add(o.default.pointLight,"distance",0,1e3).name("Distance");C.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.distance=e})),C.onFinishChange((function(){n.controls.enableRotate=!0}));var A=x.add(o.default.pointLight,"x",-1e3,1e3).name("Position X");A.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.position.x=e})),A.onFinishChange((function(){n.controls.enableRotate=!0}));var j=x.add(o.default.pointLight,"y",-1e3,1e3).name("Position Y");j.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.position.y=e})),j.onFinishChange((function(){n.controls.enableRotate=!0}));var P=x.add(o.default.pointLight,"z",-1e3,1e3).name("Position Z");P.onChange((function(e){n.controls.enableRotate=!1,n.light.pointLight.position.z=e})),P.onFinishChange((function(){n.controls.enableRotate=!0}));var _=this.gui.addFolder("Hemi Light");_.add(o.default.hemiLight,"enabled").name("Enabled").onChange((function(e){n.light.hemiLight.visible=e})),_.addColor(o.default.hemiLight,"color").name("Color").onChange((function(e){n.light.hemiLight.color.setHex(e)})),_.addColor(o.default.hemiLight,"groundColor").name("ground Color").onChange((function(e){n.light.hemiLight.groundColor.setHex(e)}));var O=_.add(o.default.hemiLight,"intensity",0,2).name("Intensity");O.onChange((function(e){n.controls.enableRotate=!1,n.light.hemiLight.intensity=e})),O.onFinishChange((function(){n.controls.enableRotate=!0}));var k=_.add(o.default.hemiLight,"x",-1e3,1e3).name("Position X");k.onChange((function(e){n.controls.enableRotate=!1,n.light.hemiLight.position.x=e})),k.onFinishChange((function(){n.controls.enableRotate=!0}));var D=_.add(o.default.hemiLight,"y",-500,1e3).name("Position Y");D.onChange((function(e){n.controls.enableRotate=!1,n.light.hemiLight.position.y=e})),D.onFinishChange((function(){n.controls.enableRotate=!0}));var I=_.add(o.default.hemiLight,"z",-1e3,1e3).name("Position Z");I.onChange((function(e){n.controls.enableRotate=!1,n.light.hemiLight.position.z=e})),I.onFinishChange((function(){n.controls.enableRotate=!0}))}},{key:"unload",value:function(){this.gui.destroy(),this.gui=new dat.GUI}}])&&i(t.prototype,n),a&&i(t,a),e}()},"./src/js/app/managers/interaction.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./src/js/utils/keyboard.js"),r=n("./src/js/utils/helpers.js"),a=n("./src/js/data/config.js");function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(t,n,a,i){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.scene=n,this.camera=a,this.controls=i,this.timeout=null,this.keyboard=new o.default,this.renderer.domElement.addEventListener("mousemove",(function(e){return r.default.throttle(s.onMouseMove(e),250)}),!1),this.renderer.domElement.addEventListener("mouseleave",(function(e){return s.onMouseLeave(e)}),!1),this.renderer.domElement.addEventListener("mouseover",(function(e){return s.onMouseOver(e)}),!1),this.keyboard.domElement.addEventListener("keydown",(function(e){e.repeat||s.keyboard.eventMatches(e,"escape")&&console.log("Escape pressed")}))}var t,n,s;return t=e,(n=[{key:"onMouseOver",value:function(e){e.preventDefault(),a.default.isMouseOver=!0}},{key:"onMouseLeave",value:function(e){e.preventDefault(),a.default.isMouseOver=!1}},{key:"onMouseMove",value:function(e){e.preventDefault(),clearTimeout(this.timeout),this.timeout=setTimeout((function(){a.default.isMouseMoving=!1}),200),a.default.isMouseMoving=!0}}])&&i(t.prototype,n),s&&i(t,s),e}()},"./src/js/app/model/model.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n("./node_modules/three/build/three.module.js"),r=n("./src/js/app/components/material.js"),a=n("./src/js/utils/helpers.js"),i=n("./src/js/utils/bufferGeometryUtils.js"),s=n("./src/js/app/loaders/GLTFLoader.js"),l=n("./src/js/data/config.js");function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.textures=o,this.manager=n,this.obj=null,this.ref=null}var t,n,u;return t=e,(n=[{key:"load",value:function(e){var t=this;switch(e){case"gltf":new s.GLTFLoader(this.manager).load(l.default.models[l.default.model.selected].path,(function(e){var n,r=e.scene;l.default.shadow.enabled&&r.traverse((function(e){(e.isMesh||e.isLight)&&(e.castShadow=!0),e.isMesh&&(e.material.wireframe=l.default.mesh.wireframe,n=e)})),t.obj=n,i.BufferGeometryUtils.computeTangents(n.geometry);var a=new o.Group;a.scale.multiplyScalar(.25),t.scene.add(a),t.ref=a,a.updateMatrixWorld(!0),a.add(n),t.scene.add(r)}),a.default.logProgress(),a.default.logError());break;case"object":new o.ObjectLoader(this.manager).load(l.default.models[l.default.model.selected].path,(function(e){e.traverse((function(e){if(e instanceof o.Mesh){var n=new r.default(16777215).standard;n.map=t.textures.UV,e.material=n,l.default.shadow.enabled&&(e.receiveShadow=!0,e.castShadow=!0)}})),t.obj=e,t.ref=e,e.scale.multiplyScalar(l.default.models[l.default.model.selected].scale),t.scene.add(e)}),a.default.logProgress(),a.default.logError())}}},{key:"unload",value:function(){this.scene.remove(this.ref)}}])&&c(t.prototype,n),u&&c(t,u),e}()},"./src/js/app/model/texture.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n("./node_modules/three/build/three.module.js"),r=n("./node_modules/es6-promise/dist/es6-promise.js"),a=n("./src/js/utils/helpers.js"),i=n("./src/js/data/config.js");function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textures={}}var t,n,l;return t=e,(n=[{key:"load",value:function(){var e=this,t=new o.TextureLoader,n=i.default.maxAnisotropy,s=i.default.texture.imageFiles,l=[];return t.setPath(i.default.texture.path),s.forEach((function(e){l.push(new r.Promise((function(r,i){t.load(e.image,(function(t){t.anisotropy=n;var a={};a[e.name]=t,a[e.name]instanceof o.Texture&&r(a)}),a.default.logProgress(),(function(t){return i(new Error(t+"An error occurred loading while loading "+e.image))}))})))})),r.Promise.all(l).then((function(t){for(var n=0;n<t.length;n++)e.textures[Object.keys(t[n])[0]]=t[n][Object.keys(t[n])[0]]}),(function(e){return console.log(e)}))}}])&&s(t.prototype,n),l&&s(t,l),e}()},"./src/js/data/config.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:n("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,model:{selected:0,initialTypes:["gltf","object"],type:"gltf"},models:[{path:"./assets/models/duck.gltf",scale:20,type:"gltf"},{path:"./assets/models/Teapot.json",scale:20,type:"object"}],texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!0,wireframe:!1,translucent:!1,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:40,near:2,far:1e3,aspect:1,posX:0,posY:30,posZ:40},controls:{autoRotate:!1,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:200,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/utils/bufferGeometryUtils.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BufferGeometryUtils:()=>r});var o=n("./node_modules/three/build/three.module.js"),r={computeTangents:function(e){var t=e.index,n=e.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var r=t.array,a=n.position.array,i=n.normal.array,s=n.uv.array,l=a.length/3;void 0===n.tangent&&e.setAttribute("tangent",new o.BufferAttribute(new Float32Array(4*l),4));for(var c=n.tangent.array,u=[],d=[],h=0;h<l;h++)u[h]=new o.Vector3,d[h]=new o.Vector3;var m=new o.Vector3,f=new o.Vector3,p=new o.Vector3,g=new o.Vector2,v=new o.Vector2,b=new o.Vector2,y=new o.Vector3,w=new o.Vector3,L=e.groups;0===L.length&&(L=[{start:0,count:r.length}]);h=0;for(var E=L.length;h<E;++h)for(var T=O=(_=L[h]).start,S=O+_.count;T<S;T+=3)k(r[T+0],r[T+1],r[T+2]);var M,x,R,C=new o.Vector3,A=new o.Vector3,j=new o.Vector3,P=new o.Vector3;for(h=0,E=L.length;h<E;++h){var _,O;for(T=O=(_=L[h]).start,S=O+_.count;T<S;T+=3)D(r[T+0]),D(r[T+1]),D(r[T+2])}}else console.error("THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function k(e,t,n){m.fromArray(a,3*e),f.fromArray(a,3*t),p.fromArray(a,3*n),g.fromArray(s,2*e),v.fromArray(s,2*t),b.fromArray(s,2*n),f.sub(m),p.sub(m),v.sub(g),b.sub(g);var o=1/(v.x*b.y-b.x*v.y);isFinite(o)&&(y.copy(f).multiplyScalar(b.y).addScaledVector(p,-v.y).multiplyScalar(o),w.copy(p).multiplyScalar(v.x).addScaledVector(f,-b.x).multiplyScalar(o),u[e].add(y),u[t].add(y),u[n].add(y),d[e].add(w),d[t].add(w),d[n].add(w))}function D(e){j.fromArray(i,3*e),P.copy(j),x=u[e],C.copy(x),C.sub(j.multiplyScalar(j.dot(x))).normalize(),A.crossVectors(P,x),R=A.dot(d[e]),M=R<0?-1:1,c[4*e]=C.x,c[4*e+1]=C.y,c[4*e+2]=C.z,c[4*e+3]=M}},mergeBufferGeometries:function(e,t){for(var n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),i={},s={},l=e[0].morphTargetsRelative,c=new o.BufferGeometry,u=0,d=0;d<e.length;++d){var h=e[d],m=0;if(n!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var f in h.attributes){if(!r.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;void 0===i[f]&&(i[f]=[]),i[f].push(h.attributes[f]),m++}if(m!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(l!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var f in h.morphAttributes){if(!a.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[f]&&(s[f]=[]),s[f].push(h.morphAttributes[f])}if(c.userData.mergedUserData=c.userData.mergedUserData||[],c.userData.mergedUserData.push(h.userData),t){var p;if(n)p=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;p=h.attributes.position.count}c.addGroup(u,p,d),u+=p}}if(n){var g=0,v=[];for(d=0;d<e.length;++d){for(var b=e[d].index,y=0;y<b.count;++y)v.push(b.getX(y)+g);g+=e[d].attributes.position.count}c.setIndex(v)}for(var f in i){var w=this.mergeBufferAttributes(i[f]);if(!w)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+f+" attribute."),null;c.setAttribute(f,w)}for(var f in s){var L=s[f][0].length;if(0===L)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[f]=[];for(d=0;d<L;++d){var E=[];for(y=0;y<s[f].length;++y)E.push(s[f][y][d]);var T=this.mergeBufferAttributes(E);if(!T)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+f+" morphAttribute."),null;c.morphAttributes[f].push(T)}}return c},mergeBufferAttributes:function(e){for(var t,n,r,a=0,i=0;i<e.length;++i){var s=e[i];if(s.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===r&&(r=s.normalized),r!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;a+=s.array.length}var l=new t(a),c=0;for(i=0;i<e.length;++i)l.set(e[i].array,c),c+=e[i].array.length;return new o.BufferAttribute(l,n,r)},interleaveAttributes:function(e){for(var t,n=0,r=0,a=0,i=e.length;a<i;++a){var s=e[a];if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=s.array.length,r+=s.itemSize}var l=new o.InterleavedBuffer(new t(n),r),c=0,u=[],d=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"],m=0;for(i=e.length;m<i;m++){var f=(s=e[m]).itemSize,p=s.count,g=new o.InterleavedBufferAttribute(l,f,c,s.normalized);u.push(g),c+=f;for(var v=0;v<p;v++)for(var b=0;b<f;b++)g[h[b]](v,s[d[b]](v))}return u},estimateBytesUsed:function(e){var t=0;for(var n in e.attributes){var o=e.getAttribute(n);t+=o.count*o.itemSize*o.array.BYTES_PER_ELEMENT}var r=e.getIndex();return t+=r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),a=e.getAttribute("position"),i=r?r.count:a.count,s=0,l=Object.keys(e.attributes),c={},u={},d=[],h=["getX","getY","getZ","getW"],m=0,f=l.length;m<f;m++){c[w=l[m]]=[],(S=e.morphAttributes[w])&&(u[w]=new Array(S.length).fill().map((function(){return[]})))}var p=Math.log10(1/t),g=Math.pow(10,p);for(m=0;m<i;m++){var v=r?r.getX(m):m,b="",y=0;for(f=l.length;y<f;y++)for(var w=l[y],L=(T=e.getAttribute(w)).itemSize,E=0;E<L;E++)b+="".concat(~~(T[h[E]](v)*g),",");if(b in n)d.push(n[b]);else{for(y=0,f=l.length;y<f;y++){w=l[y];var T=e.getAttribute(w),S=e.morphAttributes[w],M=(L=T.itemSize,c[w]),x=u[w];for(E=0;E<L;E++){var R=h[E];if(M.push(T[R](v)),S)for(var C=0,A=S.length;C<A;C++)x[C].push(S[C][R](v))}}n[b]=s,d.push(s),s++}}var j=e.clone();for(m=0,f=l.length;m<f;m++){w=l[m];var P=e.getAttribute(w),_=new P.array.constructor(c[w]);T=new o.BufferAttribute(_,P.itemSize,P.normalized);if(j.setAttribute(w,T),w in u)for(y=0;y<u[w].length;y++){var O=e.morphAttributes[w][y],k=(_=new O.array.constructor(u[w][y]),new o.BufferAttribute(_,O.itemSize,O.normalized));j.morphAttributes[w][y]=k}}return j.setIndex(d),j},toTrianglesDrawMode:function(e,t){if(t===o.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===o.TriangleFanDrawMode||t===o.TriangleStripDrawMode){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var s=n.count-2,l=[];if(t===o.TriangleFanDrawMode)for(i=1;i<=s;i++)l.push(n.getX(0)),l.push(n.getX(i)),l.push(n.getX(i+1));else for(i=0;i<s;i++)i%2==0?(l.push(n.getX(i)),l.push(n.getX(i+1)),l.push(n.getX(i+2))):(l.push(n.getX(i+2)),l.push(n.getX(i+1)),l.push(n.getX(i)));l.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(l),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}}},"./src/js/utils/detector.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,n,o;t=void 0!==(e=e||{}).parent?e.parent:document.body,n=void 0!==e.id?e.id:"oldie",(o=this.getWebGLErrorMessage()).id=n,t.appendChild(o)}}},"./src/js/utils/helpers.js":(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t),n.d(t,{default:()=>r});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"throttle",value:function(e,t,n){var o,r;return t||(t=250),function(){var a=n||this,i=+new Date,s=arguments;o&&i<o+t?(clearTimeout(r),r=setTimeout((function(){o=i,e.apply(a,s)}),t)):(o=i,e.apply(a,s))}}},{key:"logProgress",value:function(){return function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}}}},{key:"logError",value:function(){return function(e){console.error(e)}}},{key:"handleColorChange",value:function(e){return function(t){"string"==typeof t&&(t=t.replace("#","0x")),e.setHex(t)}}},{key:"update",value:function(e){this.needsUpdate(e.material,e.geometry)}},{key:"needsUpdate",value:function(e,t){return function(){e.shading=+e.shading,e.vertexColors=+e.vertexColors,e.side=+e.side,e.needsUpdate=!0,t.verticesNeedUpdate=!0,t.normalsNeedUpdate=!0,t.colorsNeedUpdate=!0}}},{key:"updateTexture",value:function(e,t,n){return function(o){e[t]=n[o],e.needsUpdate=!0}}}],(n=null)&&o(t.prototype,n),r&&o(t,r),e}()},"./src/js/utils/keyboard.js":(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t),n.d(t,{default:()=>a});var r={left:37,up:38,right:39,down:40,space:32,tab:9,escape:27},a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domElement=t||document,this.keyCodes={},this.domElement.addEventListener("keydown",(function(e){return n.onKeyChange(e)}),!1),this.domElement.addEventListener("keyup",(function(e){return n.onKeyChange(e)}),!1),window.addEventListener("blur",(function(){return n.onBlur}),!1)}var t,n,a;return t=e,(n=[{key:"destroy",value:function(){var e=this;this.domElement.removeEventListener("keydown",(function(t){return e.onKeyChange(t)}),!1),this.domElement.removeEventListener("keyup",(function(t){return e.onKeyChange(t)}),!1),window.removeEventListener("blur",(function(){return e.onBlur}),!1)}},{key:"onBlur",value:function(){for(var e in this.keyCodes)this.keyCodes[e]=!1}},{key:"onKeyChange",value:function(e){var t=e.keyCode;this.keyCodes[t]="keydown"===e.type}},{key:"pressed",value:function(e){for(var t=e.split("+"),n=0;n<t.length;n++){var o=t[n],a=!1;if(a=-1!=Object.keys(r).indexOf(o)?this.keyCodes[r[o]]:this.keyCodes[o.toUpperCase().charCodeAt(0)],!a)return!1}return!0}},{key:"eventMatches",value:function(e,t){for(var n=r,o=Object.keys(n),a=t.split("+"),i=0;i<a.length;i++){var s=a[i],l=!1;if("shift"===s?l=!!e.shiftKey:"ctrl"===s?l=!!e.ctrlKey:"alt"===s?l=!!e.altKey:"meta"===s?l=!!e.metaKey:-1!==o.indexOf(s)?l=e.keyCode===n[s]:e.keyCode===s.toUpperCase().charCodeAt(0)&&(l=!0),!l)return!1}return!0}}])&&o(t.prototype,n),a&&o(t,a),e}()},"./src/js/utils/orbitControls.js":e=>{e.exports=function(e){var t=e.MOUSE;function n(t){this.object=t,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25;var n,o,r,a,i,s,l,c,u=this,d=1e-6,h=0,m=0,f=1,p=new e.Vector3,g=!1;this.getPolarAngle=function(){return o},this.getAzimuthalAngle=function(){return n},this.rotateLeft=function(e){m-=e},this.rotateUp=function(e){h-=e},this.panLeft=(r=new e.Vector3,function(e){var t=this.object.matrix.elements;r.set(t[0],t[1],t[2]),r.multiplyScalar(-e),p.add(r)}),this.panUp=function(){var t=new e.Vector3;return function(e){var n=this.object.matrix.elements;t.set(n[4],n[5],n[6]),t.multiplyScalar(e),p.add(t)}}(),this.pan=function(t,n,o,r){if(u.object instanceof e.PerspectiveCamera){var a=u.object.position.clone().sub(u.target).length();a*=Math.tan(u.object.fov/2*Math.PI/180),u.panLeft(2*t*a/r),u.panUp(2*n*a/r)}else u.object instanceof e.OrthographicCamera?(u.panLeft(t*(u.object.right-u.object.left)/o),u.panUp(n*(u.object.top-u.object.bottom)/r)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){u.object instanceof e.PerspectiveCamera?f/=t:u.object instanceof e.OrthographicCamera?(u.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),u.object.updateProjectionMatrix(),g=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(t){u.object instanceof e.PerspectiveCamera?f*=t:u.object instanceof e.OrthographicCamera?(u.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),u.object.updateProjectionMatrix(),g=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=(a=new e.Vector3,i=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),s=i.clone().inverse(),l=new e.Vector3,c=new e.Quaternion,function(){var e=this.object.position;a.copy(e).sub(this.target),a.applyQuaternion(i),n=Math.atan2(a.x,a.z),o=Math.atan2(Math.sqrt(a.x*a.x+a.z*a.z),a.y),n+=m,o+=h,n=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,n)),o=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o)),o=Math.max(d,Math.min(Math.PI-d,o));var t=a.length()*f;return t=Math.max(this.minDistance,Math.min(this.maxDistance,t)),this.target.add(p),a.x=t*Math.sin(o)*Math.sin(n),a.y=t*Math.cos(o),a.z=t*Math.sin(o)*Math.cos(n),a.applyQuaternion(s),e.copy(this.target).add(a),this.object.lookAt(this.target),!0===this.enableDamping?(m*=1-this.dampingFactor,h*=1-this.dampingFactor):(m=0,h=0),f=1,p.set(0,0,0),!!(g||l.distanceToSquared(this.object.position)>d||8*(1-c.dot(this.object.quaternion))>d)&&(l.copy(this.object.position),c.copy(this.object.quaternion),g=!1,!0)})}function o(t,o){var r=new n(t);this.domElement=void 0!==o?o:document,Object.defineProperty(this,"constraint",{get:function(){return r}}),this.getPolarAngle=function(){return r.getPolarAngle()},this.getAzimuthalAngle=function(){return r.getAzimuthalAngle()},this.enabled=!0,this.center=this.target,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT};var a=this,i=new e.Vector2,s=new e.Vector2,l=new e.Vector2,c=new e.Vector2,u=new e.Vector2,d=new e.Vector2,h=new e.Vector2,m=new e.Vector2,f=new e.Vector2,p=-1,g=0,v=1,b=2,y=3,w=4,L=5,E=p;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var T={type:"change"},S={type:"start"},M={type:"end"};function x(e,t){var n=a.domElement===document?a.domElement.body:a.domElement;r.pan(e,t,n.clientWidth,n.clientHeight)}function R(){return Math.pow(.95,a.zoomSpeed)}function C(e){if(!1!==a.enabled){if(e.preventDefault(),e.button===a.mouseButtons.ORBIT){if(!1===a.enableRotate)return;E=g,i.set(e.clientX,e.clientY)}else if(e.button===a.mouseButtons.ZOOM){if(!1===a.enableZoom)return;E=v,h.set(e.clientX,e.clientY)}else if(e.button===a.mouseButtons.PAN){if(!1===a.enablePan)return;E=b,c.set(e.clientX,e.clientY)}E!==p&&(document.addEventListener("mousemove",A,!1),document.addEventListener("mouseup",j,!1),a.dispatchEvent(S))}}function A(e){if(!1!==a.enabled){e.preventDefault();var t=a.domElement===document?a.domElement.body:a.domElement;if(E===g){if(!1===a.enableRotate)return;s.set(e.clientX,e.clientY),l.subVectors(s,i),r.rotateLeft(2*Math.PI*l.x/t.clientWidth*a.rotateSpeed),r.rotateUp(2*Math.PI*l.y/t.clientHeight*a.rotateSpeed),i.copy(s)}else if(E===v){if(!1===a.enableZoom)return;m.set(e.clientX,e.clientY),f.subVectors(m,h),f.y>0?r.dollyIn(R()):f.y<0&&r.dollyOut(R()),h.copy(m)}else if(E===b){if(!1===a.enablePan)return;u.set(e.clientX,e.clientY),d.subVectors(u,c),x(d.x,d.y),c.copy(u)}E!==p&&a.update()}}function j(){!1!==a.enabled&&(document.removeEventListener("mousemove",A,!1),document.removeEventListener("mouseup",j,!1),a.dispatchEvent(M),E=p)}function P(e){if(!1!==a.enabled&&!1!==a.enableZoom&&E===p){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?r.dollyOut(R()):t<0&&r.dollyIn(R()),a.update(),a.dispatchEvent(S),a.dispatchEvent(M)}}function _(e){if(!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan)switch(e.keyCode){case a.keys.UP:x(0,a.keyPanSpeed),a.update();break;case a.keys.BOTTOM:x(0,-a.keyPanSpeed),a.update();break;case a.keys.LEFT:x(a.keyPanSpeed,0),a.update();break;case a.keys.RIGHT:x(-a.keyPanSpeed,0),a.update()}}function O(e){if(!1!==a.enabled){switch(e.touches.length){case 1:if(!1===a.enableRotate)return;E=y,i.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(!1===a.enableZoom)return;E=w;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);h.set(0,o);break;case 3:if(!1===a.enablePan)return;E=L,c.set(e.touches[0].pageX,e.touches[0].pageY);break;default:E=p}E!==p&&a.dispatchEvent(S)}}function k(e){if(!1!==a.enabled){e.preventDefault(),e.stopPropagation();var t=a.domElement===document?a.domElement.body:a.domElement;switch(e.touches.length){case 1:if(!1===a.enableRotate)return;if(E!==y)return;s.set(e.touches[0].pageX,e.touches[0].pageY),l.subVectors(s,i),r.rotateLeft(2*Math.PI*l.x/t.clientWidth*a.rotateSpeed),r.rotateUp(2*Math.PI*l.y/t.clientHeight*a.rotateSpeed),i.copy(s),a.update();break;case 2:if(!1===a.enableZoom)return;if(E!==w)return;var n=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,g=Math.sqrt(n*n+o*o);m.set(0,g),f.subVectors(m,h),f.y>0?r.dollyOut(R()):f.y<0&&r.dollyIn(R()),h.copy(m),a.update();break;case 3:if(!1===a.enablePan)return;if(E!==L)return;u.set(e.touches[0].pageX,e.touches[0].pageY),d.subVectors(u,c),x(d.x,d.y),c.copy(u),a.update();break;default:E=p}}}function D(){!1!==a.enabled&&(a.dispatchEvent(M),E=p)}function I(e){e.preventDefault()}this.update=function(){this.autoRotate&&E===p&&r.rotateLeft(2*Math.PI/60/60*a.autoRotateSpeed),!0===r.update()&&this.dispatchEvent(T)},this.reset=function(){E=p,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(T),this.update()},this.dispose=function(){this.domElement.removeEventListener("contextmenu",I,!1),this.domElement.removeEventListener("mousedown",C,!1),this.domElement.removeEventListener("mousewheel",P,!1),this.domElement.removeEventListener("MozMousePixelScroll",P,!1),this.domElement.removeEventListener("touchstart",O,!1),this.domElement.removeEventListener("touchend",D,!1),this.domElement.removeEventListener("touchmove",k,!1),document.removeEventListener("mousemove",A,!1),document.removeEventListener("mouseup",j,!1),window.removeEventListener("keydown",_,!1)},this.domElement.addEventListener("contextmenu",I,!1),this.domElement.addEventListener("mousedown",C,!1),this.domElement.addEventListener("mousewheel",P,!1),this.domElement.addEventListener("MozMousePixelScroll",P,!1),this.domElement.addEventListener("touchstart",O,!1),this.domElement.addEventListener("touchend",D,!1),this.domElement.addEventListener("touchmove",k,!1),window.addEventListener("keydown",_,!1),this.update()}return t||(t={LEFT:0,MIDDLE:1,RIGHT:2}),o.prototype=Object.create(e.EventDispatcher.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{object:{get:function(){return this.constraint.object}},target:{get:function(){return this.constraint.target},set:function(e){console.warn("THREE.OrbitControls: target is now immutable. Use target.set() instead."),this.constraint.target.copy(e)}},minDistance:{get:function(){return this.constraint.minDistance},set:function(e){this.constraint.minDistance=e}},maxDistance:{get:function(){return this.constraint.maxDistance},set:function(e){this.constraint.maxDistance=e}},minZoom:{get:function(){return this.constraint.minZoom},set:function(e){this.constraint.minZoom=e}},maxZoom:{get:function(){return this.constraint.maxZoom},set:function(e){this.constraint.maxZoom=e}},minPolarAngle:{get:function(){return this.constraint.minPolarAngle},set:function(e){this.constraint.minPolarAngle=e}},maxPolarAngle:{get:function(){return this.constraint.maxPolarAngle},set:function(e){this.constraint.maxPolarAngle=e}},minAzimuthAngle:{get:function(){return this.constraint.minAzimuthAngle},set:function(e){this.constraint.minAzimuthAngle=e}},maxAzimuthAngle:{get:function(){return this.constraint.maxAzimuthAngle},set:function(e){this.constraint.maxAzimuthAngle=e}},enableDamping:{get:function(){return this.constraint.enableDamping},set:function(e){this.constraint.enableDamping=e}},dampingFactor:{get:function(){return this.constraint.dampingFactor},set:function(e){this.constraint.dampingFactor=e}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.constraint.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.constraint.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor=e}}}),o}},"./src/js/webrtc/peerConnection.js":(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t),n.d(t,{default:()=>r});var r=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.peerConnectionConfig={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{urls:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{urls:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}]},this.rtcPeerConnection=this.create(),this.dataChannels=[],this.rtcPeerConnection}var t,n,r;return t=e,(n=[{key:"create",value:function(){try{return location.hostname,this.rtcPeerConnection=new RTCPeerConnection(this.peerConnectionConfig),console.log("Created RTCPeerConnnection: "+this.rtcPeerConnection),this.rtcPeerConnection}catch(e){return console.log("Failed to create PeerConnection, exception: "+e.message),void alert("Cannot create RTCPeerConnection object.")}}},{key:"createDataChannel",value:function(e){if(this.rtcPeerConnection){var t=this.rtcPeerConnection.createDataChannel(e,{ordered:!1,id:room});this.dataChannels.push(t)}}}])&&o(t.prototype,n),r&&o(t,r),e}()},"./src/js/webrtc/videoCall.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{dataChannel:()=>o,isInitiator:()=>r,default:()=>c});var o,r,a=n("./src/js/webrtc/peerConnection.js"),i=n("./src/js/app/game.js");function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var c=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=!1;var t,n,l,c=!1,u=!1,d=prompt("Enter room name:"),h=io.connect();function m(e){console.log("Client sending message: ",e),h.emit("message",d,e)}""!==d&&(h.emit("create or join",d),console.log("Attempted to create or join room",d)),h.on("created",(function(e){console.log("Created room "+e),r=!0})),h.on("full",(function(e){console.log("Room "+e+" is full")})),h.on("join",(function(e){console.log("Another peer made a request to join room "+e),console.log("This peer is the initiator of room "+e+"!"),c=!0})),h.on("joined",(function(e){console.log("joined: "+e),c=!0})),h.on("log",(function(e){console.log.apply(console,e)})),h.on("message",(function(e){if(console.log("Client received message:",e),"got user media"===e)g();else if("offer"===e.type)r||u||g(),l.setRemoteDescription(e).then((function(){return console.log("Sending answer to peer."),void l.createAnswer().then(E,T)}));else if("answer"===e.type&&u)l.setRemoteDescription(new RTCSessionDescription(e));else if("candidate"===e.type&&u){var t=new RTCIceCandidate({sdpMLineIndex:e.label,candidate:e.candidate});l.addIceCandidate(t)}else"bye"===e&&u&&(console.log("Session terminated."),S(),r=!0)}));var f=document.querySelector("#localVideo"),p=document.querySelector("#remoteVideo");navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){console.log("Adding local stream."),t=e,f.srcObject=e,m("got user media"),r&&g()})).catch((function(e){alert("getUserMedia() error: "+e.name)}));var g=function(){if(console.log(">>>>>>> maybeStart() ",u,t,c),!u&&void 0!==t&&c){console.log(">>>>>> creating peer connection"),b();var e,n=s(t.getTracks());try{for(n.s();!(e=n.n()).done;){var a=e.value;l.addTrack(a)}}catch(e){n.e(e)}finally{n.f()}(0,i.moveRemoteVideoToScene)(),u=!0,console.log("isInitiator",r),r&&(console.log("CREATING DATACHANNEL gameUpdates"),(o=l.createDataChannel("gameUpdates")).onmessage=x,o.onerror=R,o.onopen=C,o.onclose=C,console.log("CREATED DATACHANNEL gameUpdates"),console.log("Created RTCDataChannel"),console.log("Sending offer to peer"),l.createOffer(E,L))}};window.onpagehide=function(){console.log("Hanging up."),S(),m("bye")};var v=navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2?"pagehide":"beforeunload";window.addEventListener(v,(function(e){m("bye")}));var b=function(){(l=new a.default).onicecandidate=y,l.ontrack=w,l.ondatachannel=M};function y(e){console.log("icecandidate event: ",e),e.candidate?m({type:"candidate",label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate}):console.log("End of candidates.")}function w(e){e.streams&&e.streams[0]?(console.log("event streams detected"),p.srcObject=e.streams[0]):(n||(console.log("Creating new MediaStream"),n=new MediaStream),console.log("adding track to remote stream"),n.addTrack(e.track),p.setAttribute("src",n),p.srcObject=n),p.autoplay=!0}function L(e){console.log("createOffer() error: ",e)}function E(e){l.setLocalDescription(e),console.log("setLocalAndSendMessage sending message",e),m(e)}function T(e){console.log("Failed to create session description: "+e.toString())}function S(){u=!1,o.close(),l.close(),l=null,p.pause(),p.removeAttribute("src"),p.removeAttribute("autoplay"),n=null,p.load()}function M(e){console.log("Received Channel Callback"),(o=e.channel).onmessage=x,o.onerror=function(e){console.log("Data Channel Error:",e)},o.onopen=C,o.onclose=C,console.log("CREATED DATACHANNEL gameUpdates")}function x(e){(0,i.updateRemoteObjects)(e.data)}function R(e){console.log("Data Channel Error:",e)}function C(e){o&&("open"===o.readyState?console.log("DATA CHANNEL STATE: open"):console.log("DATA CHANNEL STATE: closed"))}}},"./src/css/app.scss":(e,t,n)=>{"use strict";n.r(t)},"?c568":()=>{},"?a610":()=>{}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2NhbWVyYS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2NvbnRyb2xzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvZ2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9saWdodC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL21hdGVyaWFsLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvcmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvZ2FtZS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9nYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvZ2FtZS9nYW1lQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9nYW1lL3NjZW5lLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2hlbHBlcnMvbWVzaEhlbHBlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9oZWxwZXJzL3N0YXRzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2hlbHBlcnMvdmVydGV4Tm9ybWFsc0hlbHBlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9sb2FkZXJzL0dMVEZMb2FkZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvbWFuYWdlcnMvZGF0R1VJLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21hbmFnZXJzL2ludGVyYWN0aW9uLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21vZGVsL21vZGVsLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21vZGVsL3RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9kYXRhL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2J1ZmZlckdlb21ldHJ5VXRpbHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9kZXRlY3Rvci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9rZXlib2FyZC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL29yYml0Q29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy93ZWJydGMvcGVlckNvbm5lY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy93ZWJydGMvdmlkZW9DYWxsLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJDb25maWciLCJEZXRlY3RvciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdGFydFBoeXMiLCJpc0luaXRpYXRvciIsImluaXRHYW1lIiwiQ2FtZXJhIiwicmVuZGVyZXIiLCJ3aWR0aCIsImRvbUVsZW1lbnQiLCJoZWlnaHQiLCJ0aGlzIiwidGhyZWVDYW1lcmEiLCJUSFJFRSIsInBvc2l0aW9uIiwic2V0IiwidXBkYXRlU2l6ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiQ29udHJvbHMiLCJjYW1lcmEiLCJjb250YWluZXIiLCJvcmJpdENvbnRyb2xzIiwiT3JiaXRDb250cm9scyIsInRocmVlQ29udHJvbHMiLCJpbml0IiwidGFyZ2V0IiwiYXV0b1JvdGF0ZSIsImF1dG9Sb3RhdGVTcGVlZCIsInJvdGF0ZVNwZWVkIiwiem9vbVNwZWVkIiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsIm1pblBvbGFyQW5nbGUiLCJtYXhQb2xhckFuZ2xlIiwiZW5hYmxlRGFtcGluZyIsImVuYWJsZVpvb20iLCJkYW1waW5nRmFjdG9yIiwiR2VvbWV0cnkiLCJzY2VuZSIsImdlbyIsInR5cGUiLCJ3aWR0aFNlZ21lbnRzIiwiaGVpZ2h0U2VnbWVudHMiLCJyYWRpdXMiLCJyb3RhdGlvbiIsIm1hdGVyaWFsIiwiTWF0ZXJpYWwiLCJzdGFuZGFyZCIsIm1lc2giLCJyZWNlaXZlU2hhZG93IiwiYWRkIiwiTGlnaHQiLCJhbWJpZW50TGlnaHQiLCJ2aXNpYmxlIiwicG9pbnRMaWdodCIsImRpcmVjdGlvbmFsTGlnaHQiLCJjYXN0U2hhZG93Iiwic2hhZG93IiwiYmlhcyIsIm5lYXIiLCJmYXIiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJtYXBTaXplIiwiZGlyZWN0aW9uYWxMaWdodEhlbHBlciIsImhlbWlMaWdodCIsImxpZ2h0TmFtZSIsImNvbG9yIiwiYmFzaWMiLCJzaWRlIiwic2hhZGluZyIsInJvdWdobmVzcyIsIm1ldGFsbmVzcyIsIndpcmUiLCJ3aXJlZnJhbWUiLCJSZW5kZXJlciIsInRocmVlUmVuZGVyZXIiLCJhbnRpYWxpYXMiLCJhbHBoYSIsInNldENsZWFyQ29sb3IiLCJmb2ciLCJzZXRQaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImFwcGVuZENoaWxkIiwic2hhZG93TWFwIiwiZW5hYmxlZCIsImNhcGFiaWxpdGllcyIsImdldE1heEFuaXNvdHJvcHkiLCJzZXRTaXplIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJyZW5kZXIiLCJsb2NhbFNjZW5lIiwibG9jYWxDYW1lcmEiLCJjdWJlIiwiZHVja01lc2giLCJnYW1lQ29udHJvbGxlciIsIkdhbWVDb250cm9sbGVyIiwib2JqZWN0c1RvU3luYyIsIk1hcCIsImRyYWdnYWJsZU9iamVjdHNTZWxsZXIiLCJpc1NlbGxlciIsIkFtbW8iLCJ0aGVuIiwiY29sbGlzaW9uQ29uZmlndXJhdGlvbiIsImJ0RGVmYXVsdENvbGxpc2lvbkNvbmZpZ3VyYXRpb24iLCJkaXNwYXRjaGVyIiwiYnRDb2xsaXNpb25EaXNwYXRjaGVyIiwib3ZlcmxhcHBpbmdQYWlyQ2FjaGUiLCJidERidnRCcm9hZHBoYXNlIiwic29sdmVyIiwiYnRTZXF1ZW50aWFsSW1wdWxzZUNvbnN0cmFpbnRTb2x2ZXIiLCJidERpc2NyZXRlRHluYW1pY3NXb3JsZCIsInNldEdyYXZpdHkiLCJidFZlY3RvcjMiLCJzZXR1cFBoeXNpY3NXb3JsZCIsInN0YXJ0R2FtZSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImF1dG9DbGVhciIsImluaXRTY2VuZSIsImluaXRDYW1lcmEiLCJpbml0M0RPYmplY3RzIiwiRHJhZ0NvbnRyb2xzIiwiZXZlbnQiLCJzZW5kR2FtZW9iamVjdFVwZGF0ZSIsImdldE9iakpTT04iLCJvYmplY3QiLCJhbmltYXRlIiwibG9hZGVyIiwiR0xURkxvYWRlciIsImxvYWRBc3luYyIsInRyYXZlcnNlIiwibyIsImlzTWVzaCIsInNjYWxlIiwiZHVja01lc2gxIiwiY2xvbmUiLCJuYW1lIiwiYWRkT2JqZWN0VG9EcmFnQ29ucm9scyIsImR1Y2tNZXNoMiIsImR1Y2tNZXNoMyIsIm91dHB1dEVuY29kaW5nIiwiZ2VvbWV0cnkiLCJwbGFuZSIsInkiLCJ4IiwiTWF0aCIsIlBJIiwibW92ZVJlbW90ZVZpZGVvVG9TY2VuZSIsInNldFRpbWVvdXQiLCJyZW1vdGVWaWRlbyIsInJlb21vdGVWaWRlb0FzcGVjdFJhdGlvIiwiaWQiLCJ2aWRlb0VsZW1lbnQiLCJ2aWRlb1RleHR1cmUiLCJ2aWRlb0dlb21ldHJ5IiwidmlkZW9NYXRlcmlhbCIsIm1hcCIsIm92ZXJkcmF3IiwiY3ViZTIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvYmoiLCJqc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFNjZW5lSlNPTiIsInV1aWQiLCJ1cGRhdGVSZW1vdGVPYmplY3RzIiwiZGF0YSIsInBhcnNlIiwiaGFzIiwibG9jYWxFbGVtZW50IiwiZ2V0T2JqZWN0QnlOYW1lIiwieiIsIl94IiwiX3kiLCJfeiIsIm5ld09iaiIsInB1c2giLCJHYW1lU2NlbmUiLCJjbG9jayIsImNvbnRyb2xzIiwibGlnaHQiLCJmb3JFYWNoIiwicGxhY2UiLCJtYWtlIiwic3RhdHMiLCJTdGF0cyIsInNldFVwIiwiZ3VpIiwiRGF0R1VJIiwidGV4dHVyZSIsIlRleHR1cmUiLCJsb2FkIiwibWFuYWdlciIsIm1vZGVsIiwiTW9kZWwiLCJ0ZXh0dXJlcyIsIm9uUHJvZ3Jlc3MiLCJpdGVtIiwibG9hZGVkIiwidG90YWwiLCJvbkxvYWQiLCJJbnRlcmFjdGlvbiIsIm1lc2hIZWxwZXIiLCJNZXNoSGVscGVyIiwiZW5hYmxlIiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwiZGlzcGxheSIsIlRXRUVOIiwidXBkYXRlIiwiYmluZCIsImxvY2FsT2JqZWN0cyIsImFkZExvY2FsT2JqZWN0IiwiY3VzdG9tT2JqZWN0Iiwic3RhcnRTaGFyZWRTY2VuZVN5bmMiLCJzdG9wU2hhcmVkU2NlbmVTeW5jIiwiY2xlYXJJbnRlcnZhbCIsInNoYXJlZFNjZW5lU3luYyIsIm9iamVjdEpzb24iLCJkYXRhQ2hhbm5lbCIsImdldExvY2FsT2JqZWN0IiwiYmFja2dyb3VuZCIsImRpcmVjdGlvbmFsTGlnaHQxIiwiZGlyZWN0aW9uYWxMaWdodDIiLCJkaXJlY3Rpb25hbExpZ2h0MyIsImluaXRMaWdodCIsImxvb2tBdCIsIndpcmVMaW5lIiwiZGVwdGhUZXN0Iiwib3BhY2l0eSIsInRyYW5zcGFyZW50IiwiZWRnZXMiLCJlZGdlc0xpbmUiLCJ2ZXJ0ZXhIZWxwZXIiLCJWZXJ0ZXhOb3JtYWxzSGVscGVyIiwiYm94SGVscGVyIiwicmVtb3ZlIiwiclMiLCJiUyIsImdsUyIsInRTIiwic3RhcnQiLCJ0aWNrIiwiZnJhbWUiLCJlbmQiLCJCcm93c2VyU3RhdHMiLCJnbFN0YXRzIiwidGhyZWVTdGF0cyIsInJTdGF0cyIsIkNTU1BhdGgiLCJ1c2VyVGltaW5nQVBJIiwidmFsdWVzIiwiY2FwdGlvbiIsIm92ZXIiLCJhdmVyYWdlIiwiYXZnTXMiLCJmcHMiLCJiZWxvdyIsImNhbGxzIiwicmFmIiwicnN0YXRzIiwiZ3JvdXBzIiwiZnJhY3Rpb25zIiwiYmFzZSIsInN0ZXBzIiwicGx1Z2lucyIsIl92MSIsIlZlY3RvcjMiLCJfdjIiLCJfbm9ybWFsTWF0cml4IiwiTWF0cml4MyIsIl9rZXlzIiwic2l6ZSIsImhleCIsInVuZGVmaW5lZCIsIm5Ob3JtYWxzIiwib2JqR2VvbWV0cnkiLCJpc0dlb21ldHJ5IiwiZmFjZXMiLCJsZW5ndGgiLCJpc0J1ZmZlckdlb21ldHJ5IiwiYXR0cmlidXRlcyIsIm5vcm1hbCIsImNvdW50IiwiQnVmZmVyR2VvbWV0cnkiLCJwb3NpdGlvbnMiLCJGbG9hdDMyQnVmZmVyQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiTGluZVNlZ21lbnRzIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJ0b25lTWFwcGVkIiwibWF0cml4QXV0b1VwZGF0ZSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiaWR4IiwidXBkYXRlTWF0cml4V29ybGQiLCJnZXROb3JtYWxNYXRyaXgiLCJtYXRyaXhXb3JsZCIsInZlcnRpY2VzIiwiaSIsImwiLCJmYWNlIiwiaiIsImpsIiwidmVydGV4Tm9ybWFscyIsInZlcnRleCIsImNvcHkiLCJhcHBseU1hdHJpeDQiLCJhcHBseU1hdHJpeDMiLCJub3JtYWxpemUiLCJtdWx0aXBseVNjYWxhciIsInNldFhZWiIsIm9ialBvcyIsIm9iak5vcm0iLCJnZXRYIiwiZ2V0WSIsImdldFoiLCJuZWVkc1VwZGF0ZSIsIkxvYWRlciIsImRyYWNvTG9hZGVyIiwiZGRzTG9hZGVyIiwiR0xURlJlZ2lzdHJ5Iiwib2JqZWN0cyIsImdldCIsImtleSIsInJlbW92ZUFsbCIsImFzc2lnbiIsInVybCIsIm9uRXJyb3IiLCJyZXNvdXJjZVBhdGgiLCJzY29wZSIsInBhdGgiLCJMb2FkZXJVdGlscyIsIml0ZW1TdGFydCIsIl9vbkVycm9yIiwiZSIsImVycm9yIiwiaXRlbUVycm9yIiwiaXRlbUVuZCIsIkZpbGVMb2FkZXIiLCJzZXRQYXRoIiwic2V0UmVzcG9uc2VUeXBlIiwiY3Jvc3NPcmlnaW4iLCJzZXRXaXRoQ3JlZGVudGlhbHMiLCJnbHRmIiwic2V0RFJBQ09Mb2FkZXIiLCJzZXRERFNMb2FkZXIiLCJjb250ZW50IiwiZXh0ZW5zaW9ucyIsIlVpbnQ4QXJyYXkiLCJCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyIsIkVYVEVOU0lPTlMiLCJLSFJfQklOQVJZX0dMVEYiLCJHTFRGQmluYXJ5RXh0ZW5zaW9uIiwiYXNzZXQiLCJ2ZXJzaW9uIiwiRXJyb3IiLCJleHRlbnNpb25zVXNlZCIsImV4dGVuc2lvbk5hbWUiLCJleHRlbnNpb25zUmVxdWlyZWQiLCJLSFJfTElHSFRTX1BVTkNUVUFMIiwiR0xURkxpZ2h0c0V4dGVuc2lvbiIsIktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUIiwiR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbiIsIktIUl9NQVRFUklBTFNfVU5MSVQiLCJHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24iLCJLSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTIiwiR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbiIsIktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIiwiR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uIiwiTVNGVF9URVhUVVJFX0REUyIsIkdMVEZUZXh0dXJlRERTRXh0ZW5zaW9uIiwiS0hSX1RFWFRVUkVfVFJBTlNGT1JNIiwiR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24iLCJLSFJfTUVTSF9RVUFOVElaQVRJT04iLCJHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbiIsImluZGV4T2YiLCJ3YXJuIiwiR0xURlBhcnNlciIsImV4dGVuc2lvbiIsImxpZ2h0RGVmcyIsImxpZ2h0cyIsImxvYWRMaWdodCIsImxpZ2h0SW5kZXgiLCJsaWdodE5vZGUiLCJsaWdodERlZiIsIkNvbG9yIiwiZnJvbUFycmF5IiwicmFuZ2UiLCJEaXJlY3Rpb25hbExpZ2h0IiwiUG9pbnRMaWdodCIsImRpc3RhbmNlIiwiU3BvdExpZ2h0Iiwic3BvdCIsImlubmVyQ29uZUFuZ2xlIiwib3V0ZXJDb25lQW5nbGUiLCJhbmdsZSIsInBlbnVtYnJhIiwiZGVjYXkiLCJpbnRlbnNpdHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldE1hdGVyaWFsVHlwZSIsIk1lc2hCYXNpY01hdGVyaWFsIiwiZXh0ZW5kUGFyYW1zIiwibWF0ZXJpYWxQYXJhbXMiLCJtYXRlcmlhbERlZiIsInBhcnNlciIsInBlbmRpbmciLCJtZXRhbGxpY1JvdWdobmVzcyIsInBick1ldGFsbGljUm91Z2huZXNzIiwiQXJyYXkiLCJpc0FycmF5IiwiYmFzZUNvbG9yRmFjdG9yIiwiYXJyYXkiLCJiYXNlQ29sb3JUZXh0dXJlIiwiYXNzaWduVGV4dHVyZSIsImFsbCIsIk1lc2hQaHlzaWNhbE1hdGVyaWFsIiwiY2xlYXJjb2F0RmFjdG9yIiwiY2xlYXJjb2F0IiwiY2xlYXJjb2F0VGV4dHVyZSIsImNsZWFyY29hdFJvdWdobmVzc0ZhY3RvciIsImNsZWFyY29hdFJvdWdobmVzcyIsImNsZWFyY29hdFJvdWdobmVzc1RleHR1cmUiLCJjbGVhcmNvYXROb3JtYWxUZXh0dXJlIiwiY2xlYXJjb2F0Tm9ybWFsU2NhbGUiLCJWZWN0b3IyIiwiQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUyIsImJvZHkiLCJoZWFkZXJWaWV3IiwiRGF0YVZpZXciLCJoZWFkZXIiLCJtYWdpYyIsInNsaWNlIiwiZ2V0VWludDMyIiwiY2h1bmtWaWV3IiwiY2h1bmtJbmRleCIsImJ5dGVMZW5ndGgiLCJjaHVua0xlbmd0aCIsImNodW5rVHlwZSIsImNvbnRlbnRBcnJheSIsImJ5dGVPZmZzZXQiLCJwcmVsb2FkIiwiR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwiLCJwYXJhbXMiLCJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsImlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsIiwic3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVuayIsImpvaW4iLCJnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmsiLCJzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmsiLCJnbG9zc2luZXNzTWFwRnJhZ21lbnRDaHVuayIsImxpZ2h0UGh5c2ljYWxGcmFnbWVudENodW5rIiwidW5pZm9ybXMiLCJzcGVjdWxhciIsInZhbHVlIiwic2V0SGV4IiwiZ2xvc3NpbmVzcyIsInNwZWN1bGFyTWFwIiwiZ2xvc3NpbmVzc01hcCIsIl9leHRyYVVuaWZvcm1zIiwib25CZWZvcmVDb21waWxlIiwic2hhZGVyIiwidW5pZm9ybU5hbWUiLCJmcmFnbWVudFNoYWRlciIsInJlcGxhY2UiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidiIsImRlZmluZXMiLCJVU0VfR0xPU1NJTkVTU01BUCIsIlVTRV9ST1VHSE5FU1NNQVAiLCJtZXRhbG5lc3NNYXAiLCJyb3VnaG5lc3NNYXAiLCJzZXRWYWx1ZXMiLCJzcGVjdWxhckdsb3NzaW5lc3NQYXJhbXMiLCJwYnJTcGVjdWxhckdsb3NzaW5lc3MiLCJkaWZmdXNlRmFjdG9yIiwiZGlmZnVzZVRleHR1cmUiLCJlbWlzc2l2ZSIsImdsb3NzaW5lc3NGYWN0b3IiLCJzcGVjdWxhckZhY3RvciIsInNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmUiLCJzcGVjR2xvc3NNYXBEZWYiLCJjcmVhdGVNYXRlcmlhbCIsImxpZ2h0TWFwIiwibGlnaHRNYXBJbnRlbnNpdHkiLCJhb01hcCIsImFvTWFwSW50ZW5zaXR5IiwiZW1pc3NpdmVJbnRlbnNpdHkiLCJlbWlzc2l2ZU1hcCIsImJ1bXBNYXAiLCJidW1wU2NhbGUiLCJub3JtYWxNYXAiLCJub3JtYWxNYXBUeXBlIiwiVGFuZ2VudFNwYWNlTm9ybWFsTWFwIiwibm9ybWFsU2NhbGUiLCJkaXNwbGFjZW1lbnRNYXAiLCJkaXNwbGFjZW1lbnRTY2FsZSIsImRpc3BsYWNlbWVudEJpYXMiLCJhbHBoYU1hcCIsImVudk1hcCIsImVudk1hcEludGVuc2l0eSIsInJlZnJhY3Rpb25SYXRpbyIsIkdMVEZDdWJpY1NwbGluZUludGVycG9sYW50IiwicGFyYW1ldGVyUG9zaXRpb25zIiwic2FtcGxlVmFsdWVzIiwic2FtcGxlU2l6ZSIsInJlc3VsdEJ1ZmZlciIsIkludGVycG9sYW50IiwiZGVjb2RlUHJpbWl0aXZlIiwicHJpbWl0aXZlIiwiYnVmZmVyVmlld0luZGV4IiwiYnVmZmVyVmlldyIsImdsdGZBdHRyaWJ1dGVNYXAiLCJ0aHJlZUF0dHJpYnV0ZU1hcCIsImF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAiLCJhdHRyaWJ1dGVUeXBlTWFwIiwiYXR0cmlidXRlTmFtZSIsInRocmVlQXR0cmlidXRlTmFtZSIsIkFUVFJJQlVURVMiLCJ0b0xvd2VyQ2FzZSIsImFjY2Vzc29yRGVmIiwiYWNjZXNzb3JzIiwiY29tcG9uZW50VHlwZSIsIldFQkdMX0NPTVBPTkVOVF9UWVBFUyIsIm5vcm1hbGl6ZWQiLCJnZXREZXBlbmRlbmN5IiwiZGVjb2RlRHJhY29GaWxlIiwiYXR0cmlidXRlIiwiZXh0ZW5kVGV4dHVyZSIsInRyYW5zZm9ybSIsIm9mZnNldCIsInJlcGVhdCIsInRleENvb3JkIiwic291cmNlIiwiY29weVNhbXBsZVZhbHVlXyIsImluZGV4IiwicmVzdWx0IiwidmFsdWVTaXplIiwiYmVmb3JlU3RhcnRfIiwiYWZ0ZXJFbmRfIiwiaW50ZXJwb2xhdGVfIiwiaTEiLCJ0MCIsInQiLCJ0MSIsInN0cmlkZSIsInN0cmlkZTIiLCJzdHJpZGUzIiwidGQiLCJwIiwicHAiLCJwcHAiLCJvZmZzZXQxIiwib2Zmc2V0MCIsInMyIiwiczMiLCJzMCIsInMxIiwicDAiLCJtMCIsInAxIiwibTEiLCJXRUJHTF9DT05TVEFOVFMiLCI1MTIwIiwiSW50OEFycmF5IiwiNTEyMSIsIjUxMjIiLCJJbnQxNkFycmF5IiwiNTEyMyIsIlVpbnQxNkFycmF5IiwiNTEyNSIsIlVpbnQzMkFycmF5IiwiNTEyNiIsIkZsb2F0MzJBcnJheSIsIldFQkdMX0ZJTFRFUlMiLCI5NzI4IiwiTmVhcmVzdEZpbHRlciIsIjk3MjkiLCJMaW5lYXJGaWx0ZXIiLCI5OTg0IiwiTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIiLCI5OTg1IiwiTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlciIsIjk5ODYiLCJOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyIiwiOTk4NyIsIkxpbmVhck1pcG1hcExpbmVhckZpbHRlciIsIldFQkdMX1dSQVBQSU5HUyIsIjMzMDcxIiwiQ2xhbXBUb0VkZ2VXcmFwcGluZyIsIjMzNjQ4IiwiTWlycm9yZWRSZXBlYXRXcmFwcGluZyIsIjEwNDk3IiwiUmVwZWF0V3JhcHBpbmciLCJXRUJHTF9UWVBFX1NJWkVTIiwiU0NBTEFSIiwiVkVDMiIsIlZFQzMiLCJWRUM0IiwiTUFUMiIsIk1BVDMiLCJNQVQ0IiwiUE9TSVRJT04iLCJOT1JNQUwiLCJUQU5HRU5UIiwiVEVYQ09PUkRfMCIsIlRFWENPT1JEXzEiLCJDT0xPUl8wIiwiV0VJR0hUU18wIiwiSk9JTlRTXzAiLCJQQVRIX1BST1BFUlRJRVMiLCJ0cmFuc2xhdGlvbiIsIndlaWdodHMiLCJJTlRFUlBPTEFUSU9OIiwiQ1VCSUNTUExJTkUiLCJMSU5FQVIiLCJJbnRlcnBvbGF0ZUxpbmVhciIsIlNURVAiLCJJbnRlcnBvbGF0ZURpc2NyZXRlIiwiQUxQSEFfTU9ERVMiLCJNSU1FX1RZUEVfRk9STUFUUyIsIlJHQkFGb3JtYXQiLCJSR0JGb3JtYXQiLCJyZXNvbHZlVVJMIiwidGVzdCIsImFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSIsImtub3duRXh0ZW5zaW9ucyIsIm9iamVjdERlZiIsInVzZXJEYXRhIiwiZ2x0ZkV4dGVuc2lvbnMiLCJhc3NpZ25FeHRyYXNUb1VzZXJEYXRhIiwiZ2x0ZkRlZiIsImV4dHJhcyIsInVwZGF0ZU1vcnBoVGFyZ2V0cyIsIm1lc2hEZWYiLCJpbCIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsInRhcmdldE5hbWVzIiwibW9ycGhUYXJnZXREaWN0aW9uYXJ5IiwiY3JlYXRlQXR0cmlidXRlc0tleSIsImF0dHJpYnV0ZXNLZXkiLCJrZXlzIiwic29ydCIsIm9wdGlvbnMiLCJjYWNoZSIsInByaW1pdGl2ZUNhY2hlIiwidGV4dHVyZUxvYWRlciIsIlRleHR1cmVMb2FkZXIiLCJzZXRDcm9zc09yaWdpbiIsImZpbGVMb2FkZXIiLCJhZGRQcmltaXRpdmVBdHRyaWJ1dGVzIiwicHJpbWl0aXZlRGVmIiwiYXNzaWduQXR0cmlidXRlQWNjZXNzb3IiLCJhY2Nlc3NvckluZGV4IiwiYWNjZXNzb3IiLCJnbHRmQXR0cmlidXRlTmFtZSIsImluZGljZXMiLCJzZXRJbmRleCIsImJveCIsIkJveDMiLCJtaW4iLCJtYXgiLCJ0YXJnZXRzIiwibWF4RGlzcGxhY2VtZW50IiwidmVjdG9yIiwic2V0WCIsImFicyIsInNldFkiLCJzZXRaIiwiZXhwYW5kQnlWZWN0b3IiLCJib3VuZGluZ0JveCIsInNwaGVyZSIsIlNwaGVyZSIsImdldENlbnRlciIsImNlbnRlciIsImRpc3RhbmNlVG8iLCJib3VuZGluZ1NwaGVyZSIsImNvbXB1dGVCb3VuZHMiLCJoYXNNb3JwaFBvc2l0aW9uIiwiaGFzTW9ycGhOb3JtYWwiLCJwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMiLCJwZW5kaW5nTm9ybWFsQWNjZXNzb3JzIiwicGVuZGluZ0FjY2Vzc29yIiwibW9ycGhQb3NpdGlvbnMiLCJtb3JwaE5vcm1hbHMiLCJtb3JwaEF0dHJpYnV0ZXMiLCJtb3JwaFRhcmdldHNSZWxhdGl2ZSIsImFkZE1vcnBoVGFyZ2V0cyIsInRvVHJpYW5nbGVzRHJhd01vZGUiLCJkcmF3TW9kZSIsImdldEluZGV4IiwiZ2V0QXR0cmlidXRlIiwibnVtYmVyT2ZUcmlhbmdsZXMiLCJuZXdJbmRpY2VzIiwiVHJpYW5nbGVGYW5EcmF3TW9kZSIsIm5ld0dlb21ldHJ5IiwibWFya0RlZnMiLCJnZXREZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmNpZXMiLCJzY2VuZXMiLCJhbmltYXRpb25zIiwiY2FtZXJhcyIsIm5vZGVEZWZzIiwibm9kZXMiLCJza2luRGVmcyIsInNraW5zIiwibWVzaERlZnMiLCJtZXNoZXMiLCJtZXNoUmVmZXJlbmNlcyIsIm1lc2hVc2VzIiwic2tpbkluZGV4Iiwic2tpbkxlbmd0aCIsImpvaW50cyIsImlzQm9uZSIsIm5vZGVJbmRleCIsIm5vZGVMZW5ndGgiLCJub2RlRGVmIiwic2tpbiIsImlzU2tpbm5lZE1lc2giLCJjYWNoZUtleSIsImRlcGVuZGVuY3kiLCJsb2FkU2NlbmUiLCJsb2FkTm9kZSIsImxvYWRNZXNoIiwibG9hZEFjY2Vzc29yIiwibG9hZEJ1ZmZlclZpZXciLCJsb2FkQnVmZmVyIiwibG9hZE1hdGVyaWFsIiwibG9hZFRleHR1cmUiLCJsb2FkU2tpbiIsImxvYWRBbmltYXRpb24iLCJsb2FkQ2FtZXJhIiwiZGVmcyIsImRlZiIsImJ1ZmZlckluZGV4IiwiYnVmZmVyRGVmIiwiYnVmZmVycyIsInVyaSIsInJlamVjdCIsImJ1ZmZlclZpZXdEZWYiLCJidWZmZXJWaWV3cyIsImJ1ZmZlciIsInNwYXJzZSIsInBlbmRpbmdCdWZmZXJWaWV3cyIsImJ1ZmZlckF0dHJpYnV0ZSIsIml0ZW1TaXplIiwiVHlwZWRBcnJheSIsImVsZW1lbnRCeXRlcyIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiaXRlbUJ5dGVzIiwiYnl0ZVN0cmlkZSIsImliU2xpY2UiLCJmbG9vciIsImliQ2FjaGVLZXkiLCJpYiIsIkludGVybGVhdmVkQnVmZmVyIiwiSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUiLCJCdWZmZXJBdHRyaWJ1dGUiLCJpdGVtU2l6ZUluZGljZXMiLCJUeXBlZEFycmF5SW5kaWNlcyIsImJ5dGVPZmZzZXRJbmRpY2VzIiwiYnl0ZU9mZnNldFZhbHVlcyIsInNwYXJzZUluZGljZXMiLCJzcGFyc2VWYWx1ZXMiLCJzZXRXIiwidGV4dHVyZUluZGV4IiwiVVJMIiwic2VsZiIsIndlYmtpdFVSTCIsInRleHR1cmVEZWYiLCJ0ZXh0dXJlRXh0ZW5zaW9ucyIsInNvdXJjZVVSSSIsImltYWdlcyIsImlzT2JqZWN0VVJMIiwiYmxvYiIsIkJsb2IiLCJtaW1lVHlwZSIsImNyZWF0ZU9iamVjdFVSTCIsImdldEhhbmRsZXIiLCJyZXZva2VPYmplY3RVUkwiLCJmbGlwWSIsImZvcm1hdCIsInNhbXBsZXIiLCJzYW1wbGVycyIsIm1hZ0ZpbHRlciIsIm1pbkZpbHRlciIsIndyYXBTIiwid3JhcFQiLCJtYXBOYW1lIiwibWFwRGVmIiwiaXNDb21wcmVzc2VkVGV4dHVyZSIsImFzc2lnbkZpbmFsTWF0ZXJpYWwiLCJ1c2VWZXJ0ZXhUYW5nZW50cyIsInRhbmdlbnQiLCJ1c2VWZXJ0ZXhDb2xvcnMiLCJ1c2VGbGF0U2hhZGluZyIsInVzZVNraW5uaW5nIiwidXNlTW9ycGhUYXJnZXRzIiwidXNlTW9ycGhOb3JtYWxzIiwiaXNQb2ludHMiLCJwb2ludHNNYXRlcmlhbCIsIlBvaW50c01hdGVyaWFsIiwic2l6ZUF0dGVudWF0aW9uIiwiaXNMaW5lIiwibGluZU1hdGVyaWFsIiwiY2FjaGVkTWF0ZXJpYWwiLCJza2lubmluZyIsInZlcnRleFRhbmdlbnRzIiwidmVydGV4Q29sb3JzIiwiZmxhdFNoYWRpbmciLCJtb3JwaFRhcmdldHMiLCJ1djIiLCJ1diIsIm1hdGVyaWFsSW5kZXgiLCJtYXRlcmlhbFR5cGUiLCJtYXRlcmlhbHMiLCJtYXRlcmlhbEV4dGVuc2lvbnMiLCJzZ0V4dGVuc2lvbiIsImttdUV4dGVuc2lvbiIsIm1ldGFsbGljRmFjdG9yIiwicm91Z2huZXNzRmFjdG9yIiwibWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlIiwiZG91YmxlU2lkZWQiLCJEb3VibGVTaWRlIiwiYWxwaGFNb2RlIiwiZGVwdGhXcml0ZSIsImFscGhhVGVzdCIsImFscGhhQ3V0b2ZmIiwibm9ybWFsVGV4dHVyZSIsIm9jY2x1c2lvblRleHR1cmUiLCJzdHJlbmd0aCIsImVtaXNzaXZlRmFjdG9yIiwiZW1pc3NpdmVUZXh0dXJlIiwiY2xlYXJjb2F0RXh0ZW5zaW9uIiwiZW5jb2RpbmciLCJzUkdCRW5jb2RpbmciLCJsb2FkR2VvbWV0cmllcyIsInByaW1pdGl2ZXMiLCJjcmVhdGVEcmFjb1ByaW1pdGl2ZSIsImRyYWNvRXh0ZW5zaW9uIiwiZ2VvbWV0cnlQcm9taXNlIiwibW9kZSIsImNhY2hlZCIsInByb21pc2UiLCJtZXNoSW5kZXgiLCJGcm9udFNpZGUiLCJyZXN1bHRzIiwiZ2VvbWV0cmllcyIsIlNraW5uZWRNZXNoIiwiTWVzaCIsInNraW5XZWlnaHQiLCJub3JtYWxpemVTa2luV2VpZ2h0cyIsIlRyaWFuZ2xlU3RyaXBEcmF3TW9kZSIsIkxpbmUiLCJMaW5lTG9vcCIsIlBvaW50cyIsImdyb3VwIiwiR3JvdXAiLCJjYW1lcmFJbmRleCIsImNhbWVyYURlZiIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwiTWF0aFV0aWxzIiwieWZvdiIsImFzcGVjdFJhdGlvIiwiem5lYXIiLCJ6ZmFyIiwiT3J0aG9ncmFwaGljQ2FtZXJhIiwieG1hZyIsInltYWciLCJza2luRGVmIiwic2tpbkVudHJ5IiwiaW52ZXJzZUJpbmRNYXRyaWNlcyIsImFuaW1hdGlvbkluZGV4IiwiYW5pbWF0aW9uRGVmIiwicGVuZGluZ05vZGVzIiwicGVuZGluZ0lucHV0QWNjZXNzb3JzIiwicGVuZGluZ091dHB1dEFjY2Vzc29ycyIsInBlbmRpbmdTYW1wbGVycyIsInBlbmRpbmdUYXJnZXRzIiwiY2hhbm5lbHMiLCJjaGFubmVsIiwibm9kZSIsImlucHV0IiwicGFyYW1ldGVycyIsIm91dHB1dCIsImlucHV0QWNjZXNzb3JzIiwib3V0cHV0QWNjZXNzb3JzIiwidHJhY2tzIiwiaW5wdXRBY2Nlc3NvciIsIm91dHB1dEFjY2Vzc29yIiwiVHlwZWRLZXlmcmFtZVRyYWNrIiwidXBkYXRlTWF0cml4IiwiTnVtYmVyS2V5ZnJhbWVUcmFjayIsIlF1YXRlcm5pb25LZXlmcmFtZVRyYWNrIiwiVmVjdG9yS2V5ZnJhbWVUcmFjayIsInRhcmdldE5hbWUiLCJpbnRlcnBvbGF0aW9uIiwib3V0cHV0QXJyYXkiLCJzY2FsZWQiLCJ0cmFjayIsImNyZWF0ZUludGVycG9sYW50IiwidGltZXMiLCJnZXRWYWx1ZVNpemUiLCJpc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSIsIkFuaW1hdGlvbkNsaXAiLCJpbnN0YW5jZU51bSIsIkJvbmUiLCJPYmplY3QzRCIsIlByb3BlcnR5QmluZGluZyIsIm1hdHJpeCIsIk1hdHJpeDQiLCJxdWF0ZXJuaW9uIiwiYnVpbGROb2RlSGllcmFjaHkiLCJub2RlSWQiLCJwYXJlbnRPYmplY3QiLCJwZW5kaW5nSm9pbnRzIiwiam9pbnROb2RlcyIsImJvbmVzIiwiYm9uZUludmVyc2VzIiwiam9pbnROb2RlIiwibWF0IiwiU2tlbGV0b24iLCJjaGlsZHJlbiIsImNoaWxkIiwic2NlbmVJbmRleCIsInNjZW5lRGVmIiwibm9kZUlkcyIsIm1haW4iLCJkYXQiLCJHVUkiLCJjYW1lcmFGb2xkZXIiLCJhZGRGb2xkZXIiLCJjYW1lcmFGT1ZHdWkiLCJvbkNoYW5nZSIsImVuYWJsZVJvdGF0ZSIsImZvdiIsIm9uRmluaXNoQ2hhbmdlIiwiY2FtZXJhQXNwZWN0R3VpIiwiYWRkQ29sb3IiLCJjYW1lcmFGb2dOZWFyR3VpIiwiZGVuc2l0eSIsImNvbnRyb2xzRm9sZGVyIiwiY29udHJvbHNBdXRvUm90YXRlU3BlZWRHdWkiLCJkaXNhYmxlIiwidW5sb2FkIiwibWVzaEZvbGRlciIsImFtYmllbnRMaWdodEZvbGRlciIsImRpcmVjdGlvbmFsTGlnaHRGb2xkZXIiLCJkaXJlY3Rpb25hbExpZ2h0SW50ZW5zaXR5R3VpIiwiZGlyZWN0aW9uYWxMaWdodFBvc2l0aW9uWEd1aSIsImRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvbllHdWkiLCJkaXJlY3Rpb25hbExpZ2h0UG9zaXRpb25aR3VpIiwic2hhZG93Rm9sZGVyIiwic2hhZG93TmVhckd1aSIsImRpc3Bvc2UiLCJzaGFkb3dGYXJHdWkiLCJzaGFkb3dUb3BHdWkiLCJzaGFkb3dSaWdodEd1aSIsInNoYWRvd0JvdHRvbUd1aSIsInNoYWRvd0xlZnRHdWkiLCJzaGFkb3dCaWFzR3VpIiwicG9pbnRMaWdodEZvbGRlciIsInBvaW50TGlnaHRJbnRlbnNpdHlHdWkiLCJwb2ludExpZ2h0RGlzdGFuY2VHdWkiLCJwb2ludExpZ2h0UG9zaXRpb25YR3VpIiwicG9pbnRMaWdodFBvc2l0aW9uWUd1aSIsInBvaW50TGlnaHRQb3NpdGlvblpHdWkiLCJoZW1pTGlnaHRGb2xkZXIiLCJncm91bmRDb2xvciIsImhlbWlMaWdodEludGVuc2l0eUd1aSIsImhlbWlMaWdodFBvc2l0aW9uWEd1aSIsImhlbWlMaWdodFBvc2l0aW9uWUd1aSIsImhlbWlMaWdodFBvc2l0aW9uWkd1aSIsImRlc3Ryb3kiLCJ0aW1lb3V0Iiwia2V5Ym9hcmQiLCJLZXlib2FyZCIsIkhlbHBlcnMiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VMZWF2ZSIsIm9uTW91c2VPdmVyIiwiZXZlbnRNYXRjaGVzIiwicHJldmVudERlZmF1bHQiLCJjbGVhclRpbWVvdXQiLCJyZWYiLCJpc0xpZ2h0IiwiQnVmZmVyR2VvbWV0cnlVdGlscyIsIlVWIiwibWF4QW5pc290cm9weSIsImltYWdlRmlsZXMiLCJwcm9taXNlQXJyYXkiLCJpbWFnZUZpbGUiLCJpbWFnZSIsImFuaXNvdHJvcHkiLCJtb2RlbE9CSiIsInhociIsInJlYXNvbiIsImlzRGV2IiwiaXNTaG93aW5nU3RhdHMiLCJpc0xvYWRlZCIsImlzVHdlZW5pbmciLCJpc1JvdGF0aW5nIiwiaXNNb3VzZU1vdmluZyIsImlzTW91c2VPdmVyIiwiZHByIiwiZWFzaW5nIiwiZHVyYXRpb24iLCJzZWxlY3RlZCIsImluaXRpYWxUeXBlcyIsIm1vZGVscyIsImVuYWJsZUhlbHBlciIsInRyYW5zbHVjZW50IiwicG9zWCIsInBvc1kiLCJwb3NaIiwibWluQXppbXV0aEFuZ2xlIiwiSW5maW5pdHkiLCJtYXhBemltdXRoQW5nbGUiLCJoZWxwZXJFbmFibGVkIiwibWFwV2lkdGgiLCJtYXBIZWlnaHQiLCJjb21wdXRlVGFuZ2VudHMiLCJub3JtYWxzIiwidXZzIiwiblZlcnRpY2VzIiwidGFuZ2VudHMiLCJ0YW4xIiwidGFuMiIsInZBIiwidkIiLCJ2QyIsInV2QSIsInV2QiIsInV2QyIsInNkaXIiLCJ0ZGlyIiwiaGFuZGxlVHJpYW5nbGUiLCJ3IiwidG1wIiwidG1wMiIsIm4iLCJuMiIsImhhbmRsZVZlcnRleCIsImEiLCJiIiwiYyIsInN1YiIsInIiLCJpc0Zpbml0ZSIsImFkZFNjYWxlZFZlY3RvciIsImRvdCIsImNyb3NzVmVjdG9ycyIsIm1lcmdlQnVmZmVyR2VvbWV0cmllcyIsInVzZUdyb3VwcyIsImlzSW5kZXhlZCIsImF0dHJpYnV0ZXNVc2VkIiwiU2V0IiwibW9ycGhBdHRyaWJ1dGVzVXNlZCIsIm1lcmdlZEdlb21ldHJ5IiwiYXR0cmlidXRlc0NvdW50IiwibWVyZ2VkVXNlckRhdGEiLCJhZGRHcm91cCIsImluZGV4T2Zmc2V0IiwibWVyZ2VkSW5kZXgiLCJtZXJnZWRBdHRyaWJ1dGUiLCJtZXJnZUJ1ZmZlckF0dHJpYnV0ZXMiLCJudW1Nb3JwaFRhcmdldHMiLCJtb3JwaEF0dHJpYnV0ZXNUb01lcmdlIiwibWVyZ2VkTW9ycGhBdHRyaWJ1dGUiLCJhcnJheUxlbmd0aCIsImlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUiLCJpbnRlcmxlYXZlQXR0cmlidXRlcyIsImludGVybGVhdmVkQnVmZmVyIiwicmVzIiwiZ2V0dGVycyIsInNldHRlcnMiLCJpYmEiLCJrIiwiZXN0aW1hdGVCeXRlc1VzZWQiLCJtZW0iLCJhdHRyIiwibWVyZ2VWZXJ0aWNlcyIsInRvbGVyYW5jZSIsIk51bWJlciIsIkVQU0lMT04iLCJoYXNoVG9JbmRleCIsInZlcnRleENvdW50IiwibmV4dEluZGV4IiwiYXR0cmlidXRlTmFtZXMiLCJhdHRyQXJyYXlzIiwibW9ycGhBdHRyc0FycmF5cyIsIm1vcnBoQXR0ciIsImZpbGwiLCJkZWNpbWFsU2hpZnQiLCJsb2cxMCIsInNoaWZ0TXVsdGlwbGllciIsInBvdyIsImhhc2giLCJuZXdhcnJheSIsIm5ld01vcnBoQXJyYXlzIiwiZ2V0dGVyRnVuYyIsIm0iLCJtbCIsIm9sZEF0dHJpYnV0ZSIsIm9sZE1vcnBoQXR0cmlidXRlIiwibW9ycGhBdHRyaWJ1dGUiLCJUcmlhbmdsZXNEcmF3TW9kZSIsImNsZWFyR3JvdXBzIiwiY2FudmFzIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwid2ViZ2wiLCJjcmVhdGVFbGVtZW50IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiZ2V0Q29udGV4dCIsIndvcmtlcnMiLCJXb3JrZXIiLCJmaWxlYXBpIiwiRmlsZSIsIkZpbGVSZWFkZXIiLCJGaWxlTGlzdCIsImdldFdlYkdMRXJyb3JNZXNzYWdlIiwiZWxlbWVudCIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJ0ZXh0QWxpZ24iLCJwYWRkaW5nIiwibWFyZ2luIiwiaW5uZXJIVE1MIiwiYWRkR2V0V2ViR0xNZXNzYWdlIiwicGFyZW50IiwiZm4iLCJ0aHJlc2hob2xkIiwibGFzdCIsImRlZmVyVGltZXIiLCJjb250ZXh0Iiwibm93IiwiRGF0ZSIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50Q29tcGxldGUiLCJyb3VuZCIsInZlcnRpY2VzTmVlZFVwZGF0ZSIsIm5vcm1hbHNOZWVkVXBkYXRlIiwiY29sb3JzTmVlZFVwZGF0ZSIsIm1hdGVyaWFsS2V5IiwiQUxJQVMiLCJrZXlDb2RlcyIsIm9uS2V5Q2hhbmdlIiwib25CbHVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByb3AiLCJrZXlDb2RlIiwia2V5RGVzYyIsInNwbGl0IiwicHJlc3NlZCIsInRvVXBwZXJDYXNlIiwiY2hhckNvZGVBdCIsImFsaWFzZXMiLCJhbGlhc0tleXMiLCJzaGlmdEtleSIsImN0cmxLZXkiLCJhbHRLZXkiLCJtZXRhS2V5IiwibW9kdWxlIiwiZXhwb3J0cyIsIk1PVVNFIiwiT3JiaXRDb25zdHJhaW50IiwibWluWm9vbSIsIm1heFpvb20iLCJ0aGV0YSIsInBoaSIsInF1YXQiLCJxdWF0SW52ZXJzZSIsImxhc3RQb3NpdGlvbiIsImxhc3RRdWF0ZXJuaW9uIiwiRVBTIiwicGhpRGVsdGEiLCJ0aGV0YURlbHRhIiwicGFuT2Zmc2V0Iiwiem9vbUNoYW5nZWQiLCJnZXRQb2xhckFuZ2xlIiwiZ2V0QXppbXV0aGFsQW5nbGUiLCJyb3RhdGVMZWZ0Iiwicm90YXRlVXAiLCJwYW5MZWZ0IiwidGUiLCJlbGVtZW50cyIsInBhblVwIiwicGFuIiwiZGVsdGFYIiwiZGVsdGFZIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJ0YXJnZXREaXN0YW5jZSIsInRhbiIsImRvbGx5SW4iLCJkb2xseVNjYWxlIiwiem9vbSIsImRvbGx5T3V0IiwiUXVhdGVybmlvbiIsInNldEZyb21Vbml0VmVjdG9ycyIsInVwIiwiaW52ZXJzZSIsImFwcGx5UXVhdGVybmlvbiIsImF0YW4yIiwic3FydCIsInNpbiIsImNvcyIsImRpc3RhbmNlVG9TcXVhcmVkIiwiY29uc3RyYWludCIsImRlZmluZVByb3BlcnR5IiwiZW5hYmxlUGFuIiwia2V5UGFuU3BlZWQiLCJlbmFibGVLZXlzIiwiTEVGVCIsIlVQIiwiUklHSFQiLCJCT1RUT00iLCJtb3VzZUJ1dHRvbnMiLCJPUkJJVCIsIlpPT00iLCJNSURETEUiLCJQQU4iLCJyb3RhdGVTdGFydCIsInJvdGF0ZUVuZCIsInJvdGF0ZURlbHRhIiwicGFuU3RhcnQiLCJwYW5FbmQiLCJwYW5EZWx0YSIsImRvbGx5U3RhcnQiLCJkb2xseUVuZCIsImRvbGx5RGVsdGEiLCJTVEFURSIsInN0YXRlIiwidGFyZ2V0MCIsInBvc2l0aW9uMCIsInpvb20wIiwiY2hhbmdlRXZlbnQiLCJzdGFydEV2ZW50IiwiZW5kRXZlbnQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImdldFpvb21TY2FsZSIsIm9uTW91c2VEb3duIiwiYnV0dG9uIiwiY2xpZW50WCIsImNsaWVudFkiLCJvbk1vdXNlVXAiLCJkaXNwYXRjaEV2ZW50Iiwic3ViVmVjdG9ycyIsIm9uTW91c2VXaGVlbCIsInN0b3BQcm9wYWdhdGlvbiIsImRlbHRhIiwid2hlZWxEZWx0YSIsImRldGFpbCIsIm9uS2V5RG93biIsInRvdWNoc3RhcnQiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImR4IiwiZHkiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsImNvbnRleHRtZW51IiwicmVzZXQiLCJFdmVudERpc3BhdGNoZXIiLCJub1pvb20iLCJub1JvdGF0ZSIsIm5vUGFuIiwibm9LZXlzIiwic3RhdGljTW92aW5nIiwiZHluYW1pY0RhbXBpbmdGYWN0b3IiLCJQZWVyQ29ubmVjdGlvbiIsInBlZXJDb25uZWN0aW9uQ29uZmlnIiwicnRjUGVlckNvbm5lY3Rpb24iLCJkYXRhQ2hhbm5lbHMiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiUlRDUGVlckNvbm5lY3Rpb24iLCJtZXNzYWdlIiwiYWxlcnQiLCJjaGFubmVsTmFtZSIsImNyZWF0ZURhdGFDaGFubmVsIiwib3JkZXJlZCIsInJvb20iLCJWaWRlb0NhbGwiLCJsb2NhbFN0cmVhbSIsInJlbW90ZVN0cmVhbSIsInBlZXJDb25uZWN0aW9uIiwiaXNDaGFubmVsUmVhZHkiLCJpc1N0YXJ0ZWQiLCJyb29tTmFtZSIsInByb21wdCIsInNvY2tldCIsImlvIiwiY29ubmVjdCIsInNlbmRTaWduYWxpbmdNZXNzYWdlIiwiZW1pdCIsIm9uIiwibWF5YmVTdGFydCIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiY3JlYXRlQW5zd2VyIiwic2V0TG9jYWxBbmRTZW5kTWVzc2FnZSIsIm9uQ3JlYXRlU2Vzc2lvbkRlc2NyaXB0aW9uRXJyb3IiLCJSVENTZXNzaW9uRGVzY3JpcHRpb24iLCJjYW5kaWRhdGUiLCJSVENJY2VDYW5kaWRhdGUiLCJzZHBNTGluZUluZGV4IiwibGFiZWwiLCJhZGRJY2VDYW5kaWRhdGUiLCJzdG9wIiwibG9jYWxWaWRlbyIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwiYXVkaW8iLCJzdHJlYW0iLCJzcmNPYmplY3QiLCJpbml0UGVlckNvbm5lY3Rpb24iLCJnZXRUcmFja3MiLCJhZGRUcmFjayIsIm9ubWVzc2FnZSIsImhhbmRsZVJlY2VpdmVNZXNzYWdlIiwib25lcnJvciIsImhhbmRsZURhdGFDaGFubmVsRXJyb3IiLCJvbm9wZW4iLCJoYW5kbGVEYXRhQ2hhbm5lbFN0YXR1c0NoYW5nZSIsIm9uY2xvc2UiLCJjcmVhdGVPZmZlciIsImhhbmRsZUNyZWF0ZU9mZmVyRXJyb3IiLCJvbnBhZ2VoaWRlIiwiZXZlbnROYW1lIiwidXNlckFnZW50IiwibWF0Y2giLCJtYXhUb3VjaFBvaW50cyIsIm9uaWNlY2FuZGlkYXRlIiwiaGFuZGxlSWNlQ2FuZGlkYXRlIiwib250cmFjayIsImhhbmRsZVRyYWNrQWRkZWQiLCJvbmRhdGFjaGFubmVsIiwiaGFuZGxlRGF0YUNoYW5uZWxBZGRlZCIsInNkcE1pZCIsInN0cmVhbXMiLCJNZWRpYVN0cmVhbSIsImF1dG9wbGF5Iiwic2Vzc2lvbkRlc2NyaXB0aW9uIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsInRvU3RyaW5nIiwiY2xvc2UiLCJwYXVzZSIsInJlbW92ZUF0dHJpYnV0ZSIsInJlYWR5U3RhdGUiXSwibWFwcGluZ3MiOiI7cWNBZUlBLFFBQVFDLElBQUksMkNBRVpDLGlCQUFlLEVBZ0JuQixXQUVJLEdBQUlDLGdCQUVHLENBQ2VDLFNBQVNDLGVBQWUsaUJBRTFDQyxlQUFVQyxvQkFKVkosK0JBZlJLLEksd1ZDaEJxQkMsRSxXQUNuQixXQUFZQyxHQUFVLFksNEZBQUEsU0FDcEIsSUFBTUMsRUFBUUQsRUFBU0UsV0FBV0QsTUFDNUJFLEVBQVNILEVBQVNFLFdBQVdDLE9BR25DQyxLQUFLQyxZQUFjLElBQUlDLG9CQUF3QmQscUJBQW1CUyxFQUFRRSxFQUFRWCxzQkFBb0JBLHNCQUN0R1ksS0FBS0MsWUFBWUUsU0FBU0MsSUFBSWhCLHNCQUFvQkEsc0JBQW9CQSx1QkFHdEVZLEtBQUtLLFdBQVdULEdBR2hCVSxPQUFPQyxpQkFBaUIsVUFBVSxrQkFBTSxFQUFLRixXQUFXVCxNQUFXLEcsaURBR3JFLFNBQVdBLEdBRVRJLEtBQUtDLFlBQVlPLE9BQVNaLEVBQVNFLFdBQVdELE1BQVFELEVBQVNFLFdBQVdDLE9BRzFFQyxLQUFLQyxZQUFZUSw4QiwyYUNwQkFDLEUsV0FDbkIsV0FBWUMsRUFBUUMsSSw0RkFBVyxTQUU3QixJQUFNQyxFQUFnQixJQUFJQyxJQUFKLENBQWtCWixHQUN4Q0Ys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QmtHLElBR2MsU0FGRkEsRUFBWXFuQyxXQUdwQjMxQyxRQUFRQyxJQUFJLDRCQUVaRCxRQUFRQyxJQUFJLGtDIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiY29yZS1qcy9zdGFibGVcIjtcclxuaW1wb3J0IFwicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lXCI7XHJcblxyXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4vZGF0YS9jb25maWcnO1xyXG5pbXBvcnQgRGV0ZWN0b3IgZnJvbSAnLi91dGlscy9kZXRlY3Rvcic7XHJcbmltcG9ydCBHYW1lU2NlbmUgZnJvbSAnLi9hcHAvZ2FtZVNjZW5lJztcclxuaW1wb3J0IFZpZGVvQ2FsbCwge2lzSW5pdGlhdG9yfSBmcm9tICcuL3dlYnJ0Yy92aWRlb0NhbGwnO1xyXG5pbXBvcnQge3N0YXJ0UGh5c30gZnJvbSAnLi9hcHAvZ2FtZSc7XHJcblxyXG4vLyBTdHlsZXNcclxuaW1wb3J0ICcuLy4uL2Nzcy9hcHAuc2Nzcyc7XHJcblxyXG5sZXQgdmlkZW9DYWxsO1xyXG4vLyBDaGVjayBlbnZpcm9ubWVudCBhbmQgc2V0IHRoZSBDb25maWcgaGVscGVyXHJcbmlmKF9fRU5WX18gPT09ICdkZXYnKSB7XHJcbiAgICBjb25zb2xlLmxvZygnLS0tLS0gUlVOTklORyBJTiBERVYgRU5WSVJPTk1FTlQhIC0tLS0tJyk7XHJcblxyXG4gICAgQ29uZmlnLmlzRGV2ID0gdHJ1ZTtcclxufVxyXG5cclxuaW5pdFZpZGVvQ2hhdCgpXHJcbmluaXRHYW1lKCk7XHJcblxyXG5cclxuZnVuY3Rpb24gaW5pdFZpZGVvQ2hhdCgpIHtcclxuICAgIGlmKF9fRU5WX18gIT09ICdkZXYnKSB7XHJcbiAgICAgICAgdmlkZW9DYWxsID0gbmV3IFZpZGVvQ2FsbCgpO1xyXG4gICAgICAgIC8vIFRPRE8gZ2V0IGlzSW5pdGlhdG9yIGZyb20gVmlkZW9DYWxsIHNvbWVob3cuLi5cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBpbml0R2FtZSgpIHtcclxuICAgIC8vIENoZWNrIGZvciB3ZWJHTCBjYXBhYmlsaXRpZXNcclxuICAgIGlmKCFEZXRlY3Rvci53ZWJnbCkge1xyXG4gICAgICAgIERldGVjdG9yLmFkZEdldFdlYkdMTWVzc2FnZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwQ29udGFpbmVyJyk7XHJcbiAgICAgICAgLy8gbmV3IEdhbWVTY2VuZShjb250YWluZXIpO1xyXG4gICAgICAgIHN0YXJ0UGh5cyhpc0luaXRpYXRvcik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XHJcblxyXG4vLyBDbGFzcyB0aGF0IGNyZWF0ZXMgYW5kIHVwZGF0ZXMgdGhlIG1haW4gY2FtZXJhXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQuaGVpZ2h0O1xyXG5cclxuICAgIC8vIENyZWF0ZSBhbmQgcG9zaXRpb24gYSBQZXJzcGVjdGl2ZSBDYW1lcmFcclxuICAgIHRoaXMudGhyZWVDYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoQ29uZmlnLmNhbWVyYS5mb3YsIHdpZHRoIC8gaGVpZ2h0LCBDb25maWcuY2FtZXJhLm5lYXIsIENvbmZpZy5jYW1lcmEuZmFyKTtcclxuICAgIHRoaXMudGhyZWVDYW1lcmEucG9zaXRpb24uc2V0KENvbmZpZy5jYW1lcmEucG9zWCwgQ29uZmlnLmNhbWVyYS5wb3NZLCBDb25maWcuY2FtZXJhLnBvc1opO1xyXG5cclxuICAgIC8vIEluaXRpYWwgc2l6aW5nXHJcbiAgICB0aGlzLnVwZGF0ZVNpemUocmVuZGVyZXIpO1xyXG4gICAgXHJcbiAgICAvLyBMaXN0ZW5lcnNcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB0aGlzLnVwZGF0ZVNpemUocmVuZGVyZXIpLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTaXplKHJlbmRlcmVyKSB7XHJcbiAgICAvLyBVcGRhdGUgY2FtZXJhIGFzcGVjdCByYXRpbyB3aXRoIHdpbmRvdyBhc3BlY3QgcmF0aW9cclxuICAgIHRoaXMudGhyZWVDYW1lcmEuYXNwZWN0ID0gcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aCAvIHJlbmRlcmVyLmRvbUVsZW1lbnQuaGVpZ2h0O1xyXG5cclxuICAgIC8vIEFsd2F5cyBjYWxsIHVwZGF0ZVByb2plY3Rpb25NYXRyaXggb24gY2FtZXJhIGNoYW5nZVxyXG4gICAgdGhpcy50aHJlZUNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmltcG9ydCBPcmJpdENvbnRyb2xzIGZyb20gJy4uLy4uL3V0aWxzL29yYml0Q29udHJvbHMnO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcclxuXHJcbi8vIENvbnRyb2xzIGJhc2VkIG9uIG9yYml0IGNvbnRyb2xzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xzIHtcclxuICBjb25zdHJ1Y3RvcihjYW1lcmEsIGNvbnRhaW5lcikge1xyXG4gICAgLy8gT3JiaXQgY29udHJvbHMgZmlyc3QgbmVlZHMgdG8gcGFzcyBpbiBUSFJFRSB0byBjb25zdHJ1Y3RvclxyXG4gICAgY29uc3Qgb3JiaXRDb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKFRIUkVFKTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scyA9IG5ldyBvcmJpdENvbnRyb2xzKGNhbWVyYSwgY29udGFpbmVyKTtcclxuXHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMudGFyZ2V0LnNldChDb25maWcuY29udHJvbHMudGFyZ2V0LngsIENvbmZpZy5jb250cm9scy50YXJnZXQueSwgQ29uZmlnLmNvbnRyb2xzLnRhcmdldC56KTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5hdXRvUm90YXRlID0gQ29uZmlnLmNvbnRyb2xzLmF1dG9Sb3RhdGU7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuYXV0b1JvdGF0ZVNwZWVkID0gQ29uZmlnLmNvbnRyb2xzLmF1dG9Sb3RhdGVTcGVlZDtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5yb3RhdGVTcGVlZCA9IENvbmZpZy5jb250cm9scy5yb3RhdGVTcGVlZDtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy56b29tU3BlZWQgPSBDb25maWcuY29udHJvbHMuem9vbVNwZWVkO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLm1pbkRpc3RhbmNlID0gQ29uZmlnLmNvbnRyb2xzLm1pbkRpc3RhbmNlO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLm1heERpc3RhbmNlID0gQ29uZmlnLmNvbnRyb2xzLm1heERpc3RhbmNlO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLm1pblBvbGFyQW5nbGUgPSBDb25maWcuY29udHJvbHMubWluUG9sYXJBbmdsZTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5tYXhQb2xhckFuZ2xlID0gQ29uZmlnLmNvbnRyb2xzLm1heFBvbGFyQW5nbGU7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuZW5hYmxlRGFtcGluZyA9IENvbmZpZy5jb250cm9scy5lbmFibGVEYW1waW5nO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLmVuYWJsZVpvb20gPSBDb25maWcuY29udHJvbHMuZW5hYmxlWm9vbTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5kYW1waW5nRmFjdG9yID0gQ29uZmlnLmNvbnRyb2xzLmRhbXBpbmdGYWN0b3I7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmltcG9ydCBNYXRlcmlhbCBmcm9tICcuL21hdGVyaWFsJztcclxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XHJcblxyXG4vLyBUaGlzIGhlbHBlciBjbGFzcyBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW5kIHRoZW4gcGxhY2UgZ2VvbWV0cnkgaW4gdGhlIHNjZW5lXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlb21ldHJ5IHtcclxuICBjb25zdHJ1Y3RvcihzY2VuZSkge1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgdGhpcy5nZW8gPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgbWFrZSh0eXBlKSB7XHJcbiAgICBpZih0eXBlID09PSAncGxhbmUnKSB7XHJcbiAgICAgIHJldHVybiAod2lkdGgsIGhlaWdodCwgd2lkdGhTZWdtZW50cyA9IDEsIGhlaWdodFNlZ21lbnRzID0gMSkgPT4ge1xyXG4gICAgICAgIHRoaXMuZ2VvID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkod2lkdGgsIGhlaWdodCwgd2lkdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHR5cGUgPT09ICdzcGhlcmUnKSB7XHJcbiAgICAgIHJldHVybiAocmFkaXVzLCB3aWR0aFNlZ21lbnRzID0gMzIsIGhlaWdodFNlZ21lbnRzID0gMzIpID0+IHtcclxuICAgICAgICB0aGlzLmdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeShyYWRpdXMsIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHBsYWNlKHBvc2l0aW9uLCByb3RhdGlvbikge1xyXG4gICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoMHhlZWVlZWUpLnN0YW5kYXJkO1xyXG4gICAgY29uc3QgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvLCBtYXRlcmlhbCk7XHJcblxyXG4gICAgLy8gVXNlIEVTNiBzcHJlYWQgdG8gc2V0IHBvc2l0aW9uIGFuZCByb3RhdGlvbiBmcm9tIHBhc3NlZCBpbiBhcnJheVxyXG4gICAgbWVzaC5wb3NpdGlvbi5zZXQoLi4ucG9zaXRpb24pO1xyXG4gICAgbWVzaC5yb3RhdGlvbi5zZXQoLi4ucm90YXRpb24pO1xyXG5cclxuICAgIGlmKENvbmZpZy5zaGFkb3cuZW5hYmxlZCkge1xyXG4gICAgICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2NlbmUuYWRkKG1lc2gpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcclxuXHJcbi8vIFNldHMgdXAgYW5kIHBsYWNlcyBhbGwgbGlnaHRzIGluIHNjZW5lXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpZ2h0IHtcclxuICBjb25zdHJ1Y3RvcihzY2VuZSkge1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIC8vIEFtYmllbnRcclxuICAgIHRoaXMuYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodChDb25maWcuYW1iaWVudExpZ2h0LmNvbG9yKTtcclxuICAgIHRoaXMuYW1iaWVudExpZ2h0LnZpc2libGUgPSBDb25maWcuYW1iaWVudExpZ2h0LmVuYWJsZWQ7XHJcblxyXG4gICAgLy8gUG9pbnQgbGlnaHRcclxuICAgIHRoaXMucG9pbnRMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KENvbmZpZy5wb2ludExpZ2h0LmNvbG9yLCBDb25maWcucG9pbnRMaWdodC5pbnRlbnNpdHksIENvbmZpZy5wb2ludExpZ2h0LmRpc3RhbmNlKTtcclxuICAgIHRoaXMucG9pbnRMaWdodC5wb3NpdGlvbi5zZXQoQ29uZmlnLnBvaW50TGlnaHQueCwgQ29uZmlnLnBvaW50TGlnaHQueSwgQ29uZmlnLnBvaW50TGlnaHQueik7XHJcbiAgICB0aGlzLnBvaW50TGlnaHQudmlzaWJsZSA9IENvbmZpZy5wb2ludExpZ2h0LmVuYWJsZWQ7XHJcblxyXG4gICAgLy8gRGlyZWN0aW9uYWwgbGlnaHRcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LmNvbG9yLCBDb25maWcuZGlyZWN0aW9uYWxMaWdodC5pbnRlbnNpdHkpO1xyXG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLnNldChDb25maWcuZGlyZWN0aW9uYWxMaWdodC54LCBDb25maWcuZGlyZWN0aW9uYWxMaWdodC55LCBDb25maWcuZGlyZWN0aW9uYWxMaWdodC56KTtcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC52aXNpYmxlID0gQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQuZW5hYmxlZDtcclxuXHJcbiAgICAvLyBTaGFkb3cgbWFwXHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuY2FzdFNoYWRvdyA9IENvbmZpZy5zaGFkb3cuZW5hYmxlZDtcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuYmlhcyA9IENvbmZpZy5zaGFkb3cuYmlhcztcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLm5lYXIgPSBDb25maWcuc2hhZG93Lm5lYXI7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSBDb25maWcuc2hhZG93LmZhcjtcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmxlZnQgPSBDb25maWcuc2hhZG93LmxlZnQ7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IENvbmZpZy5zaGFkb3cucmlnaHQ7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS50b3AgPSBDb25maWcuc2hhZG93LnRvcDtcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmJvdHRvbSA9IENvbmZpZy5zaGFkb3cuYm90dG9tO1xyXG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gQ29uZmlnLnNoYWRvdy5tYXBXaWR0aDtcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSBDb25maWcuc2hhZG93Lm1hcEhlaWdodDtcclxuXHJcbiAgICAvLyBTaGFkb3cgY2FtZXJhIGhlbHBlclxyXG4gICAgaWYoQ29uZmlnLmlzRGV2KSB7XHJcbiAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIodGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEpO1xyXG4gICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudmlzaWJsZSA9IENvbmZpZy5zaGFkb3cuaGVscGVyRW5hYmxlZDtcclxuICAgIH1cclxuICAgIC8vIEhlbWlzcGhlcmUgbGlnaHRcclxuICAgIHRoaXMuaGVtaUxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodChDb25maWcuaGVtaUxpZ2h0LmNvbG9yLCBDb25maWcuaGVtaUxpZ2h0Lmdyb3VuZENvbG9yLCBDb25maWcuaGVtaUxpZ2h0LmludGVuc2l0eSk7XHJcbiAgICB0aGlzLmhlbWlMaWdodC5wb3NpdGlvbi5zZXQoQ29uZmlnLmhlbWlMaWdodC54LCBDb25maWcuaGVtaUxpZ2h0LnksIENvbmZpZy5oZW1pTGlnaHQueik7XHJcbiAgICB0aGlzLmhlbWlMaWdodC52aXNpYmxlID0gQ29uZmlnLmhlbWlMaWdodC5lbmFibGVkO1xyXG4gIH1cclxuXHJcbiAgcGxhY2UobGlnaHROYW1lKSB7XHJcbiAgICBzd2l0Y2gobGlnaHROYW1lKSB7XHJcbiAgICAgIGNhc2UgJ2FtYmllbnQnOlxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuYW1iaWVudExpZ2h0KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2RpcmVjdGlvbmFsJzpcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmRpcmVjdGlvbmFsTGlnaHQpO1xyXG4gICAgICAgIGlmKENvbmZpZy5pc0Rldikge1xyXG4gICAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5kaXJlY3Rpb25hbExpZ2h0SGVscGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdwb2ludCc6XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wb2ludExpZ2h0KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2hlbWknOlxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuaGVtaUxpZ2h0KTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuLy8gVVNlIHRoaXMgY2xhc3MgYXMgYSBoZWxwZXIgdG8gc2V0IHVwIHNvbWUgZGVmYXVsdCBtYXRlcmlhbHNcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0ZXJpYWwge1xyXG4gIGNvbnN0cnVjdG9yKGNvbG9yKSB7XHJcbiAgICB0aGlzLmJhc2ljID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgY29sb3IsXHJcbiAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc3RhbmRhcmQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xyXG4gICAgICBjb2xvcixcclxuICAgICAgc2hhZGluZzogVEhSRUUuRmxhdFNoYWRpbmcsXHJcbiAgICAgIHJvdWdobmVzczogMSxcclxuICAgICAgbWV0YWxuZXNzOiAwLFxyXG4gICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLndpcmUgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe3dpcmVmcmFtZTogdHJ1ZX0pO1xyXG4gIH1cclxufVxyXG5cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XHJcblxyXG4vLyBNYWluIHdlYkdMIHJlbmRlcmVyIGNsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVyIHtcclxuICBjb25zdHJ1Y3RvcihzY2VuZSwgY29udGFpbmVyKSB7XHJcbiAgICAvLyBQcm9wZXJ0aWVzXHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuXHJcbiAgICAvLyBDcmVhdGUgV2ViR0wgcmVuZGVyZXIgYW5kIHNldCBpdHMgYW50aWFsaWFzXHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XHJcbiAgICAgIGFudGlhbGlhczogdHJ1ZSxcclxuICAgICAgYWxwaGE6IHRydWVcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNldCBjbGVhciBjb2xvciB0byBmb2cgdG8gZW5hYmxlIGZvZyBvciB0byBoZXggY29sb3IgZm9yIG5vIGZvZ1xyXG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldENsZWFyQ29sb3Ioc2NlbmUuZm9nLmNvbG9yKTtcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTsgLy8gRm9yIHJldGluYVxyXG5cclxuICAgIC8vIEFwcGVuZHMgY2FudmFzXHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50aHJlZVJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG5cclxuICAgIC8vIFNoYWRvdyBtYXAgb3B0aW9uc1xyXG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XHJcblxyXG4gICAgLy8gR2V0IGFuaXNvdHJvcHkgZm9yIHRleHR1cmVzXHJcbiAgICBDb25maWcubWF4QW5pc290cm9weSA9IHRoaXMudGhyZWVSZW5kZXJlci5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpO1xyXG5cclxuICAgIC8vIEluaXRpYWwgc2l6ZSB1cGRhdGUgc2V0IHRvIGNhbnZhcyBjb250YWluZXJcclxuICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xyXG5cclxuICAgIC8vIExpc3RlbmVyc1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHRoaXMudXBkYXRlU2l6ZSgpLCBmYWxzZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy51cGRhdGVTaXplKCksIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVNpemUoKSB7XHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0U2l6ZSh0aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcihzY2VuZSwgY2FtZXJhKSB7XHJcbiAgICAvLyBSZW5kZXJzIHNjZW5lIHRvIGNhbnZhcyB0YXJnZXRcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IFRXRUVOIGZyb20gJ0B0d2VlbmpzL3R3ZWVuLmpzJztcclxuaW1wb3J0IHtHTFRGTG9hZGVyfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcclxuaW1wb3J0IHtEcmFnQ29udHJvbHN9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9EcmFnQ29udHJvbHMnXHJcbmltcG9ydCB7T3JiaXRDb250cm9sc30gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMnO1xyXG5pbXBvcnQge0dhbWVDb250cm9sbGVyfSBmcm9tICcuL2dhbWUvZ2FtZUNvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgKiBhcyBBbW1vIGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzL2xpYnMvYW1tby53YXNtLmpzJztcclxuaW1wb3J0IHtpbml0U2NlbmUsIGluaXRDYW1lcmF9IGZyb20gJy4vZ2FtZS9zY2VuZSc7XHJcblxyXG5leHBvcnQge3N0YXJ0UGh5cywgc3RhcnRHYW1lLCBnZXRTY2VuZUpTT04sIHVwZGF0ZVJlbW90ZU9iamVjdHMsIG1vdmVSZW1vdGVWaWRlb1RvU2NlbmV9O1xyXG5cclxuY29uc3QgZ2FtZUNvbnRyb2xsZXIgPSBHYW1lQ29udHJvbGxlcigpO1xyXG5cclxuLy8gYW4gYXJyYXkgb2Ygb2JqZWN0cyB0byBzeW5jXHJcbmNvbnN0IG9iamVjdHNUb1N5bmMgPSBuZXcgTWFwKCk7XHJcblxyXG5jb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcclxuICAgIGFscGhhOiB0cnVlXHJcbn0pO1xyXG5cclxubGV0IGxvY2FsU2NlbmU7XHJcbmxldCBsb2NhbENhbWVyYTtcclxuXHJcbmxldCBkcmFnQ29udHJvbDtcclxubGV0IGRyYWdnYWJsZU9iamVjdHNTZWxsZXIgPSBbXTtcclxuXHJcbmxldCBjdWJlLCBjdWJlMiwgY3ViZTM7XHJcbmxldCBpc1NlbGxlciA9IGZhbHNlO1xyXG5cclxubGV0IGR1Y2tNZXNoO1xyXG4vLyBsZXQgb3JiaXRDb250cm9scztcclxuXHJcbmxldCBwaHlzaWNzV29ybGQ7XHJcblxyXG5jb25zdCBzdGFydFBoeXMgPSAoKSA9PiB7XHJcbiAgICBBbW1vKCkudGhlbiggZnVuY3Rpb24oIEFtbW8gKSB7XHJcbiAgICAgICAgc2V0dXBQaHlzaWNzV29ybGQoQW1tbyk7XHJcblxyXG4gICAgICAgIHN0YXJ0R2FtZSh0cnVlKTtcclxuXHJcbiAgICB9IClcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHN0YXJ0R2FtZShpc0luaXRpYXRvcikge1xyXG5cclxuXHJcbiAgICBpc1NlbGxlciA9IGlzSW5pdGlhdG9yO1xyXG4gICAgY29uc29sZS5sb2coXCJTdGFydGVkIGdhbWUgd2l0aCBpc0luaXRpYXRvciA9IFwiICsgaXNJbml0aWF0b3IpO1xyXG4gICAgaW5pdCgpO1xyXG4gICAgaW5pdDNET2JqZWN0cygpO1xyXG4gICAgYWN0aXZhdGVEcmFnQ29udHJvbHMoKTtcclxuICAgIGFuaW1hdGUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0dXBQaHlzaWNzV29ybGQoQW1tbyl7XHJcblxyXG4gICAgbGV0IGNvbGxpc2lvbkNvbmZpZ3VyYXRpb24gID0gbmV3IEFtbW8uYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbigpLFxyXG4gICAgICAgIGRpc3BhdGNoZXIgICAgICAgICAgICAgID0gbmV3IEFtbW8uYnRDb2xsaXNpb25EaXNwYXRjaGVyKGNvbGxpc2lvbkNvbmZpZ3VyYXRpb24pLFxyXG4gICAgICAgIG92ZXJsYXBwaW5nUGFpckNhY2hlICAgID0gbmV3IEFtbW8uYnREYnZ0QnJvYWRwaGFzZSgpLFxyXG4gICAgICAgIHNvbHZlciAgICAgICAgICAgICAgICAgID0gbmV3IEFtbW8uYnRTZXF1ZW50aWFsSW1wdWxzZUNvbnN0cmFpbnRTb2x2ZXIoKTtcclxuXHJcbiAgICBwaHlzaWNzV29ybGQgICAgICAgICAgID0gbmV3IEFtbW8uYnREaXNjcmV0ZUR5bmFtaWNzV29ybGQoZGlzcGF0Y2hlciwgb3ZlcmxhcHBpbmdQYWlyQ2FjaGUsIHNvbHZlciwgY29sbGlzaW9uQ29uZmlndXJhdGlvbik7XHJcbiAgICBwaHlzaWNzV29ybGQuc2V0R3Jhdml0eShuZXcgQW1tby5idFZlY3RvcjMoMCwgLTEwLCAwKSk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0KCkge1xyXG5cclxuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8oIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICk7XHJcbiAgICByZW5kZXJlci5zZXRTaXplKCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0ICk7XHJcbiAgICByZW5kZXJlci5hdXRvQ2xlYXIgPSBmYWxzZTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwQ29udGFpbmVyXCIpLmFwcGVuZENoaWxkKCByZW5kZXJlci5kb21FbGVtZW50ICk7XHJcblxyXG4gICAgbG9jYWxTY2VuZSA9IGluaXRTY2VuZSgpO1xyXG4gICAgbG9jYWxDYW1lcmEgPSAgaW5pdENhbWVyYShpc1NlbGxlcik7XHJcblxyXG4gICAgLy8gb3JiaXRDb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKCBsb2NhbENhbWVyYSwgcmVuZGVyZXIuZG9tRWxlbWVudCApO1xyXG5cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5pdDNET2JqZWN0cygpIHtcclxuICAgIGNvbnN0IGxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XHJcbiAgICBsZXQgbG9hZGVkRGF0YSA9IGF3YWl0IGxvYWRlci5sb2FkQXN5bmMoJ2Fzc2V0cy9tb2RlbHMvZHVjay5nbHRmJyk7XHJcbiAgICBsb2FkZWREYXRhLnNjZW5lLnRyYXZlcnNlKChvKSA9PiB7XHJcbiAgICAgICAgaWYgKG8uaXNNZXNoKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZGlyKCdMb2FkZWQgZGF0YTogJyArIEpTT04uc3RyaW5naWZ5KG8pKTtcclxuICAgICAgICAgICAgZHVja01lc2ggPSBuZXcgVEhSRUUuTWVzaCgpO1xyXG4gICAgICAgICAgICBvLnNjYWxlLnNldCgwLjAxLDAuMDEsMC4wMSk7XHJcblxyXG4gICAgICAgICAgICBkdWNrTWVzaCA9IG87XHJcbiAgICAgICAgICAgIGxldCBkcmFnbyA9IG5ldyBEcmFnQ29udHJvbHMoIFtkdWNrTWVzaF0sIGxvY2FsQ2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50ICk7XHJcbiAgICAgICAgICAgIGRyYWdvLmFkZEV2ZW50TGlzdGVuZXIoICdkcmFnJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVDb250cm9sbGVyLnNlbmRHYW1lb2JqZWN0VXBkYXRlKGdldE9iakpTT04oZXZlbnQub2JqZWN0KSk7XHJcbiAgICAgICAgICAgICAgICByZW5kZXIoKTtcclxuICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGlzU2VsbGVyKSB7IFxyXG4gICAgICAgIC8vIGluaXQgc2VsbGVyIHNwZWNpZmljIGl0ZW1zIGluIGxvY2FsIHNjZW5lXHJcblxyXG4gICAgICAgIGxldCBkdWNrTWVzaDEgPSBkdWNrTWVzaC5jbG9uZSgpO1xyXG4gICAgICAgIGR1Y2tNZXNoMS5uYW1lID0gXCJkdWNrTWVzaDFcIjtcclxuICAgICAgICBsb2NhbFNjZW5lLmFkZChkdWNrTWVzaDEpO1xyXG4gICAgICAgIGR1Y2tNZXNoMS5wb3NpdGlvbi5zZXQoMCwgLTQsIDApO1xyXG4gICAgICAgIG9iamVjdHNUb1N5bmMuc2V0KGR1Y2tNZXNoMS5uYW1lLCBkdWNrTWVzaDEpO1xyXG4gICAgICAgIGFkZE9iamVjdFRvRHJhZ0NvbnJvbHMoZHVja01lc2gxKTtcclxuXHJcbiAgICAgICAgbGV0IGR1Y2tNZXNoMiA9IGR1Y2tNZXNoLmNsb25lKCk7XHJcbiAgICAgICAgZHVja01lc2gyLm5hbWUgPSBcImR1Y2tNZXNoMlwiO1xyXG4gICAgICAgIGR1Y2tNZXNoMi5wb3NpdGlvbi5zZXQoMSwgLTQsIDApO1xyXG4gICAgICAgIGxvY2FsU2NlbmUuYWRkKGR1Y2tNZXNoMik7XHJcbiAgICAgICAgb2JqZWN0c1RvU3luYy5zZXQoZHVja01lc2gyLm5hbWUsIGR1Y2tNZXNoMik7XHJcbiAgICAgICAgYWRkT2JqZWN0VG9EcmFnQ29ucm9scyhkdWNrTWVzaDIpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gaW5pdCBidXllciBzcGVjaWZpYyBpdGVtcyBpbiBsb2NhbCBzY2VuZVxyXG5cclxuICAgICAgICBsZXQgZHVja01lc2gzID0gZHVja01lc2guY2xvbmUoKTtcclxuICAgICAgICBkdWNrTWVzaDMubmFtZSA9IFwiZHVja01lc2gzXCI7XHJcbiAgICAgICAgZHVja01lc2gzLnBvc2l0aW9uLnNldCgtMSwgLTQsIDApO1xyXG4gICAgICAgIGxvY2FsU2NlbmUuYWRkKGR1Y2tNZXNoMyk7XHJcbiAgICAgICAgb2JqZWN0c1RvU3luYy5zZXQoZHVja01lc2gzLm5hbWUsIGR1Y2tNZXNoMyk7XHJcbiAgICAgICAgYWRkT2JqZWN0VG9EcmFnQ29ucm9scyhkdWNrTWVzaDMpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgIFxyXG4gICAgcmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgPSBUSFJFRS5zUkdCRW5jb2Rpbmc7XHJcblxyXG4gICAgXHJcblxyXG4gICAgLy8gaW5pdCBzdGF0aWMgc3R1ZmYgZm9yIGJvdGggKGVnLiBjb3VudGVyLCBldGMpXHJcbiAgICAvLyBsb2FkM2RBc3NldChsb2FkZXIsICcuLi8uLi9hc3NldHMvYWJyaWNvdC5nbHRmJywgbmV3IFRIUkVFLlZlY3RvcjMoMC4yLCAwLjIsIDAuMiksICdhcHJpY290VGVtcGxhdGUnLCBwZXJzb25hbFNwYWNlKTtcclxuICAgIC8vIGxvYWQzZEFzc2V0KGxvYWRlciwgJy4uLy4uL2Fzc2V0cy9iYW5hbmEuZ2xiJywgbmV3IFRIUkVFLlZlY3RvcjMoMC4yLCAwLjIsIDAuMiksICdiYW5hbmFUZW1wbGF0ZScsIHBlcnNvbmFsU3BhY2UpO1xyXG4gICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSggNCwgOC8zICk7XHJcbiAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCgge2NvbG9yOiAweDhCNDUxMywgc2lkZTogVEhSRUUuRG91YmxlU2lkZX0gKTtcclxuICAgIGNvbnN0IHBsYW5lID0gbmV3IFRIUkVFLk1lc2goIGdlb21ldHJ5LCBtYXRlcmlhbCApO1xyXG4gICAgcGxhbmUucG9zaXRpb24ueSA9IC0yO1xyXG4gICAgcGxhbmUucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG4gICAgbG9jYWxTY2VuZS5hZGQoIHBsYW5lICk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBtb3ZlUmVtb3RlVmlkZW9Ub1NjZW5lKCkge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS1tb3ZlUmVtb3RlVmlkZW9Ub1NjZW5lLS0tLS0tLS0tLS0tLVwiKTtcclxuICAgICAgICBjb25zdCByZW1vdGVWaWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtb3RlVmlkZW9cIik7XHJcbiAgICAgICAgY29uc3QgcmVvbW90ZVZpZGVvQXNwZWN0UmF0aW8gPSByZW1vdGVWaWRlby5vZmZzZXRXaWR0aC9yZW1vdGVWaWRlby5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVtb3RlVmlkZW8pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwid2lkdGg6IFwiICsgcmVtb3RlVmlkZW8ub2Zmc2V0V2lkdGgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaGVpZ2h0OiBcIiArIHJlbW90ZVZpZGVvLm9mZnNldEhlaWdodCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHZpZGVvR2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSggNCwgNC9yZW9tb3RlVmlkZW9Bc3BlY3RSYXRpbyApO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvTWF0ZXJpYWwgPSBtYWtlVmlkZW9NYXRlcmlhbChcInJlbW90ZVZpZGVvXCIpO1xyXG4gICAgICAgIGNvbnN0IGN1YmUyID0gbmV3IFRIUkVFLk1lc2goIHZpZGVvR2VvbWV0cnksIHZpZGVvTWF0ZXJpYWwgKTtcclxuICAgICAgICBsb2NhbFNjZW5lLmFkZCggY3ViZTIgKTtcclxuICAgIH0sIDEwMDAgKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGFjdGl2YXRlRHJhZ0NvbnRyb2xzKCkge1xyXG5cclxuICAgIFxyXG4gICAgZHJhZ0NvbnRyb2wgPSBuZXcgRHJhZ0NvbnRyb2xzKCBbIC4uLmRyYWdnYWJsZU9iamVjdHNTZWxsZXIgXSwgbG9jYWxDYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQgKTtcclxuICAgIC8vZHJhZ0NvbnRyb2wudHJhbnNmb3JHcm91cCA9IHRydWU7XHJcbiAgICBkcmFnQ29udHJvbC5hZGRFdmVudExpc3RlbmVyKCAnZHJhZycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZ2FtZUNvbnRyb2xsZXIuc2VuZEdhbWVvYmplY3RVcGRhdGUoZ2V0T2JqSlNPTihldmVudC5vYmplY3QpKTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgIH0gKTtcclxuICAgXHJcbiAgICAvLyBkcmFnQ29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIC8vICAgICBpZihldmVudC5vYmplY3QucG9zaXRpb24ueSA+IC0xLjUpIHtcclxuXHJcbiAgICAvLyAgICAgICAgIGxldCB0ZW1wID0gZXZlbnQub2JqZWN0LmNsb25lKCk7XHJcbiAgICAvLyAgICAgICAgIHRlbXAucG9zaXRpb24uc2V0KGV2ZW50Lm9iamVjdC5wb3NpdGlvbi54LCBldmVudC5vYmplY3QucG9zaXRpb24ueSwgZXZlbnQub2JqZWN0LnBvc2l0aW9uLnopO1xyXG4gICAgLy8gICAgICAgICB0ZW1wLm5hbWUgPSB0ZW1wLnV1aWQ7XHJcbiAgICAvLyAgICAgICAgIHBlcnNvbmFsU3BhY2UuYWRkKHRlbXApO1xyXG4gICAgLy8gICAgICAgICBvYmplY3RzVG9TeW5jLnNldCh0ZW1wLm5hbWUsIHRlbXApO1xyXG4gICAgLy8gICAgICAgICBhZGRPYmplY3RUb0RyYWdDb25yb2xzKHRlbXApO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBldmVudC5vYmplY3QucG9zaXRpb24uc2V0KGV2ZW50Lm9iamVjdC5zdGFydFBvc2l0aW9uLngsIGV2ZW50Lm9iamVjdC5zdGFydFBvc2l0aW9uLnksIGV2ZW50Lm9iamVjdC5zdGFydFBvc2l0aW9uLnopO1xyXG4gICAgLy8gfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuaW1hdGUoKSB7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIGFuaW1hdGUgKTtcclxuICAgIC8vY3ViZS5yb3RhdGlvbi55ICs9IDAuMDE7XHJcbiAgICAvLyBvcmJpdENvbnRyb2xzLnVwZGF0ZSgpO1xyXG4gICAgcmVuZGVyZXIucmVuZGVyKCBsb2NhbFNjZW5lLCBsb2NhbENhbWVyYSApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRPYmpKU09OKG9iamVjdCkge1xyXG4gICAgbGV0IG9iaiA9IHtuYW1lOiBvYmplY3QubmFtZSwgcG9zaXRpb246IG9iamVjdC5wb3NpdGlvbiwgcm90YXRpb246IG9iamVjdC5yb3RhdGlvbn07XHJcbiAgICBsZXQganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaik7XHJcbiAgICBjb25zb2xlLmxvZygnSlNPTjonICsganNvbilcclxuICAgIHJldHVybiBqc29uO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTY2VuZUpTT04oKSB7XHJcbiAgICAvLyBUT0RPIGJ1aWxkIGFuZCByZXR1cm4gYSBKU09OIGZyb20gYWxsIGxvY2FsT2JqZWN0cywgbm90IG9ubHkgY3ViZVxyXG4gICAgbGV0IGN1YmVPYmogPSB7dXVpZDogY3ViZS51dWlkLCBwb3NpdGlvbjogY3ViZS5wb3NpdGlvbiwgcm90YXRpb246IGN1YmUucm90YXRpb259O1xyXG4gICAgLy8gbGV0IGpzb24gPSBKU09OLnN0cmluZ2lmeShjdWJlT2JqKTtcclxuICAgIGxldCBqc29uID0gSlNPTi5zdHJpbmdpZnkoZHJhZ2dhYmxlT2JqZWN0c1NlbGxlcik7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnSlNPTjonICsganNvbilcclxuICAgIHJldHVybiBqc29uO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVSZW1vdGVPYmplY3RzKGRhdGEpIHtcclxuICAgIGxldCBvYmogPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ1BhcnNlZCBKU09OIHV1aWQ6ICcgKyBvYmoudXVpZCArICcsIHBvc2l0aW9ueDogJyArIG9iai5wb3NpdGlvbi54ICsgJywgcm90YXRpb254OiAnICsgb2JqLnJvdGF0aW9uLl94KTtcclxuXHJcbiAgICBpZihvYmplY3RzVG9TeW5jLmhhcyhvYmoubmFtZSkpIHtcclxuICAgICAgICBsZXQgbG9jYWxFbGVtZW50ID0gbG9jYWxTY2VuZS5nZXRPYmplY3RCeU5hbWUob2JqLm5hbWUpO1xyXG5cclxuICAgICAgICBsb2NhbEVsZW1lbnQucG9zaXRpb24ueCA9IG9iai5wb3NpdGlvbi54O1xyXG4gICAgICAgIGxvY2FsRWxlbWVudC5wb3NpdGlvbi55ID0gb2JqLnBvc2l0aW9uLnk7XHJcbiAgICAgICAgbG9jYWxFbGVtZW50LnBvc2l0aW9uLnogPSBvYmoucG9zaXRpb24uejtcclxuICAgICAgICBsb2NhbEVsZW1lbnQucm90YXRpb24ueCA9IG9iai5yb3RhdGlvbi5feDtcclxuICAgICAgICBsb2NhbEVsZW1lbnQucm90YXRpb24ueSA9IG9iai5yb3RhdGlvbi5feTtcclxuICAgICAgICBsb2NhbEVsZW1lbnQucm90YXRpb24ueiA9IG9iai5yb3RhdGlvbi5fejtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY3JlYXRlcyBhbmQgYWRkIHRvIHNjZW5lIGFuZCBvYmplY3RzVG9TeW5jXHJcbiAgICAgICAgZHVja01lc2gubmFtZSA9IG9iai5uYW1lO1xyXG4gICAgICAgIGR1Y2tNZXNoLnBvc2l0aW9uLnNldChvYmoucG9zaXRpb24ueCwgb2JqLnBvc2l0aW9uLnksIG9iai5wb3NpdGlvbi56KTtcclxuICAgICAgICBsZXQgbmV3T2JqID0gZHVja01lc2guY2xvbmUoKTtcclxuICAgICAgICAvLyBsZXQgbmV3T2JqID0gaW5pdEN1YmUoREVGQVVMVF9WQUxVRVMuZ2VvbWV0cnlDdWJlLCBERUZBVUxUX1ZBTFVFUy5jb2xvclJlZCwgbmV3IFRIUkVFLlZlY3RvcjMob2JqLnBvc2l0aW9uLngsIG9iai5wb3NpdGlvbi55LCBvYmoucG9zaXRpb24ueiksIHRydWUsIGRyYWdnYWJsZU9iamVjdHNTZWxsZXIsIHBlcnNvbmFsU3BhY2UpO1xyXG4gICAgICAgIG9iamVjdHNUb1N5bmMuc2V0KG5ld09iai5uYW1lLCBuZXdPYmopO1xyXG4gICAgICAgIC8vIG5ld09iai5wb3NpdGlvbi5zZXQob2JqLnBvc2l0aW9uLngsIG9iai5wb3NpdGlvbi55LCBvYmoucG9zaXRpb24ueik7XHJcbiAgICAgICAgbG9jYWxTY2VuZS5hZGQobmV3T2JqKTtcclxuICAgICAgICBhZGRPYmplY3RUb0RyYWdDb25yb2xzKG5ld09iaik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vVE9PRCBtYXliZSB0d2Vlbi9pbnRlcnBvbGF0ZSBiZXR3ZWVuIHBvc2l0aW9uc1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRPYmplY3RUb0RyYWdDb25yb2xzKG9iaikge1xyXG4gICAgZHJhZ2dhYmxlT2JqZWN0c1NlbGxlci5wdXNoKG9iaik7XHJcbiAgICBkcmFnQ29udHJvbCA9IG5ldyBEcmFnQ29udHJvbHMoWy4uLmRyYWdnYWJsZU9iamVjdHNTZWxsZXJdLCBsb2NhbENhbWVyYSwgcmVuZGVyZXIuZG9tRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcignZHJhZycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZ2FtZUNvbnRyb2xsZXIuc2VuZEdhbWVvYmplY3RVcGRhdGUoZ2V0T2JqSlNPTihldmVudC5vYmplY3QpKTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlVmlkZW9NYXRlcmlhbChpZCkge1xyXG4gICAgbGV0IHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgIGxldCB2aWRlb1RleHR1cmUgPSBuZXcgVEhSRUUuVmlkZW9UZXh0dXJlKHZpZGVvRWxlbWVudCk7XHJcbiAgXHJcbiAgICBsZXQgdmlkZW9NYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgIG1hcDogdmlkZW9UZXh0dXJlLFxyXG4gICAgICBvdmVyZHJhdzogdHJ1ZSxcclxuICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSxcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgcmV0dXJuIHZpZGVvTWF0ZXJpYWw7XHJcbiAgfVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCkge1xyXG5cclxuICAgIHJlbmRlcmVyLnJlbmRlciggbG9jYWxTY2VuZSwgbG9jYWxDYW1lcmEgKTtcclxufVxyXG5cclxuIiwiLy8gR2xvYmFsIGltcG9ydHMgLVxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCBUV0VFTiBmcm9tICdAdHdlZW5qcy90d2Vlbi5qcyc7XHJcblxyXG4vLyBMb2NhbCBpbXBvcnRzIC1cclxuLy8gQ29tcG9uZW50c1xyXG5pbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9jb21wb25lbnRzL3JlbmRlcmVyJztcclxuaW1wb3J0IENhbWVyYSBmcm9tICcuL2NvbXBvbmVudHMvY2FtZXJhJztcclxuaW1wb3J0IExpZ2h0IGZyb20gJy4vY29tcG9uZW50cy9saWdodCc7XHJcbmltcG9ydCBDb250cm9scyBmcm9tICcuL2NvbXBvbmVudHMvY29udHJvbHMnO1xyXG5pbXBvcnQgR2VvbWV0cnkgZnJvbSAnLi9jb21wb25lbnRzL2dlb21ldHJ5JztcclxuXHJcbi8vIEhlbHBlcnNcclxuaW1wb3J0IFN0YXRzIGZyb20gJy4vaGVscGVycy9zdGF0cyc7XHJcbmltcG9ydCBNZXNoSGVscGVyIGZyb20gJy4vaGVscGVycy9tZXNoSGVscGVyJztcclxuXHJcbi8vIE1vZGVsXHJcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vbW9kZWwvdGV4dHVyZSc7XHJcbmltcG9ydCBNb2RlbCBmcm9tICcuL21vZGVsL21vZGVsJztcclxuXHJcbi8vIE1hbmFnZXJzXHJcbmltcG9ydCBJbnRlcmFjdGlvbiBmcm9tICcuL21hbmFnZXJzL2ludGVyYWN0aW9uJztcclxuaW1wb3J0IERhdEdVSSBmcm9tICcuL21hbmFnZXJzL2RhdEdVSSc7XHJcblxyXG4vLyBkYXRhXHJcbmltcG9ydCBDb25maWcgZnJvbSAnLi8uLi9kYXRhL2NvbmZpZyc7XHJcbi8vIC0tIEVuZCBvZiBpbXBvcnRzXHJcblxyXG4vLyBUaGlzIGNsYXNzIGluc3RhbnRpYXRlcyBhbmQgdGllcyBhbGwgb2YgdGhlIGNvbXBvbmVudHMgdG9nZXRoZXIsIHN0YXJ0cyB0aGUgbG9hZGluZyBwcm9jZXNzIGFuZCByZW5kZXJzIHRoZSBtYWluIGxvb3BcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVNjZW5lIHtcclxuICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcclxuICAgIC8vIFNldCBjb250YWluZXIgcHJvcGVydHkgdG8gY29udGFpbmVyIGVsZW1lbnRcclxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG5cclxuICAgIC8vIFN0YXJ0IFRocmVlIGNsb2NrXHJcbiAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XHJcblxyXG4gICAgLy8gTWFpbiBzY2VuZSBjcmVhdGlvblxyXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nRXhwMihDb25maWcuZm9nLmNvbG9yLCBDb25maWcuZm9nLm5lYXIpO1xyXG5cclxuICAgIC8vIEdldCBEZXZpY2UgUGl4ZWwgUmF0aW8gZmlyc3QgZm9yIHJldGluYVxyXG4gICAgaWYod2luZG93LmRldmljZVBpeGVsUmF0aW8pIHtcclxuICAgICAgQ29uZmlnLmRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1haW4gcmVuZGVyZXIgY29uc3RydWN0b3JcclxuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIodGhpcy5zY2VuZSwgY29udGFpbmVyKTtcclxuXHJcbiAgICAvLyBDb21wb25lbnRzIGluc3RhbnRpYXRpb25zXHJcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcy5yZW5kZXJlci50aHJlZVJlbmRlcmVyKTtcclxuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgQ29udHJvbHModGhpcy5jYW1lcmEudGhyZWVDYW1lcmEsIGNvbnRhaW5lcik7XHJcbiAgICB0aGlzLmxpZ2h0ID0gbmV3IExpZ2h0KHRoaXMuc2NlbmUpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhbmQgcGxhY2UgbGlnaHRzIGluIHNjZW5lXHJcbiAgICBjb25zdCBsaWdodHMgPSBbJ2FtYmllbnQnLCAnZGlyZWN0aW9uYWwnLCAncG9pbnQnLCAnaGVtaSddO1xyXG4gICAgbGlnaHRzLmZvckVhY2goKGxpZ2h0KSA9PiB0aGlzLmxpZ2h0LnBsYWNlKGxpZ2h0KSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGFuZCBwbGFjZSBnZW8gaW4gc2NlbmVcclxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkodGhpcy5zY2VuZSk7XHJcbiAgICB0aGlzLmdlb21ldHJ5Lm1ha2UoJ3BsYW5lJykoMTUwLCAxNTAsIDEwLCAxMCk7XHJcbiAgICB0aGlzLmdlb21ldHJ5LnBsYWNlKFswLCAtMjAsIDBdLCBbTWF0aC5QSSAvIDIsIDAsIDBdKTtcclxuXHJcbiAgICAvLyBTZXQgdXAgclN0YXRzIGlmIGRldiBlbnZpcm9ubWVudFxyXG4gICAgaWYoQ29uZmlnLmlzRGV2ICYmIENvbmZpZy5pc1Nob3dpbmdTdGF0cykge1xyXG4gICAgICB0aGlzLnN0YXRzID0gbmV3IFN0YXRzKHRoaXMucmVuZGVyZXIpO1xyXG4gICAgICB0aGlzLnN0YXRzLnNldFVwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHVwIGRhdCBndWlcclxuICAgIGlmIChDb25maWcuaXNEZXYpIHtcclxuICAgICAgdGhpcy5ndWkgPSBuZXcgRGF0R1VJKHRoaXMpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5zdGFudGlhdGUgdGV4dHVyZSBjbGFzc1xyXG4gICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoKTtcclxuXHJcbiAgICAvLyBTdGFydCBsb2FkaW5nIHRoZSB0ZXh0dXJlcyBhbmQgdGhlbiBnbyBvbiB0byBsb2FkIHRoZSBtb2RlbCBhZnRlciB0aGUgdGV4dHVyZSBQcm9taXNlcyBoYXZlIHJlc29sdmVkXHJcbiAgICB0aGlzLnRleHR1cmUubG9hZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICB0aGlzLm1hbmFnZXIgPSBuZXcgVEhSRUUuTG9hZGluZ01hbmFnZXIoKTtcclxuXHJcbiAgICAgIC8vIFRleHR1cmVzIGxvYWRlZCwgbG9hZCBtb2RlbFxyXG4gICAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKHRoaXMuc2NlbmUsIHRoaXMubWFuYWdlciwgdGhpcy50ZXh0dXJlLnRleHR1cmVzKTtcclxuICAgICAgdGhpcy5tb2RlbC5sb2FkKENvbmZpZy5tb2RlbHNbQ29uZmlnLm1vZGVsLnNlbGVjdGVkXS50eXBlKTtcclxuXHJcbiAgICAgIC8vIG9uUHJvZ3Jlc3MgY2FsbGJhY2tcclxuICAgICAgdGhpcy5tYW5hZ2VyLm9uUHJvZ3Jlc3MgPSAoaXRlbSwgbG9hZGVkLCB0b3RhbCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke2l0ZW19OiAke2xvYWRlZH0gJHt0b3RhbH1gKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIEFsbCBsb2FkZXJzIGRvbmUgbm93XHJcbiAgICAgIHRoaXMubWFuYWdlci5vbkxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gU2V0IHVwIGludGVyYWN0aW9uIG1hbmFnZXIgd2l0aCB0aGUgYXBwIG5vdyB0aGF0IHRoZSBtb2RlbCBpcyBmaW5pc2hlZCBsb2FkaW5nXHJcbiAgICAgICAgbmV3IEludGVyYWN0aW9uKHRoaXMucmVuZGVyZXIudGhyZWVSZW5kZXJlciwgdGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEudGhyZWVDYW1lcmEsIHRoaXMuY29udHJvbHMudGhyZWVDb250cm9scyk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBkYXQuR1VJIGNvbnRyb2xzIGlmIGRldlxyXG4gICAgICAgIGlmKENvbmZpZy5pc0Rldikge1xyXG4gICAgICAgICAgdGhpcy5tZXNoSGVscGVyID0gbmV3IE1lc2hIZWxwZXIodGhpcy5zY2VuZSwgdGhpcy5tb2RlbC5vYmopO1xyXG4gICAgICAgICAgaWYgKENvbmZpZy5tZXNoLmVuYWJsZUhlbHBlcikgdGhpcy5tZXNoSGVscGVyLmVuYWJsZSgpO1xyXG5cclxuICAgICAgICAgIHRoaXMuZ3VpLmxvYWQodGhpcywgdGhpcy5tb2RlbC5vYmopO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXZlcnl0aGluZyBpcyBub3cgZnVsbHkgbG9hZGVkXHJcbiAgICAgICAgQ29uZmlnLmlzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTdGFydCByZW5kZXIgd2hpY2ggZG9lcyBub3Qgd2FpdCBmb3IgbW9kZWwgZnVsbHkgbG9hZGVkXHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgLy8gUmVuZGVyIHJTdGF0cyBpZiBEZXZcclxuICAgIGlmKENvbmZpZy5pc0RldiAmJiBDb25maWcuaXNTaG93aW5nU3RhdHMpIHtcclxuICAgICAgU3RhdHMuc3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxsIHJlbmRlciBmdW5jdGlvbiBhbmQgcGFzcyBpbiBjcmVhdGVkIHNjZW5lIGFuZCBjYW1lcmFcclxuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhKTtcclxuXHJcbiAgICAvLyByU3RhdHMgaGFzIGZpbmlzaGVkIGRldGVybWluaW5nIHJlbmRlciBjYWxsIG5vd1xyXG4gICAgaWYoQ29uZmlnLmlzRGV2ICYmIENvbmZpZy5pc1Nob3dpbmdTdGF0cykge1xyXG4gICAgICBTdGF0cy5lbmQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZWx0YSB0aW1lIGlzIHNvbWV0aW1lcyBuZWVkZWQgZm9yIGNlcnRhaW4gdXBkYXRlc1xyXG4gICAgLy9jb25zdCBkZWx0YSA9IHRoaXMuY2xvY2suZ2V0RGVsdGEoKTtcclxuXHJcbiAgICAvLyBDYWxsIGFueSB2ZW5kb3Igb3IgbW9kdWxlIGZyYW1lIHVwZGF0ZXMgaGVyZVxyXG4gICAgVFdFRU4udXBkYXRlKCk7XHJcbiAgICB0aGlzLmNvbnRyb2xzLnRocmVlQ29udHJvbHMudXBkYXRlKCk7XHJcblxyXG4gICAgLy8gUkFGXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXIuYmluZCh0aGlzKSk7IC8vIEJpbmQgdGhlIG1haW4gY2xhc3MgaW5zdGVhZCBvZiB3aW5kb3cgb2JqZWN0XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCB7R2FtZUNvbnRyb2xsZXJ9O1xyXG5cclxuaW1wb3J0IHtkYXRhQ2hhbm5lbH0gZnJvbSAnLi4vLi4vd2VicnRjL3ZpZGVvQ2FsbCc7XHJcblxyXG5sZXQgbG9jYWxPYmplY3RzID0gW107IC8vIEpTT05zIG9mIGxvY2FsbHkgbWFpbnRhaW5lZCBvYmplY3RzIC0gd2Ugc2VuZCB1cGRhdGVzIGZvciB0aGVzZVxyXG4vLyBsZXQgbG9jYWxPYmplY3RzTWFwID0gbmV3IE1hcCgpO1xyXG5cclxuY29uc3QgR2FtZUNvbnRyb2xsZXIgPSAoKSA9PiB7XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTG9jYWxPYmplY3Qob2JqKSB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibG9jYWxPYmplY3QgYWRkZWQgZm9yIGdhbWUgc3luYzogXCIgKyBKU09OLnN0cmluZ2lmeShvYmopICsgXCIgaWQ6IFwiICsgb2JqLmlkKVxyXG4gICAgICAgIGxldCBjdXN0b21PYmplY3QgPSB7dXVpZDogb2JqLnV1aWQsIHBvc2l0aW9uOiBvYmoucG9zaXRpb24sIHJvdGF0aW9uOiBvYmoucm90YXRpb259O1xyXG4gICAgICAgIGxldCBqc29uID0gSlNPTi5zdHJpbmdpZnkoY3VzdG9tT2JqZWN0KTtcclxuICAgICAgICBsb2NhbE9iamVjdHMucHVzaChqc29uKTtcclxuXHJcbiAgICAgICAgLy8gbG9jYWxPYmplY3RzTWFwLnNldChvYmouaWQsIGpzb24pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2hhcmVkU2NlbmVTeW5jOyBcclxuICAgIGZ1bmN0aW9uIHN0YXJ0U2hhcmVkU2NlbmVTeW5jKCkge1xyXG4gICAgICAgIC8vIHNoYXJlZFNjZW5lU3luYyA9IHNldEludGVydmFsKHNlbmRMb2NhbE9iamVjdHNVcGRhdGUsIDMwKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlNUQVJURUQgU0hBUkVEIFNDRU5FIFNZTkNcIilcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdG9wU2hhcmVkU2NlbmVTeW5jKCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc2hhcmVkU2NlbmVTeW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZW5kU2hhcmVkU2NlbmVVcGRhdGVzKCkge1xyXG4gICAgLy9UT0RPIHNlbmQgYWxsIGxvY2FsT2JqZWN0cyBpbiB0aGUgc2hhcmVkIHNjZW5lIHRvIHJlbW90ZVxyXG5cclxuICAgIC8vaWYgdGhlcmUgYXJlIG9iamVjdHMgZnJvbSB0aGlzIGNsaWVudCBpbiB0aGUgc2hhcmVkIHNjZW5lXHJcblxyXG4gICAgLy90aGVuIHNlbmQgdGhlaXIgcG9zL3JvdCBldGMgdG8gcmVtb3RlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2VuZHMgYSBzaW5nbGUgb2JqZWN0IHJpZ2h0IG5vdywgdXNlZCB3aGVuIGRyYWdnaW5nXHJcbiAgICBmdW5jdGlvbiBzZW5kR2FtZW9iamVjdFVwZGF0ZShvYmplY3RKc29uKSB7XHJcbiAgICAgICAgaWYgKGRhdGFDaGFubmVsICYmIHR5cGVvZiBvYmplY3RKc29uICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhQ2hhbm5lbC5yZWFkeVN0YXRlID09PSBcIm9wZW5cIikge1xyXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbC5zZW5kKG9iamVjdEpzb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZW5kTG9jYWxPYmplY3RzVXBkYXRlKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwibG9jYWxPYmplY3RzOiBcIiArIGxvY2FsT2JqZWN0cyk7XHJcbiAgICAgICAgaWYgKGRhdGFDaGFubmVsICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhQ2hhbm5lbC5yZWFkeVN0YXRlID09PSBcIm9wZW5cIil7XHJcbiAgICAgICAgICAgIGxvY2FsT2JqZWN0cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwuc2VuZChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VudCBVcGRhdGUgb2YgbG9jYWwgT2JqZWN0IFwiICsgZWxlbWVudClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVJlbW90ZU9iamVjdHMoZGF0YSkge1xyXG4gICAgICAgIGxldCBvYmogPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdQYXJzZWQgSlNPTiB1dWlkOiAnICsgb2JqLnV1aWQgKyAnLCBwb3NpdGlvbng6ICcgKyBvYmoucG9zaXRpb24ueCArICcsIHJvdGF0aW9ueDogJyArIG9iai5yb3RhdGlvbi5feCk7XHJcbiAgICBcclxuICAgICAgICAvL1RPRE8gdXBkYXRlIG9ubHkgc3BlY2lmaWMgb2JqZWN0IVxyXG4gICAgICAgIGxvY2FsRWxlbWVudCA9IGdldExvY2FsT2JqZWN0XHJcbiAgICAgICAgY3ViZS5wb3NpdGlvbi54ID0gb2JqLnBvc2l0aW9uLng7XHJcbiAgICAgICAgY3ViZS5wb3NpdGlvbi55ID0gb2JqLnBvc2l0aW9uLnk7XHJcbiAgICAgICAgY3ViZS5wb3NpdGlvbi56ID0gb2JqLnBvc2l0aW9uLno7XHJcbiAgICAgICAgY3ViZS5yb3RhdGlvbi54ID0gb2JqLnJvdGF0aW9uLl94O1xyXG4gICAgICAgIGN1YmUucm90YXRpb24ueSA9IG9iai5yb3RhdGlvbi5feTtcclxuICAgICAgICBjdWJlLnJvdGF0aW9uLnogPSBvYmoucm90YXRpb24uX3o7XHJcbiAgICBcclxuICAgICAgICAvL1RPT0QgbWF5YmUgdHdlZW4vaW50ZXJwb2xhdGUgYmV0d2VlbiBwb3NpdGlvbnNcclxuICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYWRkTG9jYWxPYmplY3QsXHJcbiAgICAgICAgc3RhcnRTaGFyZWRTY2VuZVN5bmMsXHJcbiAgICAgICAgc3RvcFNoYXJlZFNjZW5lU3luYyxcclxuICAgICAgICBzZW5kR2FtZW9iamVjdFVwZGF0ZSxcclxuICAgICAgICB1cGRhdGVSZW1vdGVPYmplY3RzXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuZXhwb3J0IHtpbml0U2NlbmUsIGluaXRDYW1lcmF9XHJcblxyXG5sZXQgc2NlbmU7XHJcblxyXG5mdW5jdGlvbiBpbml0U2NlbmUoKSB7XHJcbiAgICBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgc2NlbmUuYmFja2dyb3VuZCA9IG51bGw7XHJcblxyXG4gICAgaW5pdExpZ2h0KCk7XHJcblxyXG4gICAgcmV0dXJuIHNjZW5lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0Q2FtZXJhKGlzU2VsbGVyKSB7XHJcbiAgICBjb25zdCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoIDQ1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMSwgNTAwICk7XHJcbiAgICBpZiAoaXNTZWxsZXIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2hhbmdpbmcgY2FtZXJhIHBvc2l0aW9uIScpO1xyXG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi54ID0gMDtcclxuICAgICAgICBjYW1lcmEucG9zaXRpb24ueSA9IDA7XHJcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnogPSAtMTA7XHJcbiAgICAgICAgY2FtZXJhLmxvb2tBdCggMCwgMCwgMCApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjYW1lcmEucG9zaXRpb24ueCA9IDA7XHJcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnkgPSAwO1xyXG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gMTA7XHJcbiAgICAgICAgY2FtZXJhLmxvb2tBdCggMCwgMCwgMCApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNhbWVyYTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdExpZ2h0KCkge1xyXG4gICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodDEgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCggMHhmZmZmZmYsIDEgKTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHQxLnBvc2l0aW9uLnNldCgyLCAyLCAwKTtcclxuICAgIHNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0MSk7XHJcblxyXG4gICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodDIgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCggMHhmZmZmZmYsIDEgKTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHQyLnBvc2l0aW9uLnNldCgyLCAyLCAtMjApO1xyXG4gICAgc2NlbmUuYWRkKGRpcmVjdGlvbmFsTGlnaHQyKTtcclxuXHJcbiAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0MyA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KCAweGZmZmZmZiwgMSApO1xyXG4gICAgZGlyZWN0aW9uYWxMaWdodDMucG9zaXRpb24uc2V0KDIsIDIsIDIwKTtcclxuICAgIHNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0Myk7XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgeyBWZXJ0ZXhOb3JtYWxzSGVscGVyIH0gZnJvbSAnLi92ZXJ0ZXhOb3JtYWxzSGVscGVyJztcclxuXHJcbi8vIFNpbXBsZSBtZXNoIGhlbHBlciB0aGF0IHNob3dzIGVkZ2VzLCB3aXJlZnJhbWVzLCBhbmQgZmFjZSBhbmQgdmVydGV4IG5vcm1hbHNcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzaEhlbHBlciB7XHJcbiAgY29uc3RydWN0b3Ioc2NlbmUsIG1lc2gpIHtcclxuICAgIHRoaXMubWVzaCA9IG1lc2g7XHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcblxyXG4gICAgY29uc3Qgd2lyZWZyYW1lID0gbmV3IFRIUkVFLldpcmVmcmFtZUdlb21ldHJ5KHRoaXMubWVzaC5nZW9tZXRyeSk7XHJcbiAgICB0aGlzLndpcmVMaW5lID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyh3aXJlZnJhbWUpO1xyXG4gICAgdGhpcy53aXJlTGluZS5tYXRlcmlhbC5kZXB0aFRlc3QgPSBmYWxzZTtcclxuICAgIHRoaXMud2lyZUxpbmUubWF0ZXJpYWwub3BhY2l0eSA9IDAuMjU7XHJcbiAgICB0aGlzLndpcmVMaW5lLm1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdCBlZGdlcyA9IG5ldyBUSFJFRS5FZGdlc0dlb21ldHJ5KHRoaXMubWVzaC5nZW9tZXRyeSk7XHJcbiAgICB0aGlzLmVkZ2VzTGluZSA9IG5ldyBUSFJFRS5MaW5lU2VnbWVudHMoZWRnZXMpO1xyXG4gICAgdGhpcy5lZGdlc0xpbmUubWF0ZXJpYWwuZGVwdGhUZXN0ID0gZmFsc2U7XHJcbiAgICB0aGlzLmVkZ2VzTGluZS5tYXRlcmlhbC5vcGFjaXR5ID0gMC4yNTtcclxuICAgIHRoaXMuZWRnZXNMaW5lLm1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTtcclxuXHJcbiAgICB0aGlzLnZlcnRleEhlbHBlciA9IG5ldyBWZXJ0ZXhOb3JtYWxzSGVscGVyKHRoaXMubWVzaCwgMik7XHJcbiAgICB0aGlzLmJveEhlbHBlciA9IG5ldyBUSFJFRS5Cb3hIZWxwZXIodGhpcy5tZXNoKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZSgpIHtcclxuICAgIHRoaXMubWVzaC5hZGQodGhpcy53aXJlTGluZSk7XHJcbiAgICB0aGlzLm1lc2guYWRkKHRoaXMuZWRnZXNMaW5lKTtcclxuXHJcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnZlcnRleEhlbHBlcik7XHJcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmJveEhlbHBlcik7XHJcbiAgfVxyXG5cclxuICBkaXNhYmxlKCkge1xyXG4gICAgdGhpcy5tZXNoLnJlbW92ZSh0aGlzLndpcmVMaW5lKTtcclxuICAgIHRoaXMubWVzaC5yZW1vdmUodGhpcy5lZGdlc0xpbmUpO1xyXG5cclxuICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMudmVydGV4SGVscGVyKTtcclxuICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMuYm94SGVscGVyKTtcclxuICB9XHJcbn1cclxuIiwiLy8gTG9jYWwgdmFycyBmb3IgclN0YXRzXHJcbmxldCByUywgYlMsIGdsUywgdFM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0cyB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcclxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICB9XHJcblxyXG4gIHNldFVwKCkge1xyXG4gICAgYlMgPSBuZXcgQnJvd3NlclN0YXRzKCk7XHJcbiAgICBnbFMgPSBuZXcgZ2xTdGF0cygpO1xyXG4gICAgdFMgPSBuZXcgdGhyZWVTdGF0cyh0aGlzLnJlbmRlcmVyLnRocmVlUmVuZGVyZXIpO1xyXG5cclxuICAgIHJTID0gbmV3IHJTdGF0cyh7XHJcbiAgICAgIENTU1BhdGg6ICcuL2Nzcy8nLFxyXG4gICAgICB1c2VyVGltaW5nQVBJOiB0cnVlLFxyXG4gICAgICB2YWx1ZXM6IHtcclxuICAgICAgICBmcmFtZTogeyBjYXB0aW9uOiAnVG90YWwgZnJhbWUgdGltZSAobXMpJywgb3ZlcjogMTYsIGF2ZXJhZ2U6IHRydWUsIGF2Z01zOiAxMDAgfSxcclxuICAgICAgICBmcHM6IHsgY2FwdGlvbjogJ0ZyYW1lcmF0ZSAoRlBTKScsIGJlbG93OiAzMCB9LFxyXG4gICAgICAgIGNhbGxzOiB7IGNhcHRpb246ICdDYWxscyAodGhyZWUuanMpJywgb3ZlcjogMzAwMCB9LFxyXG4gICAgICAgIHJhZjogeyBjYXB0aW9uOiAnVGltZSBzaW5jZSBsYXN0IHJBRiAobXMpJywgYXZlcmFnZTogdHJ1ZSwgYXZnTXM6IDEwMCB9LFxyXG4gICAgICAgIHJzdGF0czogeyBjYXB0aW9uOiAnclN0YXRzIHVwZGF0ZSAobXMpJywgYXZlcmFnZTogdHJ1ZSwgYXZnTXM6IDEwMCB9LFxyXG4gICAgICAgIHRleHR1cmU6IHsgY2FwdGlvbjogJ0dlblRleCcsIGF2ZXJhZ2U6IHRydWUsIGF2Z01zOiAxMDAgfVxyXG4gICAgICB9LFxyXG4gICAgICBncm91cHM6IFtcclxuICAgICAgICB7IGNhcHRpb246ICdGcmFtZXJhdGUnLCB2YWx1ZXM6IFsnZnBzJywgJ3JhZiddIH0sXHJcbiAgICAgICAgeyBjYXB0aW9uOiAnRnJhbWUgQnVkZ2V0JywgdmFsdWVzOiBbJ2ZyYW1lJywgJ3RleHR1cmUnLCAnc2V0dXAnLCAncmVuZGVyJ10gfVxyXG4gICAgICBdLFxyXG4gICAgICBmcmFjdGlvbnM6IFtcclxuICAgICAgICB7IGJhc2U6ICdmcmFtZScsIHN0ZXBzOiBbJ3RleHR1cmUnLCAnc2V0dXAnLCAncmVuZGVyJ10gfVxyXG4gICAgICBdLFxyXG4gICAgICBwbHVnaW5zOiBbYlMsIHRTXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc3RhcnQoKSB7XHJcbiAgICByUygnZnJhbWUnKS5zdGFydCgpO1xyXG4gICAgZ2xTLnN0YXJ0KCk7XHJcblxyXG4gICAgclMoJ3JBRicpLnRpY2soKTtcclxuICAgIHJTKCdGUFMnKS5mcmFtZSgpO1xyXG5cclxuICAgIHJTKCdyZW5kZXInKS5zdGFydCgpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGVuZCgpIHtcclxuICAgIHJTKCdyZW5kZXInKS5lbmQoKTsgLy8gcmVuZGVyIGZpbmlzaGVkXHJcbiAgICByUygnZnJhbWUnKS5lbmQoKTsgLy8gZnJhbWUgZmluaXNoZWRcclxuXHJcbiAgICAvLyBMb2NhbCByU3RhdHMgdXBkYXRlXHJcbiAgICByUygnclN0YXRzJykuc3RhcnQoKTtcclxuICAgIHJTKCkudXBkYXRlKCk7XHJcbiAgICByUygnclN0YXRzJykuZW5kKCk7XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xyXG4gKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXlcclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIEJ1ZmZlckdlb21ldHJ5LFxyXG4gIEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUsXHJcbiAgTGluZVNlZ21lbnRzLFxyXG4gIExpbmVCYXNpY01hdGVyaWFsLFxyXG4gIE1hdHJpeDMsXHJcbiAgVmVjdG9yMyxcclxufSBmcm9tICd0aHJlZSc7XHJcblxyXG5jb25zdCBfdjEgPSBuZXcgVmVjdG9yMygpO1xyXG5jb25zdCBfdjIgPSBuZXcgVmVjdG9yMygpO1xyXG5jb25zdCBfbm9ybWFsTWF0cml4ID0gbmV3IE1hdHJpeDMoKTtcclxuY29uc3QgX2tleXMgPSBbJ2EnLCAnYicsICdjJ107XHJcblxyXG5mdW5jdGlvbiBWZXJ0ZXhOb3JtYWxzSGVscGVyKG9iamVjdCwgc2l6ZSwgaGV4KSB7XHJcbiAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XHJcbiAgdGhpcy5zaXplID0gc2l6ZSAhPT0gdW5kZWZpbmVkID8gc2l6ZSA6IDAuMTtcclxuXHJcbiAgY29uc3QgY29sb3IgPSBoZXggIT09IHVuZGVmaW5lZCA/IGhleCA6IDB4ZmYwMDAwO1xyXG5cclxuICAvL1xyXG5cclxuICBsZXQgbk5vcm1hbHMgPSAwO1xyXG5cclxuICBjb25zdCBvYmpHZW9tZXRyeSA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5O1xyXG5cclxuICBpZiAob2JqR2VvbWV0cnkgJiYgb2JqR2VvbWV0cnkuaXNHZW9tZXRyeSkge1xyXG4gICAgbk5vcm1hbHMgPSBvYmpHZW9tZXRyeS5mYWNlcy5sZW5ndGggKiAzO1xyXG4gIH0gZWxzZSBpZiAob2JqR2VvbWV0cnkgJiYgb2JqR2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSkge1xyXG4gICAgbk5vcm1hbHMgPSBvYmpHZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbC5jb3VudDtcclxuICB9XHJcblxyXG4gIC8vXHJcblxyXG4gIGNvbnN0IGdlb21ldHJ5ID0gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7XHJcbiAgY29uc3QgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobk5vcm1hbHMgKiAyICogMywgMyk7XHJcblxyXG4gIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBwb3NpdGlvbnMpO1xyXG5cclxuICBMaW5lU2VnbWVudHMuY2FsbCh0aGlzLCBnZW9tZXRyeSwgbmV3IExpbmVCYXNpY01hdGVyaWFsKHsgY29sb3I6IGNvbG9yLCB0b25lTWFwcGVkOiBmYWxzZSB9KSk7XHJcblxyXG4gIHRoaXMudHlwZSA9ICdWZXJ0ZXhOb3JtYWxzSGVscGVyJztcclxuXHJcbiAgLy9cclxuXHJcbiAgdGhpcy5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XHJcblxyXG4gIHRoaXMudXBkYXRlKCk7XHJcbn1cclxuXHJcblZlcnRleE5vcm1hbHNIZWxwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMaW5lU2VnbWVudHMucHJvdG90eXBlKTtcclxuVmVydGV4Tm9ybWFsc0hlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWZXJ0ZXhOb3JtYWxzSGVscGVyO1xyXG5cclxuVmVydGV4Tm9ybWFsc0hlbHBlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gIGxldCBpZHg7XHJcbiAgdGhpcy5vYmplY3QudXBkYXRlTWF0cml4V29ybGQodHJ1ZSk7XHJcblxyXG4gIF9ub3JtYWxNYXRyaXguZ2V0Tm9ybWFsTWF0cml4KHRoaXMub2JqZWN0Lm1hdHJpeFdvcmxkKTtcclxuXHJcbiAgY29uc3QgbWF0cml4V29ybGQgPSB0aGlzLm9iamVjdC5tYXRyaXhXb3JsZDtcclxuICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcclxuXHJcbiAgLy9cclxuXHJcbiAgY29uc3Qgb2JqR2VvbWV0cnkgPSB0aGlzLm9iamVjdC5nZW9tZXRyeTtcclxuXHJcbiAgaWYgKG9iakdlb21ldHJ5ICYmIG9iakdlb21ldHJ5LmlzR2VvbWV0cnkpIHtcclxuICAgIGNvbnN0IHZlcnRpY2VzID0gb2JqR2VvbWV0cnkudmVydGljZXM7XHJcblxyXG4gICAgY29uc3QgZmFjZXMgPSBvYmpHZW9tZXRyeS5mYWNlcztcclxuXHJcbiAgICBpZHggPSAwO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZmFjZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tpXTtcclxuXHJcbiAgICAgIGZvciAobGV0IGogPSAwLCBqbCA9IGZhY2UudmVydGV4Tm9ybWFscy5sZW5ndGg7IGogPCBqbDsgaisrKSB7XHJcbiAgICAgICAgY29uc3QgdmVydGV4ID0gdmVydGljZXNbZmFjZVtfa2V5c1tqXV1dO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IGZhY2UudmVydGV4Tm9ybWFsc1tqXTtcclxuXHJcbiAgICAgICAgX3YxLmNvcHkodmVydGV4KS5hcHBseU1hdHJpeDQobWF0cml4V29ybGQpO1xyXG4gICAgICAgIF92Mi5jb3B5KG5vcm1hbCkuYXBwbHlNYXRyaXgzKF9ub3JtYWxNYXRyaXgpLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHRoaXMuc2l6ZSkuYWRkKF92MSk7XHJcblxyXG4gICAgICAgIHBvc2l0aW9uLnNldFhZWihpZHgsIF92MS54LCBfdjEueSwgX3YxLnopO1xyXG5cclxuICAgICAgICBpZHggPSBpZHggKyAxO1xyXG5cclxuICAgICAgICBwb3NpdGlvbi5zZXRYWVooaWR4LCBfdjIueCwgX3YyLnksIF92Mi56KTtcclxuXHJcbiAgICAgICAgaWR4ID0gaWR4ICsgMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAob2JqR2VvbWV0cnkgJiYgb2JqR2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSkge1xyXG4gICAgY29uc3Qgb2JqUG9zID0gb2JqR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcclxuICAgIGNvbnN0IG9iak5vcm0gPSBvYmpHZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbDtcclxuXHJcbiAgICBpZHggPSAwO1xyXG5cclxuICAgIC8vIGZvciBzaW1wbGljaXR5LCBpZ25vcmUgaW5kZXggYW5kIGRyYXdjYWxscywgYW5kIHJlbmRlciBldmVyeSBub3JtYWxcclxuXHJcbiAgICBmb3IgKHZhciBqID0gMCwgamwgPSBvYmpQb3MuY291bnQ7IGogPCBqbDsgaisrKSB7XHJcbiAgICAgIF92MS5zZXQob2JqUG9zLmdldFgoaiksIG9ialBvcy5nZXRZKGopLCBvYmpQb3MuZ2V0WihqKSkuYXBwbHlNYXRyaXg0KG1hdHJpeFdvcmxkKTtcclxuICAgICAgX3YyLnNldChvYmpOb3JtLmdldFgoaiksIG9iak5vcm0uZ2V0WShqKSwgb2JqTm9ybS5nZXRaKGopKTtcclxuICAgICAgX3YyLmFwcGx5TWF0cml4Myhfbm9ybWFsTWF0cml4KS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0aGlzLnNpemUpLmFkZChfdjEpO1xyXG5cclxuICAgICAgcG9zaXRpb24uc2V0WFlaKGlkeCwgX3YxLngsIF92MS55LCBfdjEueik7XHJcblxyXG4gICAgICBpZHggPSBpZHggKyAxO1xyXG5cclxuICAgICAgcG9zaXRpb24uc2V0WFlaKGlkeCwgX3YyLngsIF92Mi55LCBfdjIueik7XHJcblxyXG4gICAgICBpZHggPSBpZHggKyAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcG9zaXRpb24ubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgVmVydGV4Tm9ybWFsc0hlbHBlciB9O1xyXG4iLCIvKipcclxuICogQGF1dGhvciBSaWNoIFRpYmJldHQgLyBodHRwczovL2dpdGh1Yi5jb20vcmljaHRyXHJcbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXHJcbiAqIEBhdXRob3IgVG9ueSBQYXJpc2kgLyBodHRwOi8vd3d3LnRvbnlwYXJpc2kuY29tL1xyXG4gKiBAYXV0aG9yIFRha2FoaXJvIC8gaHR0cHM6Ly9naXRodWIuY29tL3Rha2FoaXJveFxyXG4gKiBAYXV0aG9yIERvbiBNY0N1cmR5IC8gaHR0cHM6Ly93d3cuZG9ubWNjdXJkeS5jb21cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIEFuaW1hdGlvbkNsaXAsXHJcbiAgQm9uZSxcclxuICBCb3gzLFxyXG4gIEJ1ZmZlckF0dHJpYnV0ZSxcclxuICBCdWZmZXJHZW9tZXRyeSxcclxuICBDbGFtcFRvRWRnZVdyYXBwaW5nLFxyXG4gIENvbG9yLFxyXG4gIERpcmVjdGlvbmFsTGlnaHQsXHJcbiAgRG91YmxlU2lkZSxcclxuICBGaWxlTG9hZGVyLFxyXG4gIEZyb250U2lkZSxcclxuICBHcm91cCxcclxuICBJbnRlcmxlYXZlZEJ1ZmZlcixcclxuICBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSxcclxuICBJbnRlcnBvbGFudCxcclxuICBJbnRlcnBvbGF0ZURpc2NyZXRlLFxyXG4gIEludGVycG9sYXRlTGluZWFyLFxyXG4gIExpbmUsXHJcbiAgTGluZUJhc2ljTWF0ZXJpYWwsXHJcbiAgTGluZUxvb3AsXHJcbiAgTGluZVNlZ21lbnRzLFxyXG4gIExpbmVhckZpbHRlcixcclxuICBMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXIsXHJcbiAgTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixcclxuICBMb2FkZXIsXHJcbiAgTG9hZGVyVXRpbHMsXHJcbiAgTWF0ZXJpYWwsXHJcbiAgTWF0aFV0aWxzLFxyXG4gIE1hdHJpeDQsXHJcbiAgTWVzaCxcclxuICBNZXNoQmFzaWNNYXRlcmlhbCxcclxuICBNZXNoUGh5c2ljYWxNYXRlcmlhbCxcclxuICBNZXNoU3RhbmRhcmRNYXRlcmlhbCxcclxuICBNaXJyb3JlZFJlcGVhdFdyYXBwaW5nLFxyXG4gIE5lYXJlc3RGaWx0ZXIsXHJcbiAgTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcclxuICBOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcixcclxuICBOdW1iZXJLZXlmcmFtZVRyYWNrLFxyXG4gIE9iamVjdDNELFxyXG4gIE9ydGhvZ3JhcGhpY0NhbWVyYSxcclxuICBQZXJzcGVjdGl2ZUNhbWVyYSxcclxuICBQb2ludExpZ2h0LFxyXG4gIFBvaW50cyxcclxuICBQb2ludHNNYXRlcmlhbCxcclxuICBQcm9wZXJ0eUJpbmRpbmcsXHJcbiAgUXVhdGVybmlvbktleWZyYW1lVHJhY2ssXHJcbiAgUkdCQUZvcm1hdCxcclxuICBSR0JGb3JtYXQsXHJcbiAgUmVwZWF0V3JhcHBpbmcsXHJcbiAgU2tlbGV0b24sXHJcbiAgU2tpbm5lZE1lc2gsXHJcbiAgU3BoZXJlLFxyXG4gIFNwb3RMaWdodCxcclxuICBUYW5nZW50U3BhY2VOb3JtYWxNYXAsXHJcbiAgVGV4dHVyZUxvYWRlcixcclxuICBUcmlhbmdsZUZhbkRyYXdNb2RlLFxyXG4gIFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxcclxuICBWZWN0b3IyLFxyXG4gIFZlY3RvcjMsXHJcbiAgVmVjdG9yS2V5ZnJhbWVUcmFjayxcclxuICBzUkdCRW5jb2RpbmdcclxufSBmcm9tICd0aHJlZSc7XHJcblxyXG5jb25zdCBHTFRGTG9hZGVyID0gKGZ1bmN0aW9uICgpIHtcclxuICBmdW5jdGlvbiBHTFRGTG9hZGVyKG1hbmFnZXIpIHtcclxuICAgIExvYWRlci5jYWxsKHRoaXMsIG1hbmFnZXIpO1xyXG5cclxuICAgIHRoaXMuZHJhY29Mb2FkZXIgPSBudWxsO1xyXG4gICAgdGhpcy5kZHNMb2FkZXIgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgR0xURkxvYWRlci5wcm90b3R5cGUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSksIHtcclxuICAgIGNvbnN0cnVjdG9yOiBHTFRGTG9hZGVyLFxyXG5cclxuICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvcikge1xyXG4gICAgICB2YXIgc2NvcGUgPSB0aGlzO1xyXG5cclxuICAgICAgdmFyIHJlc291cmNlUGF0aDtcclxuXHJcbiAgICAgIGlmICh0aGlzLnJlc291cmNlUGF0aCAhPT0gJycpIHtcclxuICAgICAgICByZXNvdXJjZVBhdGggPSB0aGlzLnJlc291cmNlUGF0aDtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnBhdGggIT09ICcnKSB7XHJcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gdGhpcy5wYXRoO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc291cmNlUGF0aCA9IExvYWRlclV0aWxzLmV4dHJhY3RVcmxCYXNlKHVybCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRlbGxzIHRoZSBMb2FkaW5nTWFuYWdlciB0byB0cmFjayBhbiBleHRyYSBpdGVtLCB3aGljaCByZXNvbHZlcyBhZnRlclxyXG4gICAgICAvLyB0aGUgbW9kZWwgaXMgZnVsbHkgbG9hZGVkLiBUaGlzIG1lYW5zIHRoZSBjb3VudCBvZiBpdGVtcyBsb2FkZWQgd2lsbFxyXG4gICAgICAvLyBiZSBpbmNvcnJlY3QsIGJ1dCBlbnN1cmVzIG1hbmFnZXIub25Mb2FkKCkgZG9lcyBub3QgZmlyZSBlYXJseS5cclxuICAgICAgc2NvcGUubWFuYWdlci5pdGVtU3RhcnQodXJsKTtcclxuXHJcbiAgICAgIHZhciBfb25FcnJvciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKG9uRXJyb3IpIHtcclxuICAgICAgICAgIG9uRXJyb3IoZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY29wZS5tYW5hZ2VyLml0ZW1FcnJvcih1cmwpO1xyXG4gICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIGxvYWRlciA9IG5ldyBGaWxlTG9hZGVyKHNjb3BlLm1hbmFnZXIpO1xyXG5cclxuICAgICAgbG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtcclxuICAgICAgbG9hZGVyLnNldFJlc3BvbnNlVHlwZSgnYXJyYXlidWZmZXInKTtcclxuXHJcbiAgICAgIGlmIChzY29wZS5jcm9zc09yaWdpbiA9PT0gJ3VzZS1jcmVkZW50aWFscycpIHtcclxuICAgICAgICBsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHRydWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsb2FkZXIubG9hZChcclxuICAgICAgICB1cmwsXHJcbiAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHNjb3BlLnBhcnNlKFxyXG4gICAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgICAgcmVzb3VyY2VQYXRoLFxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChnbHRmKSB7XHJcbiAgICAgICAgICAgICAgICBvbkxvYWQoZ2x0Zik7XHJcblxyXG4gICAgICAgICAgICAgICAgc2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBfb25FcnJvclxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBfb25FcnJvcihlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uUHJvZ3Jlc3MsXHJcbiAgICAgICAgX29uRXJyb3JcclxuICAgICAgKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0RFJBQ09Mb2FkZXI6IGZ1bmN0aW9uIChkcmFjb0xvYWRlcikge1xyXG4gICAgICB0aGlzLmRyYWNvTG9hZGVyID0gZHJhY29Mb2FkZXI7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRERFNMb2FkZXI6IGZ1bmN0aW9uIChkZHNMb2FkZXIpIHtcclxuICAgICAgdGhpcy5kZHNMb2FkZXIgPSBkZHNMb2FkZXI7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuXHJcbiAgICBwYXJzZTogZnVuY3Rpb24gKGRhdGEsIHBhdGgsIG9uTG9hZCwgb25FcnJvcikge1xyXG4gICAgICB2YXIgY29udGVudDtcclxuICAgICAgdmFyIGV4dGVuc2lvbnMgPSB7fTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBjb250ZW50ID0gZGF0YTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgbWFnaWMgPSBMb2FkZXJVdGlscy5kZWNvZGVUZXh0KG5ldyBVaW50OEFycmF5KGRhdGEsIDAsIDQpKTtcclxuXHJcbiAgICAgICAgaWYgKG1hZ2ljID09PSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQykge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURl0gPSBuZXcgR0xURkJpbmFyeUV4dGVuc2lvbihkYXRhKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmIChvbkVycm9yKSBvbkVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnRlbnQgPSBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGXS5jb250ZW50O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb250ZW50ID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcblxyXG4gICAgICBpZiAoanNvbi5hc3NldCA9PT0gdW5kZWZpbmVkIHx8IGpzb24uYXNzZXQudmVyc2lvblswXSA8IDIpIHtcclxuICAgICAgICBpZiAob25FcnJvcilcclxuICAgICAgICAgIG9uRXJyb3IoXHJcbiAgICAgICAgICAgIG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgYXNzZXQuIGdsVEYgdmVyc2lvbnMgPj0yLjAgYXJlIHN1cHBvcnRlZC4nKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChqc29uLmV4dGVuc2lvbnNVc2VkKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uLmV4dGVuc2lvbnNVc2VkLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICB2YXIgZXh0ZW5zaW9uTmFtZSA9IGpzb24uZXh0ZW5zaW9uc1VzZWRbaV07XHJcbiAgICAgICAgICB2YXIgZXh0ZW5zaW9uc1JlcXVpcmVkID0ganNvbi5leHRlbnNpb25zUmVxdWlyZWQgfHwgW107XHJcblxyXG4gICAgICAgICAgc3dpdGNoIChleHRlbnNpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMOlxyXG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURkxpZ2h0c0V4dGVuc2lvbihqc29uKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVDpcclxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24oKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUOlxyXG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uKCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUzpcclxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZNYXRlcmlhbHNQYnJTcGVjdWxhckdsb3NzaW5lc3NFeHRlbnNpb24oKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjpcclxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbihcclxuICAgICAgICAgICAgICAgIGpzb24sXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWNvTG9hZGVyXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTOlxyXG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURlRleHR1cmVERFNFeHRlbnNpb24odGhpcy5kZHNMb2FkZXIpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STTpcclxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uKCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01FU0hfUVVBTlRJWkFUSU9OOlxyXG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURk1lc2hRdWFudGl6YXRpb25FeHRlbnNpb24oKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnNSZXF1aXJlZC5pbmRleE9mKGV4dGVuc2lvbk5hbWUpID49IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogVW5rbm93biBleHRlbnNpb24gXCInICsgZXh0ZW5zaW9uTmFtZSArICdcIi4nKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgcGFyc2VyID0gbmV3IEdMVEZQYXJzZXIoanNvbiwgZXh0ZW5zaW9ucywge1xyXG4gICAgICAgIHBhdGg6IHBhdGggfHwgdGhpcy5yZXNvdXJjZVBhdGggfHwgJycsXHJcbiAgICAgICAgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sXHJcbiAgICAgICAgbWFuYWdlcjogdGhpcy5tYW5hZ2VyXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcGFyc2VyLnBhcnNlKG9uTG9hZCwgb25FcnJvcik7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICAvKiBHTFRGUkVHSVNUUlkgKi9cclxuXHJcbiAgZnVuY3Rpb24gR0xURlJlZ2lzdHJ5KCkge1xyXG4gICAgdmFyIG9iamVjdHMgPSB7fTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gb2JqZWN0c1trZXldO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgYWRkOiBmdW5jdGlvbiAoa2V5LCBvYmplY3QpIHtcclxuICAgICAgICBvYmplY3RzW2tleV0gPSBvYmplY3Q7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBkZWxldGUgb2JqZWN0c1trZXldO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgb2JqZWN0cyA9IHt9O1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgLyoqKioqKioqKiogRVhURU5TSU9OUyAqKioqKioqKioqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICB2YXIgRVhURU5TSU9OUyA9IHtcclxuICAgIEtIUl9CSU5BUllfR0xURjogJ0tIUl9iaW5hcnlfZ2xURicsXHJcbiAgICBLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjogJ0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uJyxcclxuICAgIEtIUl9MSUdIVFNfUFVOQ1RVQUw6ICdLSFJfbGlnaHRzX3B1bmN0dWFsJyxcclxuICAgIEtIUl9NQVRFUklBTFNfQ0xFQVJDT0FUOiAnS0hSX21hdGVyaWFsc19jbGVhcmNvYXQnLFxyXG4gICAgS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUzogJ0tIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzJyxcclxuICAgIEtIUl9NQVRFUklBTFNfVU5MSVQ6ICdLSFJfbWF0ZXJpYWxzX3VubGl0JyxcclxuICAgIEtIUl9URVhUVVJFX1RSQU5TRk9STTogJ0tIUl90ZXh0dXJlX3RyYW5zZm9ybScsXHJcbiAgICBLSFJfTUVTSF9RVUFOVElaQVRJT046ICdLSFJfbWVzaF9xdWFudGl6YXRpb24nLFxyXG4gICAgTVNGVF9URVhUVVJFX0REUzogJ01TRlRfdGV4dHVyZV9kZHMnXHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogRERTIFRleHR1cmUgRXh0ZW5zaW9uXHJcbiAgICpcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL01TRlRfdGV4dHVyZV9kZHNcclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIEdMVEZUZXh0dXJlRERTRXh0ZW5zaW9uKGRkc0xvYWRlcikge1xyXG4gICAgaWYgKCFkZHNMb2FkZXIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBBdHRlbXB0aW5nIHRvIGxvYWQgLmRkcyB0ZXh0dXJlIHdpdGhvdXQgaW1wb3J0aW5nIEREU0xvYWRlcidcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFM7XHJcbiAgICB0aGlzLmRkc0xvYWRlciA9IGRkc0xvYWRlcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFB1bmN0dWFsIExpZ2h0cyBFeHRlbnNpb25cclxuICAgKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9saWdodHNfcHVuY3R1YWxcclxuICAgKi9cclxuICBmdW5jdGlvbiBHTFRGTGlnaHRzRXh0ZW5zaW9uKGpzb24pIHtcclxuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTDtcclxuXHJcbiAgICB2YXIgZXh0ZW5zaW9uID0gKGpzb24uZXh0ZW5zaW9ucyAmJiBqc29uLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXSkgfHwge307XHJcbiAgICB0aGlzLmxpZ2h0RGVmcyA9IGV4dGVuc2lvbi5saWdodHMgfHwgW107XHJcbiAgfVxyXG5cclxuICBHTFRGTGlnaHRzRXh0ZW5zaW9uLnByb3RvdHlwZS5sb2FkTGlnaHQgPSBmdW5jdGlvbiAobGlnaHRJbmRleCkge1xyXG4gICAgdmFyIGxpZ2h0RGVmID0gdGhpcy5saWdodERlZnNbbGlnaHRJbmRleF07XHJcbiAgICB2YXIgbGlnaHROb2RlO1xyXG5cclxuICAgIHZhciBjb2xvciA9IG5ldyBDb2xvcigweGZmZmZmZik7XHJcbiAgICBpZiAobGlnaHREZWYuY29sb3IgIT09IHVuZGVmaW5lZCkgY29sb3IuZnJvbUFycmF5KGxpZ2h0RGVmLmNvbG9yKTtcclxuXHJcbiAgICB2YXIgcmFuZ2UgPSBsaWdodERlZi5yYW5nZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYucmFuZ2UgOiAwO1xyXG5cclxuICAgIHN3aXRjaCAobGlnaHREZWYudHlwZSkge1xyXG4gICAgICBjYXNlICdkaXJlY3Rpb25hbCc6XHJcbiAgICAgICAgbGlnaHROb2RlID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoY29sb3IpO1xyXG4gICAgICAgIGxpZ2h0Tm9kZS50YXJnZXQucG9zaXRpb24uc2V0KDAsIDAsIC0xKTtcclxuICAgICAgICBsaWdodE5vZGUuYWRkKGxpZ2h0Tm9kZS50YXJnZXQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAncG9pbnQnOlxyXG4gICAgICAgIGxpZ2h0Tm9kZSA9IG5ldyBQb2ludExpZ2h0KGNvbG9yKTtcclxuICAgICAgICBsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ3Nwb3QnOlxyXG4gICAgICAgIGxpZ2h0Tm9kZSA9IG5ldyBTcG90TGlnaHQoY29sb3IpO1xyXG4gICAgICAgIGxpZ2h0Tm9kZS5kaXN0YW5jZSA9IHJhbmdlO1xyXG4gICAgICAgIC8vIEhhbmRsZSBzcG90bGlnaHQgcHJvcGVydGllcy5cclxuICAgICAgICBsaWdodERlZi5zcG90ID0gbGlnaHREZWYuc3BvdCB8fCB7fTtcclxuICAgICAgICBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlID1cclxuICAgICAgICAgIGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgOiAwO1xyXG4gICAgICAgIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgPVxyXG4gICAgICAgICAgbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSA6IE1hdGguUEkgLyA0LjA7XHJcbiAgICAgICAgbGlnaHROb2RlLmFuZ2xlID0gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZTtcclxuICAgICAgICBsaWdodE5vZGUucGVudW1icmEgPSAxLjAgLSBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlIC8gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZTtcclxuICAgICAgICBsaWdodE5vZGUudGFyZ2V0LnBvc2l0aW9uLnNldCgwLCAwLCAtMSk7XHJcbiAgICAgICAgbGlnaHROb2RlLmFkZChsaWdodE5vZGUudGFyZ2V0KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBVbmV4cGVjdGVkIGxpZ2h0IHR5cGUsIFwiJyArIGxpZ2h0RGVmLnR5cGUgKyAnXCIuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU29tZSBsaWdodHMgKGUuZy4gc3BvdCkgZGVmYXVsdCB0byBhIHBvc2l0aW9uIG90aGVyIHRoYW4gdGhlIG9yaWdpbi4gUmVzZXQgdGhlIHBvc2l0aW9uXHJcbiAgICAvLyBoZXJlLCBiZWNhdXNlIG5vZGUtbGV2ZWwgcGFyc2luZyB3aWxsIG9ubHkgb3ZlcnJpZGUgcG9zaXRpb24gaWYgZXhwbGljaXRseSBzcGVjaWZpZWQuXHJcbiAgICBsaWdodE5vZGUucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG5cclxuICAgIGxpZ2h0Tm9kZS5kZWNheSA9IDI7XHJcblxyXG4gICAgaWYgKGxpZ2h0RGVmLmludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSBsaWdodE5vZGUuaW50ZW5zaXR5ID0gbGlnaHREZWYuaW50ZW5zaXR5O1xyXG5cclxuICAgIGxpZ2h0Tm9kZS5uYW1lID0gbGlnaHREZWYubmFtZSB8fCAnbGlnaHRfJyArIGxpZ2h0SW5kZXg7XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsaWdodE5vZGUpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFVubGl0IE1hdGVyaWFscyBFeHRlbnNpb25cclxuICAgKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfdW5saXRcclxuICAgKi9cclxuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24oKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQ7XHJcbiAgfVxyXG5cclxuICBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24ucHJvdG90eXBlLmdldE1hdGVyaWFsVHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBNZXNoQmFzaWNNYXRlcmlhbDtcclxuICB9O1xyXG5cclxuICBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZFBhcmFtcyA9IGZ1bmN0aW9uIChcclxuICAgIG1hdGVyaWFsUGFyYW1zLFxyXG4gICAgbWF0ZXJpYWxEZWYsXHJcbiAgICBwYXJzZXJcclxuICApIHtcclxuICAgIHZhciBwZW5kaW5nID0gW107XHJcblxyXG4gICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XHJcbiAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gMS4wO1xyXG5cclxuICAgIHZhciBtZXRhbGxpY1JvdWdobmVzcyA9IG1hdGVyaWFsRGVmLnBick1ldGFsbGljUm91Z2huZXNzO1xyXG5cclxuICAgIGlmIChtZXRhbGxpY1JvdWdobmVzcykge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IpKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yO1xyXG5cclxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoYXJyYXkpO1xyXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSBhcnJheVszXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHBlbmRpbmcucHVzaChcclxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnbWFwJywgbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENsZWFyY29hdCBNYXRlcmlhbHMgRXh0ZW5zaW9uXHJcbiAgICpcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX2NsZWFyY29hdFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24oKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUO1xyXG4gIH1cclxuXHJcbiAgR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbi5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxUeXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xyXG4gIH07XHJcblxyXG4gIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZFBhcmFtcyA9IGZ1bmN0aW9uIChcclxuICAgIG1hdGVyaWFsUGFyYW1zLFxyXG4gICAgbWF0ZXJpYWxEZWYsXHJcbiAgICBwYXJzZXJcclxuICApIHtcclxuICAgIHZhciBwZW5kaW5nID0gW107XHJcblxyXG4gICAgdmFyIGV4dGVuc2lvbiA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbdGhpcy5uYW1lXTtcclxuXHJcbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdEZhY3RvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIG1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdCA9IGV4dGVuc2lvbi5jbGVhcmNvYXRGYWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgcGVuZGluZy5wdXNoKFxyXG4gICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnY2xlYXJjb2F0TWFwJywgZXh0ZW5zaW9uLmNsZWFyY29hdFRleHR1cmUpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXRSb3VnaG5lc3MgPSBleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHBlbmRpbmcucHVzaChcclxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcclxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLFxyXG4gICAgICAgICAgJ2NsZWFyY29hdFJvdWdobmVzc01hcCcsXHJcbiAgICAgICAgICBleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZVxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXHJcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcclxuICAgICAgICAgICdjbGVhcmNvYXROb3JtYWxNYXAnLFxyXG4gICAgICAgICAgZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmVcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhciBzY2FsZSA9IGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlLnNjYWxlO1xyXG5cclxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXROb3JtYWxTY2FsZSA9IG5ldyBWZWN0b3IyKHNjYWxlLCBzY2FsZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XHJcbiAgfTtcclxuXHJcbiAgLyogQklOQVJZIEVYVEVOU0lPTiAqL1xyXG4gIHZhciBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyA9ICdnbFRGJztcclxuICB2YXIgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIID0gMTI7XHJcbiAgdmFyIEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMgPSB7IEpTT046IDB4NGU0ZjUzNGEsIEJJTjogMHgwMDRlNDk0MiB9O1xyXG5cclxuICBmdW5jdGlvbiBHTFRGQmluYXJ5RXh0ZW5zaW9uKGRhdGEpIHtcclxuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGO1xyXG4gICAgdGhpcy5jb250ZW50ID0gbnVsbDtcclxuICAgIHRoaXMuYm9keSA9IG51bGw7XHJcblxyXG4gICAgdmFyIGhlYWRlclZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YSwgMCwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIKTtcclxuXHJcbiAgICB0aGlzLmhlYWRlciA9IHtcclxuICAgICAgbWFnaWM6IExvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkoZGF0YS5zbGljZSgwLCA0KSkpLFxyXG4gICAgICB2ZXJzaW9uOiBoZWFkZXJWaWV3LmdldFVpbnQzMig0LCB0cnVlKSxcclxuICAgICAgbGVuZ3RoOiBoZWFkZXJWaWV3LmdldFVpbnQzMig4LCB0cnVlKVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodGhpcy5oZWFkZXIubWFnaWMgIT09IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgZ2xURi1CaW5hcnkgaGVhZGVyLicpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmhlYWRlci52ZXJzaW9uIDwgMi4wKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogTGVnYWN5IGJpbmFyeSBmaWxlIGRldGVjdGVkLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjaHVua1ZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YSwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIKTtcclxuICAgIHZhciBjaHVua0luZGV4ID0gMDtcclxuXHJcbiAgICB3aGlsZSAoY2h1bmtJbmRleCA8IGNodW5rVmlldy5ieXRlTGVuZ3RoKSB7XHJcbiAgICAgIHZhciBjaHVua0xlbmd0aCA9IGNodW5rVmlldy5nZXRVaW50MzIoY2h1bmtJbmRleCwgdHJ1ZSk7XHJcbiAgICAgIGNodW5rSW5kZXggKz0gNDtcclxuXHJcbiAgICAgIHZhciBjaHVua1R5cGUgPSBjaHVua1ZpZXcuZ2V0VWludDMyKGNodW5rSW5kZXgsIHRydWUpO1xyXG4gICAgICBjaHVua0luZGV4ICs9IDQ7XHJcblxyXG4gICAgICBpZiAoY2h1bmtUeXBlID09PSBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTLkpTT04pIHtcclxuICAgICAgICB2YXIgY29udGVudEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoXHJcbiAgICAgICAgICBkYXRhLFxyXG4gICAgICAgICAgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICsgY2h1bmtJbmRleCxcclxuICAgICAgICAgIGNodW5rTGVuZ3RoXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBMb2FkZXJVdGlscy5kZWNvZGVUZXh0KGNvbnRlbnRBcnJheSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoY2h1bmtUeXBlID09PSBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTLkJJTikge1xyXG4gICAgICAgIHZhciBieXRlT2Zmc2V0ID0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICsgY2h1bmtJbmRleDtcclxuICAgICAgICB0aGlzLmJvZHkgPSBkYXRhLnNsaWNlKGJ5dGVPZmZzZXQsIGJ5dGVPZmZzZXQgKyBjaHVua0xlbmd0aCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENsaWVudHMgbXVzdCBpZ25vcmUgY2h1bmtzIHdpdGggdW5rbm93biB0eXBlcy5cclxuXHJcbiAgICAgIGNodW5rSW5kZXggKz0gY2h1bmtMZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuY29udGVudCA9PT0gbnVsbCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IEpTT04gY29udGVudCBub3QgZm91bmQuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEUkFDTyBNZXNoIENvbXByZXNzaW9uIEV4dGVuc2lvblxyXG4gICAqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb25cclxuICAgKi9cclxuICBmdW5jdGlvbiBHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24oanNvbiwgZHJhY29Mb2FkZXIpIHtcclxuICAgIGlmICghZHJhY29Mb2FkZXIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBObyBEUkFDT0xvYWRlciBpbnN0YW5jZSBwcm92aWRlZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OO1xyXG4gICAgdGhpcy5qc29uID0ganNvbjtcclxuICAgIHRoaXMuZHJhY29Mb2FkZXIgPSBkcmFjb0xvYWRlcjtcclxuICAgIHRoaXMuZHJhY29Mb2FkZXIucHJlbG9hZCgpO1xyXG4gIH1cclxuXHJcbiAgR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uLnByb3RvdHlwZS5kZWNvZGVQcmltaXRpdmUgPSBmdW5jdGlvbiAocHJpbWl0aXZlLCBwYXJzZXIpIHtcclxuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xyXG4gICAgdmFyIGRyYWNvTG9hZGVyID0gdGhpcy5kcmFjb0xvYWRlcjtcclxuICAgIHZhciBidWZmZXJWaWV3SW5kZXggPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLmJ1ZmZlclZpZXc7XHJcbiAgICB2YXIgZ2x0ZkF0dHJpYnV0ZU1hcCA9IHByaW1pdGl2ZS5leHRlbnNpb25zW3RoaXMubmFtZV0uYXR0cmlidXRlcztcclxuICAgIHZhciB0aHJlZUF0dHJpYnV0ZU1hcCA9IHt9O1xyXG4gICAgdmFyIGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAgPSB7fTtcclxuICAgIHZhciBhdHRyaWJ1dGVUeXBlTWFwID0ge307XHJcblxyXG4gICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBnbHRmQXR0cmlidXRlTWFwKSB7XHJcbiAgICAgIHZhciB0aHJlZUF0dHJpYnV0ZU5hbWUgPSBBVFRSSUJVVEVTW2F0dHJpYnV0ZU5hbWVdIHx8IGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgIHRocmVlQXR0cmlidXRlTWFwW3RocmVlQXR0cmlidXRlTmFtZV0gPSBnbHRmQXR0cmlidXRlTWFwW2F0dHJpYnV0ZU5hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoYXR0cmlidXRlTmFtZSBpbiBwcmltaXRpdmUuYXR0cmlidXRlcykge1xyXG4gICAgICB2YXIgdGhyZWVBdHRyaWJ1dGVOYW1lID0gQVRUUklCVVRFU1thdHRyaWJ1dGVOYW1lXSB8fCBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICBpZiAoZ2x0ZkF0dHJpYnV0ZU1hcFthdHRyaWJ1dGVOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFyIGFjY2Vzc29yRGVmID0ganNvbi5hY2Nlc3NvcnNbcHJpbWl0aXZlLmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV1dO1xyXG4gICAgICAgIHZhciBjb21wb25lbnRUeXBlID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGVdO1xyXG5cclxuICAgICAgICBhdHRyaWJ1dGVUeXBlTWFwW3RocmVlQXR0cmlidXRlTmFtZV0gPSBjb21wb25lbnRUeXBlO1xyXG4gICAgICAgIGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXBbdGhyZWVBdHRyaWJ1dGVOYW1lXSA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGFyc2VyLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBidWZmZXJWaWV3SW5kZXgpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlclZpZXcpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgZHJhY29Mb2FkZXIuZGVjb2RlRHJhY29GaWxlKFxyXG4gICAgICAgICAgYnVmZmVyVmlldyxcclxuICAgICAgICAgIGZ1bmN0aW9uIChnZW9tZXRyeSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcclxuICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZCA9IGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXBbYXR0cmlidXRlTmFtZV07XHJcblxyXG4gICAgICAgICAgICAgIGlmIChub3JtYWxpemVkICE9PSB1bmRlZmluZWQpIGF0dHJpYnV0ZS5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVzb2x2ZShnZW9tZXRyeSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgdGhyZWVBdHRyaWJ1dGVNYXAsXHJcbiAgICAgICAgICBhdHRyaWJ1dGVUeXBlTWFwXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBUZXh0dXJlIFRyYW5zZm9ybSBFeHRlbnNpb25cclxuICAgKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZXh0dXJlX3RyYW5zZm9ybVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIEdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uKCkge1xyXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk07XHJcbiAgfVxyXG5cclxuICBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCB0cmFuc2Zvcm0pIHtcclxuICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNsb25lKCk7XHJcblxyXG4gICAgaWYgKHRyYW5zZm9ybS5vZmZzZXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0ZXh0dXJlLm9mZnNldC5mcm9tQXJyYXkodHJhbnNmb3JtLm9mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRyYW5zZm9ybS5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRleHR1cmUucm90YXRpb24gPSB0cmFuc2Zvcm0ucm90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRyYW5zZm9ybS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRleHR1cmUucmVwZWF0LmZyb21BcnJheSh0cmFuc2Zvcm0uc2NhbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0cmFuc2Zvcm0udGV4Q29vcmQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXRzIGluIFwiJyArIHRoaXMubmFtZSArICdcIiBleHRlbnNpb24gbm90IHlldCBzdXBwb3J0ZWQuJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG5cclxuICAgIHJldHVybiB0ZXh0dXJlO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNwZWN1bGFyLUdsb3NzaW5lc3MgRXh0ZW5zaW9uXHJcbiAgICpcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3BiclNwZWN1bGFyR2xvc3NpbmVzc1xyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBBIHN1YiBjbGFzcyBvZiBTdGFuZGFyZE1hdGVyaWFsIHdpdGggc29tZSBvZiB0aGUgZnVuY3Rpb25hbGl0eVxyXG4gICAqIGNoYW5nZWQgdmlhIHRoZSBgb25CZWZvcmVDb21waWxlYCBjYWxsYmFja1xyXG4gICAqIEBwYWlsaGVhZFxyXG4gICAqL1xyXG5cclxuICBmdW5jdGlvbiBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbChwYXJhbXMpIHtcclxuICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLmNhbGwodGhpcyk7XHJcblxyXG4gICAgdGhpcy5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCA9IHRydWU7XHJcblxyXG4gICAgLy92YXJpb3VzIGNodW5rcyB0aGF0IG5lZWQgcmVwbGFjaW5nXHJcbiAgICB2YXIgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVuayA9IFtcclxuICAgICAgJyNpZmRlZiBVU0VfU1BFQ1VMQVJNQVAnLFxyXG4gICAgICAnXHR1bmlmb3JtIHNhbXBsZXIyRCBzcGVjdWxhck1hcDsnLFxyXG4gICAgICAnI2VuZGlmJyxcclxuICAgIF0uam9pbignXFxuJyk7XHJcblxyXG4gICAgdmFyIGdsb3NzaW5lc3NNYXBQYXJzRnJhZ21lbnRDaHVuayA9IFtcclxuICAgICAgJyNpZmRlZiBVU0VfR0xPU1NJTkVTU01BUCcsXHJcbiAgICAgICdcdHVuaWZvcm0gc2FtcGxlcjJEIGdsb3NzaW5lc3NNYXA7JyxcclxuICAgICAgJyNlbmRpZicsXHJcbiAgICBdLmpvaW4oJ1xcbicpO1xyXG5cclxuICAgIHZhciBzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmsgPSBbXHJcbiAgICAgICd2ZWMzIHNwZWN1bGFyRmFjdG9yID0gc3BlY3VsYXI7JyxcclxuICAgICAgJyNpZmRlZiBVU0VfU1BFQ1VMQVJNQVAnLFxyXG4gICAgICAnXHR2ZWM0IHRleGVsU3BlY3VsYXIgPSB0ZXh0dXJlMkQoIHNwZWN1bGFyTWFwLCB2VXYgKTsnLFxyXG4gICAgICAnXHR0ZXhlbFNwZWN1bGFyID0gc1JHQlRvTGluZWFyKCB0ZXhlbFNwZWN1bGFyICk7JyxcclxuICAgICAgJ1x0Ly8gcmVhZHMgY2hhbm5lbCBSR0IsIGNvbXBhdGlibGUgd2l0aCBhIGdsVEYgU3BlY3VsYXItR2xvc3NpbmVzcyAoUkdCQSkgdGV4dHVyZScsXHJcbiAgICAgICdcdHNwZWN1bGFyRmFjdG9yICo9IHRleGVsU3BlY3VsYXIucmdiOycsXHJcbiAgICAgICcjZW5kaWYnLFxyXG4gICAgXS5qb2luKCdcXG4nKTtcclxuXHJcbiAgICB2YXIgZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmsgPSBbXHJcbiAgICAgICdmbG9hdCBnbG9zc2luZXNzRmFjdG9yID0gZ2xvc3NpbmVzczsnLFxyXG4gICAgICAnI2lmZGVmIFVTRV9HTE9TU0lORVNTTUFQJyxcclxuICAgICAgJ1x0dmVjNCB0ZXhlbEdsb3NzaW5lc3MgPSB0ZXh0dXJlMkQoIGdsb3NzaW5lc3NNYXAsIHZVdiApOycsXHJcbiAgICAgICdcdC8vIHJlYWRzIGNoYW5uZWwgQSwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlJyxcclxuICAgICAgJ1x0Z2xvc3NpbmVzc0ZhY3RvciAqPSB0ZXhlbEdsb3NzaW5lc3MuYTsnLFxyXG4gICAgICAnI2VuZGlmJyxcclxuICAgIF0uam9pbignXFxuJyk7XHJcblxyXG4gICAgdmFyIGxpZ2h0UGh5c2ljYWxGcmFnbWVudENodW5rID0gW1xyXG4gICAgICAnUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbDsnLFxyXG4gICAgICAnbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYjsnLFxyXG4gICAgICAndmVjMyBkeHkgPSBtYXgoIGFicyggZEZkeCggZ2VvbWV0cnlOb3JtYWwgKSApLCBhYnMoIGRGZHkoIGdlb21ldHJ5Tm9ybWFsICkgKSApOycsXHJcbiAgICAgICdmbG9hdCBnZW9tZXRyeVJvdWdobmVzcyA9IG1heCggbWF4KCBkeHkueCwgZHh5LnkgKSwgZHh5LnogKTsnLFxyXG4gICAgICAnbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtYXgoIDEuMCAtIGdsb3NzaW5lc3NGYWN0b3IsIDAuMDUyNSApOy8vIDAuMDUyNSBjb3JyZXNwb25kcyB0byB0aGUgYmFzZSBtaXAgb2YgYSAyNTYgY3ViZW1hcC4nLFxyXG4gICAgICAnbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgKz0gZ2VvbWV0cnlSb3VnaG5lc3M7JyxcclxuICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzID0gbWluKCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgMS4wICk7JyxcclxuICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBzcGVjdWxhckZhY3Rvci5yZ2I7JyxcclxuICAgIF0uam9pbignXFxuJyk7XHJcblxyXG4gICAgdmFyIHVuaWZvcm1zID0ge1xyXG4gICAgICBzcGVjdWxhcjogeyB2YWx1ZTogbmV3IENvbG9yKCkuc2V0SGV4KDB4ZmZmZmZmKSB9LFxyXG4gICAgICBnbG9zc2luZXNzOiB7IHZhbHVlOiAxIH0sXHJcbiAgICAgIHNwZWN1bGFyTWFwOiB7IHZhbHVlOiBudWxsIH0sXHJcbiAgICAgIGdsb3NzaW5lc3NNYXA6IHsgdmFsdWU6IG51bGwgfSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fZXh0cmFVbmlmb3JtcyA9IHVuaWZvcm1zO1xyXG5cclxuICAgIC8vIHBsZWFzZSBzZWUgIzE0MDMxIG9yICMxMzE5OCBmb3IgYW4gYWx0ZXJuYXRlIGFwcHJvYWNoXHJcbiAgICB0aGlzLm9uQmVmb3JlQ29tcGlsZSA9IGZ1bmN0aW9uIChzaGFkZXIpIHtcclxuICAgICAgZm9yICh2YXIgdW5pZm9ybU5hbWUgaW4gdW5pZm9ybXMpIHtcclxuICAgICAgICBzaGFkZXIudW5pZm9ybXNbdW5pZm9ybU5hbWVdID0gdW5pZm9ybXNbdW5pZm9ybU5hbWVdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcclxuICAgICAgICAndW5pZm9ybSBmbG9hdCByb3VnaG5lc3M7JyxcclxuICAgICAgICAndW5pZm9ybSB2ZWMzIHNwZWN1bGFyOydcclxuICAgICAgKTtcclxuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXHJcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgbWV0YWxuZXNzOycsXHJcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgZ2xvc3NpbmVzczsnXHJcbiAgICAgICk7XHJcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxyXG4gICAgICAgICcjaW5jbHVkZSA8cm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ+JyxcclxuICAgICAgICBzcGVjdWxhck1hcFBhcnNGcmFnbWVudENodW5rXHJcbiAgICAgICk7XHJcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxyXG4gICAgICAgICcjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX3BhcnNfZnJhZ21lbnQ+JyxcclxuICAgICAgICBnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmtcclxuICAgICAgKTtcclxuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXHJcbiAgICAgICAgJyNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfZnJhZ21lbnQ+JyxcclxuICAgICAgICBzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmtcclxuICAgICAgKTtcclxuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXHJcbiAgICAgICAgJyNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ+JyxcclxuICAgICAgICBnbG9zc2luZXNzTWFwRnJhZ21lbnRDaHVua1xyXG4gICAgICApO1xyXG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcclxuICAgICAgICAnI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9mcmFnbWVudD4nLFxyXG4gICAgICAgIGxpZ2h0UGh5c2ljYWxGcmFnbWVudENodW5rXHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qZXNsaW50LWRpc2FibGUqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xyXG4gICAgICBzcGVjdWxhcjoge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLnNwZWN1bGFyLnZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgdW5pZm9ybXMuc3BlY3VsYXIudmFsdWUgPSB2O1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHNwZWN1bGFyTWFwOiB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gdW5pZm9ybXMuc3BlY3VsYXJNYXAudmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICB1bmlmb3Jtcy5zcGVjdWxhck1hcC52YWx1ZSA9IHY7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgZ2xvc3NpbmVzczoge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLmdsb3NzaW5lc3MudmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICB1bmlmb3Jtcy5nbG9zc2luZXNzLnZhbHVlID0gdjtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBnbG9zc2luZXNzTWFwOiB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gdW5pZm9ybXMuZ2xvc3NpbmVzc01hcC52YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgIHVuaWZvcm1zLmdsb3NzaW5lc3NNYXAudmFsdWUgPSB2O1xyXG4gICAgICAgICAgLy9ob3cgYWJvdXQgc29tZXRoaW5nIGxpa2UgdGhpcyAtIEBwYWlsaGVhZFxyXG4gICAgICAgICAgaWYgKHYpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLlVTRV9HTE9TU0lORVNTTUFQID0gJyc7XHJcbiAgICAgICAgICAgIC8vIHNldCBVU0VfUk9VR0hORVNTTUFQIHRvIGVuYWJsZSB2VXZcclxuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLlVTRV9ST1VHSE5FU1NNQVAgPSAnJztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZXMuVVNFX1JPVUdITkVTU01BUDtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfR0xPU1NJTkVTU01BUDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLyplc2xpbnQtZW5hYmxlKi9cclxuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzcztcclxuICAgIGRlbGV0ZSB0aGlzLnJvdWdobmVzcztcclxuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzc01hcDtcclxuICAgIGRlbGV0ZSB0aGlzLnJvdWdobmVzc01hcDtcclxuXHJcbiAgICB0aGlzLnNldFZhbHVlcyhwYXJhbXMpO1xyXG4gIH1cclxuXHJcbiAgR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUpO1xyXG4gIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsO1xyXG5cclxuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcclxuICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcywgc291cmNlKTtcclxuICAgIHRoaXMuc3BlY3VsYXJNYXAgPSBzb3VyY2Uuc3BlY3VsYXJNYXA7XHJcbiAgICB0aGlzLnNwZWN1bGFyLmNvcHkoc291cmNlLnNwZWN1bGFyKTtcclxuICAgIHRoaXMuZ2xvc3NpbmVzc01hcCA9IHNvdXJjZS5nbG9zc2luZXNzTWFwO1xyXG4gICAgdGhpcy5nbG9zc2luZXNzID0gc291cmNlLmdsb3NzaW5lc3M7XHJcbiAgICBkZWxldGUgdGhpcy5tZXRhbG5lc3M7XHJcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3M7XHJcbiAgICBkZWxldGUgdGhpcy5tZXRhbG5lc3NNYXA7XHJcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3NNYXA7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTLFxyXG5cclxuICAgICAgc3BlY3VsYXJHbG9zc2luZXNzUGFyYW1zOiBbXHJcbiAgICAgICAgJ2NvbG9yJyxcclxuICAgICAgICAnbWFwJyxcclxuICAgICAgICAnbGlnaHRNYXAnLFxyXG4gICAgICAgICdsaWdodE1hcEludGVuc2l0eScsXHJcbiAgICAgICAgJ2FvTWFwJyxcclxuICAgICAgICAnYW9NYXBJbnRlbnNpdHknLFxyXG4gICAgICAgICdlbWlzc2l2ZScsXHJcbiAgICAgICAgJ2VtaXNzaXZlSW50ZW5zaXR5JyxcclxuICAgICAgICAnZW1pc3NpdmVNYXAnLFxyXG4gICAgICAgICdidW1wTWFwJyxcclxuICAgICAgICAnYnVtcFNjYWxlJyxcclxuICAgICAgICAnbm9ybWFsTWFwJyxcclxuICAgICAgICAnbm9ybWFsTWFwVHlwZScsXHJcbiAgICAgICAgJ2Rpc3BsYWNlbWVudE1hcCcsXHJcbiAgICAgICAgJ2Rpc3BsYWNlbWVudFNjYWxlJyxcclxuICAgICAgICAnZGlzcGxhY2VtZW50QmlhcycsXHJcbiAgICAgICAgJ3NwZWN1bGFyTWFwJyxcclxuICAgICAgICAnc3BlY3VsYXInLFxyXG4gICAgICAgICdnbG9zc2luZXNzTWFwJyxcclxuICAgICAgICAnZ2xvc3NpbmVzcycsXHJcbiAgICAgICAgJ2FscGhhTWFwJyxcclxuICAgICAgICAnZW52TWFwJyxcclxuICAgICAgICAnZW52TWFwSW50ZW5zaXR5JyxcclxuICAgICAgICAncmVmcmFjdGlvblJhdGlvJyxcclxuICAgICAgXSxcclxuXHJcbiAgICAgIGdldE1hdGVyaWFsVHlwZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbDtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGV4dGVuZFBhcmFtczogZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyKSB7XHJcbiAgICAgICAgdmFyIHBiclNwZWN1bGFyR2xvc3NpbmVzcyA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbdGhpcy5uYW1lXTtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XHJcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcclxuXHJcbiAgICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGJyU3BlY3VsYXJHbG9zc2luZXNzLmRpZmZ1c2VGYWN0b3IpKSB7XHJcbiAgICAgICAgICB2YXIgYXJyYXkgPSBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZUZhY3RvcjtcclxuXHJcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoYXJyYXkpO1xyXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WzNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnbWFwJywgcGJyU3BlY3VsYXJHbG9zc2luZXNzLmRpZmZ1c2VUZXh0dXJlKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlID0gbmV3IENvbG9yKDAuMCwgMC4wLCAwLjApO1xyXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3MgPVxyXG4gICAgICAgICAgcGJyU3BlY3VsYXJHbG9zc2luZXNzLmdsb3NzaW5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IHBiclNwZWN1bGFyR2xvc3NpbmVzcy5nbG9zc2luZXNzRmFjdG9yXHJcbiAgICAgICAgICAgIDogMS4wO1xyXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyID0gbmV3IENvbG9yKDEuMCwgMS4wLCAxLjApO1xyXG5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJGYWN0b3IpKSB7XHJcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhci5mcm9tQXJyYXkocGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyRmFjdG9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICB2YXIgc3BlY0dsb3NzTWFwRGVmID0gcGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmU7XHJcbiAgICAgICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdnbG9zc2luZXNzTWFwJywgc3BlY0dsb3NzTWFwRGVmKSk7XHJcbiAgICAgICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdzcGVjdWxhck1hcCcsIHNwZWNHbG9zc01hcERlZikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlTWF0ZXJpYWw6IGZ1bmN0aW9uIChtYXRlcmlhbFBhcmFtcykge1xyXG4gICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbChtYXRlcmlhbFBhcmFtcyk7XHJcbiAgICAgICAgbWF0ZXJpYWwuZm9nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWwuY29sb3IgPSBtYXRlcmlhbFBhcmFtcy5jb2xvcjtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWwubWFwID0gbWF0ZXJpYWxQYXJhbXMubWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMubWFwO1xyXG5cclxuICAgICAgICBtYXRlcmlhbC5saWdodE1hcCA9IG51bGw7XHJcbiAgICAgICAgbWF0ZXJpYWwubGlnaHRNYXBJbnRlbnNpdHkgPSAxLjA7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLmFvTWFwID0gbWF0ZXJpYWxQYXJhbXMuYW9NYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5hb01hcDtcclxuICAgICAgICBtYXRlcmlhbC5hb01hcEludGVuc2l0eSA9IDEuMDtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmUgPSBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZTtcclxuICAgICAgICBtYXRlcmlhbC5lbWlzc2l2ZUludGVuc2l0eSA9IDEuMDtcclxuICAgICAgICBtYXRlcmlhbC5lbWlzc2l2ZU1hcCA9XHJcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZU1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlTWFwO1xyXG5cclxuICAgICAgICBtYXRlcmlhbC5idW1wTWFwID0gbWF0ZXJpYWxQYXJhbXMuYnVtcE1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmJ1bXBNYXA7XHJcbiAgICAgICAgbWF0ZXJpYWwuYnVtcFNjYWxlID0gMTtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWwubm9ybWFsTWFwID1cclxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLm5vcm1hbE1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLm5vcm1hbE1hcDtcclxuICAgICAgICBtYXRlcmlhbC5ub3JtYWxNYXBUeXBlID0gVGFuZ2VudFNwYWNlTm9ybWFsTWFwO1xyXG5cclxuICAgICAgICBpZiAobWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUpIG1hdGVyaWFsLm5vcm1hbFNjYWxlID0gbWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGU7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCA9IG51bGw7XHJcbiAgICAgICAgbWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGUgPSAxO1xyXG4gICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudEJpYXMgPSAwO1xyXG5cclxuICAgICAgICBtYXRlcmlhbC5zcGVjdWxhck1hcCA9XHJcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhck1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyTWFwO1xyXG4gICAgICAgIG1hdGVyaWFsLnNwZWN1bGFyID0gbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXI7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLmdsb3NzaW5lc3NNYXAgPVxyXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzc01hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3NNYXA7XHJcbiAgICAgICAgbWF0ZXJpYWwuZ2xvc3NpbmVzcyA9IG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3M7XHJcblxyXG4gICAgICAgIG1hdGVyaWFsLmFscGhhTWFwID0gbnVsbDtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWwuZW52TWFwID0gbWF0ZXJpYWxQYXJhbXMuZW52TWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuZW52TWFwO1xyXG4gICAgICAgIG1hdGVyaWFsLmVudk1hcEludGVuc2l0eSA9IDEuMDtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWwucmVmcmFjdGlvblJhdGlvID0gMC45ODtcclxuXHJcbiAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1lc2ggUXVhbnRpemF0aW9uIEV4dGVuc2lvblxyXG4gICAqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21lc2hfcXVhbnRpemF0aW9uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gR0xURk1lc2hRdWFudGl6YXRpb25FeHRlbnNpb24oKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjtcclxuICB9XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgLyoqKioqKioqKiogSU5URVJQT0xBVElPTiAqKioqKioqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvLyBTcGxpbmUgSW50ZXJwb2xhdGlvblxyXG4gIC8vIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYXBwZW5kaXgtYy1zcGxpbmUtaW50ZXJwb2xhdGlvblxyXG4gIGZ1bmN0aW9uIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50KHBhcmFtZXRlclBvc2l0aW9ucywgc2FtcGxlVmFsdWVzLCBzYW1wbGVTaXplLCByZXN1bHRCdWZmZXIpIHtcclxuICAgIEludGVycG9sYW50LmNhbGwodGhpcywgcGFyYW1ldGVyUG9zaXRpb25zLCBzYW1wbGVWYWx1ZXMsIHNhbXBsZVNpemUsIHJlc3VsdEJ1ZmZlcik7XHJcbiAgfVxyXG5cclxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEludGVycG9sYW50LnByb3RvdHlwZSk7XHJcbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQ7XHJcblxyXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAvLyBDb3BpZXMgYSBzYW1wbGUgdmFsdWUgdG8gdGhlIHJlc3VsdCBidWZmZXIuIFNlZSBkZXNjcmlwdGlvbiBvZiBnbFRGXHJcbiAgICAvLyBDVUJJQ1NQTElORSB2YWx1ZXMgbGF5b3V0IGluIGludGVycG9sYXRlXygpIGZ1bmN0aW9uIGJlbG93LlxyXG5cclxuICAgIHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdEJ1ZmZlcixcclxuICAgICAgICB2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcyxcclxuICAgICAgICB2YWx1ZVNpemUgPSB0aGlzLnZhbHVlU2l6ZSxcclxuICAgICAgICBvZmZzZXQgPSBpbmRleCAqIHZhbHVlU2l6ZSAqIDMgKyB2YWx1ZVNpemU7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IHZhbHVlU2l6ZTsgaSsrKSB7XHJcbiAgICAgIHJlc3VsdFtpXSA9IHZhbHVlc1tvZmZzZXQgKyBpXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH07XHJcblxyXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5iZWZvcmVTdGFydF8gPVxyXG4gICAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87XHJcblxyXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5hZnRlckVuZF8gPVxyXG4gICAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87XHJcblxyXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5pbnRlcnBvbGF0ZV8gPSBmdW5jdGlvbiAoaTEsIHQwLCB0LCB0MSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0QnVmZmVyO1xyXG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuc2FtcGxlVmFsdWVzO1xyXG4gICAgdmFyIHN0cmlkZSA9IHRoaXMudmFsdWVTaXplO1xyXG5cclxuICAgIHZhciBzdHJpZGUyID0gc3RyaWRlICogMjtcclxuICAgIHZhciBzdHJpZGUzID0gc3RyaWRlICogMztcclxuXHJcbiAgICB2YXIgdGQgPSB0MSAtIHQwO1xyXG5cclxuICAgIHZhciBwID0gKHQgLSB0MCkgLyB0ZDtcclxuICAgIHZhciBwcCA9IHAgKiBwO1xyXG4gICAgdmFyIHBwcCA9IHBwICogcDtcclxuXHJcbiAgICB2YXIgb2Zmc2V0MSA9IGkxICogc3RyaWRlMztcclxuICAgIHZhciBvZmZzZXQwID0gb2Zmc2V0MSAtIHN0cmlkZTM7XHJcblxyXG4gICAgdmFyIHMyID0gLTIgKiBwcHAgKyAzICogcHA7XHJcbiAgICB2YXIgczMgPSBwcHAgLSBwcDtcclxuICAgIHZhciBzMCA9IDEgLSBzMjtcclxuICAgIHZhciBzMSA9IHMzIC0gcHAgKyBwO1xyXG5cclxuICAgIC8vIExheW91dCBvZiBrZXlmcmFtZSBvdXRwdXQgdmFsdWVzIGZvciBDVUJJQ1NQTElORSBhbmltYXRpb25zOlxyXG4gICAgLy8gICBbIGluVGFuZ2VudF8xLCBzcGxpbmVWZXJ0ZXhfMSwgb3V0VGFuZ2VudF8xLCBpblRhbmdlbnRfMiwgc3BsaW5lVmVydGV4XzIsIC4uLiBdXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSAhPT0gc3RyaWRlOyBpKyspIHtcclxuICAgICAgdmFyIHAwID0gdmFsdWVzW29mZnNldDAgKyBpICsgc3RyaWRlXTsgLy8gc3BsaW5lVmVydGV4X2tcclxuICAgICAgdmFyIG0wID0gdmFsdWVzW29mZnNldDAgKyBpICsgc3RyaWRlMl0gKiB0ZDsgLy8gb3V0VGFuZ2VudF9rICogKHRfaysxIC0gdF9rKVxyXG4gICAgICB2YXIgcDEgPSB2YWx1ZXNbb2Zmc2V0MSArIGkgKyBzdHJpZGVdOyAvLyBzcGxpbmVWZXJ0ZXhfaysxXHJcbiAgICAgIHZhciBtMSA9IHZhbHVlc1tvZmZzZXQxICsgaV0gKiB0ZDsgLy8gaW5UYW5nZW50X2srMSAqICh0X2srMSAtIHRfaylcclxuXHJcbiAgICAgIHJlc3VsdFtpXSA9IHMwICogcDAgKyBzMSAqIG0wICsgczIgKiBwMSArIHMzICogbTE7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIC8qKioqKioqKioqIElOVEVSTkFMUyAqKioqKioqKioqKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyogQ09OU1RBTlRTICovXHJcblxyXG4gIHZhciBXRUJHTF9DT05TVEFOVFMgPSB7XHJcbiAgICBGTE9BVDogNTEyNixcclxuICAgIC8vRkxPQVRfTUFUMjogMzU2NzQsXHJcbiAgICBGTE9BVF9NQVQzOiAzNTY3NSxcclxuICAgIEZMT0FUX01BVDQ6IDM1Njc2LFxyXG4gICAgRkxPQVRfVkVDMjogMzU2NjQsXHJcbiAgICBGTE9BVF9WRUMzOiAzNTY2NSxcclxuICAgIEZMT0FUX1ZFQzQ6IDM1NjY2LFxyXG4gICAgTElORUFSOiA5NzI5LFxyXG4gICAgUkVQRUFUOiAxMDQ5NyxcclxuICAgIFNBTVBMRVJfMkQ6IDM1Njc4LFxyXG4gICAgUE9JTlRTOiAwLFxyXG4gICAgTElORVM6IDEsXHJcbiAgICBMSU5FX0xPT1A6IDIsXHJcbiAgICBMSU5FX1NUUklQOiAzLFxyXG4gICAgVFJJQU5HTEVTOiA0LFxyXG4gICAgVFJJQU5HTEVfU1RSSVA6IDUsXHJcbiAgICBUUklBTkdMRV9GQU46IDYsXHJcbiAgICBVTlNJR05FRF9CWVRFOiA1MTIxLFxyXG4gICAgVU5TSUdORURfU0hPUlQ6IDUxMjMsXHJcbiAgfTtcclxuXHJcbiAgdmFyIFdFQkdMX0NPTVBPTkVOVF9UWVBFUyA9IHtcclxuICAgIDUxMjA6IEludDhBcnJheSxcclxuICAgIDUxMjE6IFVpbnQ4QXJyYXksXHJcbiAgICA1MTIyOiBJbnQxNkFycmF5LFxyXG4gICAgNTEyMzogVWludDE2QXJyYXksXHJcbiAgICA1MTI1OiBVaW50MzJBcnJheSxcclxuICAgIDUxMjY6IEZsb2F0MzJBcnJheSxcclxuICB9O1xyXG5cclxuICB2YXIgV0VCR0xfRklMVEVSUyA9IHtcclxuICAgIDk3Mjg6IE5lYXJlc3RGaWx0ZXIsXHJcbiAgICA5NzI5OiBMaW5lYXJGaWx0ZXIsXHJcbiAgICA5OTg0OiBOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcixcclxuICAgIDk5ODU6IExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXIsXHJcbiAgICA5OTg2OiBOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyLFxyXG4gICAgOTk4NzogTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyLFxyXG4gIH07XHJcblxyXG4gIHZhciBXRUJHTF9XUkFQUElOR1MgPSB7XHJcbiAgICAzMzA3MTogQ2xhbXBUb0VkZ2VXcmFwcGluZyxcclxuICAgIDMzNjQ4OiBNaXJyb3JlZFJlcGVhdFdyYXBwaW5nLFxyXG4gICAgMTA0OTc6IFJlcGVhdFdyYXBwaW5nLFxyXG4gIH07XHJcblxyXG4gIHZhciBXRUJHTF9UWVBFX1NJWkVTID0ge1xyXG4gICAgU0NBTEFSOiAxLFxyXG4gICAgVkVDMjogMixcclxuICAgIFZFQzM6IDMsXHJcbiAgICBWRUM0OiA0LFxyXG4gICAgTUFUMjogNCxcclxuICAgIE1BVDM6IDksXHJcbiAgICBNQVQ0OiAxNixcclxuICB9O1xyXG5cclxuICB2YXIgQVRUUklCVVRFUyA9IHtcclxuICAgIFBPU0lUSU9OOiAncG9zaXRpb24nLFxyXG4gICAgTk9STUFMOiAnbm9ybWFsJyxcclxuICAgIFRBTkdFTlQ6ICd0YW5nZW50JyxcclxuICAgIFRFWENPT1JEXzA6ICd1dicsXHJcbiAgICBURVhDT09SRF8xOiAndXYyJyxcclxuICAgIENPTE9SXzA6ICdjb2xvcicsXHJcbiAgICBXRUlHSFRTXzA6ICdza2luV2VpZ2h0JyxcclxuICAgIEpPSU5UU18wOiAnc2tpbkluZGV4JyxcclxuICB9O1xyXG5cclxuICB2YXIgUEFUSF9QUk9QRVJUSUVTID0ge1xyXG4gICAgc2NhbGU6ICdzY2FsZScsXHJcbiAgICB0cmFuc2xhdGlvbjogJ3Bvc2l0aW9uJyxcclxuICAgIHJvdGF0aW9uOiAncXVhdGVybmlvbicsXHJcbiAgICB3ZWlnaHRzOiAnbW9ycGhUYXJnZXRJbmZsdWVuY2VzJyxcclxuICB9O1xyXG5cclxuICB2YXIgSU5URVJQT0xBVElPTiA9IHtcclxuICAgIENVQklDU1BMSU5FOiB1bmRlZmluZWQsIC8vIFdlIHVzZSBhIGN1c3RvbSBpbnRlcnBvbGFudCAoR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhdGlvbikgZm9yIENVQklDU1BMSU5FIHRyYWNrcy4gRWFjaFxyXG4gICAgLy8ga2V5ZnJhbWUgdHJhY2sgd2lsbCBiZSBpbml0aWFsaXplZCB3aXRoIGEgZGVmYXVsdCBpbnRlcnBvbGF0aW9uIHR5cGUsIHRoZW4gbW9kaWZpZWQuXHJcbiAgICBMSU5FQVI6IEludGVycG9sYXRlTGluZWFyLFxyXG4gICAgU1RFUDogSW50ZXJwb2xhdGVEaXNjcmV0ZSxcclxuICB9O1xyXG5cclxuICB2YXIgQUxQSEFfTU9ERVMgPSB7XHJcbiAgICBPUEFRVUU6ICdPUEFRVUUnLFxyXG4gICAgTUFTSzogJ01BU0snLFxyXG4gICAgQkxFTkQ6ICdCTEVORCcsXHJcbiAgfTtcclxuXHJcbiAgdmFyIE1JTUVfVFlQRV9GT1JNQVRTID0ge1xyXG4gICAgJ2ltYWdlL3BuZyc6IFJHQkFGb3JtYXQsXHJcbiAgICAnaW1hZ2UvanBlZyc6IFJHQkZvcm1hdCxcclxuICB9O1xyXG5cclxuICAvKiBVVElMSVRZIEZVTkNUSU9OUyAqL1xyXG5cclxuICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCwgcGF0aCkge1xyXG4gICAgLy8gSW52YWxpZCBVUkxcclxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJyB8fCB1cmwgPT09ICcnKSByZXR1cm4gJyc7XHJcblxyXG4gICAgLy8gSG9zdCBSZWxhdGl2ZSBVUkxcclxuICAgIGlmICgvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHBhdGgpICYmIC9eXFwvLy50ZXN0KHVybCkpIHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXHJcbiAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoLyheaHR0cHM/OlxcL1xcL1teXFwvXSspLiovaSwgJyQxJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWJzb2x1dGUgVVJMIGh0dHA6Ly8saHR0cHM6Ly8sLy9cclxuICAgIGlmICgvXihodHRwcz86KT9cXC9cXC8vaS50ZXN0KHVybCkpIHJldHVybiB1cmw7XHJcblxyXG4gICAgLy8gRGF0YSBVUklcclxuICAgIGlmICgvXmRhdGE6LiosLiokL2kudGVzdCh1cmwpKSByZXR1cm4gdXJsO1xyXG5cclxuICAgIC8vIEJsb2IgVVJMXHJcbiAgICBpZiAoL15ibG9iOi4qJC9pLnRlc3QodXJsKSkgcmV0dXJuIHVybDtcclxuXHJcbiAgICAvLyBSZWxhdGl2ZSBVUkxcclxuICAgIHJldHVybiBwYXRoICsgdXJsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNkZWZhdWx0LW1hdGVyaWFsXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdE1hdGVyaWFsKGNhY2hlKSB7XHJcbiAgICBpZiAoY2FjaGVbJ0RlZmF1bHRNYXRlcmlhbCddID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgY2FjaGVbJ0RlZmF1bHRNYXRlcmlhbCddID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICBjb2xvcjogMHhmZmZmZmYsXHJcbiAgICAgICAgZW1pc3NpdmU6IDB4MDAwMDAwLFxyXG4gICAgICAgIG1ldGFsbmVzczogMSxcclxuICAgICAgICByb3VnaG5lc3M6IDEsXHJcbiAgICAgICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxyXG4gICAgICAgIGRlcHRoVGVzdDogdHJ1ZSxcclxuICAgICAgICBzaWRlOiBGcm9udFNpZGUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjYWNoZVsnRGVmYXVsdE1hdGVyaWFsJ107XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoa25vd25FeHRlbnNpb25zLCBvYmplY3QsIG9iamVjdERlZikge1xyXG4gICAgLy8gQWRkIHVua25vd24gZ2xURiBleHRlbnNpb25zIHRvIGFuIG9iamVjdCdzIHVzZXJEYXRhLlxyXG5cclxuICAgIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0RGVmLmV4dGVuc2lvbnMpIHtcclxuICAgICAgaWYgKGtub3duRXh0ZW5zaW9uc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgb2JqZWN0LnVzZXJEYXRhLmdsdGZFeHRlbnNpb25zID0gb2JqZWN0LnVzZXJEYXRhLmdsdGZFeHRlbnNpb25zIHx8IHt9O1xyXG4gICAgICAgIG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9uc1tuYW1lXSA9IG9iamVjdERlZi5leHRlbnNpb25zW25hbWVdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge09iamVjdDNEfE1hdGVyaWFsfEJ1ZmZlckdlb21ldHJ5fSBvYmplY3RcclxuICAgKiBAcGFyYW0ge0dMVEYuZGVmaW5pdGlvbn0gZ2x0ZkRlZlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEob2JqZWN0LCBnbHRmRGVmKSB7XHJcbiAgICBpZiAoZ2x0ZkRlZi5leHRyYXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBpZiAodHlwZW9mIGdsdGZEZWYuZXh0cmFzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LnVzZXJEYXRhLCBnbHRmRGVmLmV4dHJhcyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBJZ25vcmluZyBwcmltaXRpdmUgdHlwZSAuZXh0cmFzLCAnICsgZ2x0ZkRlZi5leHRyYXMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21vcnBoLXRhcmdldHNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XHJcbiAgICogQHBhcmFtIHtBcnJheTxHTFRGLlRhcmdldD59IHRhcmdldHNcclxuICAgKiBAcGFyYW0ge0dMVEZQYXJzZXJ9IHBhcnNlclxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFkZE1vcnBoVGFyZ2V0cyhnZW9tZXRyeSwgdGFyZ2V0cywgcGFyc2VyKSB7XHJcbiAgICB2YXIgaGFzTW9ycGhQb3NpdGlvbiA9IGZhbHNlO1xyXG4gICAgdmFyIGhhc01vcnBoTm9ybWFsID0gZmFsc2U7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xyXG5cclxuICAgICAgaWYgKHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkKSBoYXNNb3JwaFBvc2l0aW9uID0gdHJ1ZTtcclxuICAgICAgaWYgKHRhcmdldC5OT1JNQUwgIT09IHVuZGVmaW5lZCkgaGFzTW9ycGhOb3JtYWwgPSB0cnVlO1xyXG5cclxuICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24gJiYgaGFzTW9ycGhOb3JtYWwpIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaGFzTW9ycGhQb3NpdGlvbiAmJiAhaGFzTW9ycGhOb3JtYWwpIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cnkpO1xyXG5cclxuICAgIHZhciBwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMgPSBbXTtcclxuICAgIHZhciBwZW5kaW5nTm9ybWFsQWNjZXNzb3JzID0gW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xyXG5cclxuICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgcGVuZGluZ0FjY2Vzc29yID1cclxuICAgICAgICAgICAgICB0YXJnZXQuUE9TSVRJT04gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgPyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCB0YXJnZXQuUE9TSVRJT04pXHJcbiAgICAgICAgICAgICAgICA6IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XHJcblxyXG4gICAgICAgIHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycy5wdXNoKHBlbmRpbmdBY2Nlc3Nvcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChoYXNNb3JwaE5vcm1hbCkge1xyXG4gICAgICAgIHZhciBwZW5kaW5nQWNjZXNzb3IgPVxyXG4gICAgICAgICAgICAgIHRhcmdldC5OT1JNQUwgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgPyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCB0YXJnZXQuTk9STUFMKVxyXG4gICAgICAgICAgICAgICAgOiBnZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbDtcclxuXHJcbiAgICAgICAgcGVuZGluZ05vcm1hbEFjY2Vzc29ycy5wdXNoKHBlbmRpbmdBY2Nlc3Nvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xyXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMpLFxyXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nTm9ybWFsQWNjZXNzb3JzKSxcclxuICAgIF0pLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29ycykge1xyXG4gICAgICB2YXIgbW9ycGhQb3NpdGlvbnMgPSBhY2Nlc3NvcnNbMF07XHJcbiAgICAgIHZhciBtb3JwaE5vcm1hbHMgPSBhY2Nlc3NvcnNbMV07XHJcblxyXG4gICAgICBpZiAoaGFzTW9ycGhQb3NpdGlvbikgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uID0gbW9ycGhQb3NpdGlvbnM7XHJcbiAgICAgIGlmIChoYXNNb3JwaE5vcm1hbCkgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCA9IG1vcnBoTm9ybWFscztcclxuICAgICAgZ2VvbWV0cnkubW9ycGhUYXJnZXRzUmVsYXRpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgcmV0dXJuIGdlb21ldHJ5O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge01lc2h9IG1lc2hcclxuICAgKiBAcGFyYW0ge0dMVEYuTWVzaH0gbWVzaERlZlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHVwZGF0ZU1vcnBoVGFyZ2V0cyhtZXNoLCBtZXNoRGVmKSB7XHJcbiAgICBtZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpO1xyXG5cclxuICAgIGlmIChtZXNoRGVmLndlaWdodHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBtZXNoRGVmLndlaWdodHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgIG1lc2gubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2ldID0gbWVzaERlZi53ZWlnaHRzW2ldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLmV4dHJhcyBoYXMgdXNlci1kZWZpbmVkIGRhdGEsIHNvIGNoZWNrIHRoYXQgLmV4dHJhcy50YXJnZXROYW1lcyBpcyBhbiBhcnJheS5cclxuICAgIGlmIChtZXNoRGVmLmV4dHJhcyAmJiBBcnJheS5pc0FycmF5KG1lc2hEZWYuZXh0cmFzLnRhcmdldE5hbWVzKSkge1xyXG4gICAgICB2YXIgdGFyZ2V0TmFtZXMgPSBtZXNoRGVmLmV4dHJhcy50YXJnZXROYW1lcztcclxuXHJcbiAgICAgIGlmIChtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5sZW5ndGggPT09IHRhcmdldE5hbWVzLmxlbmd0aCkge1xyXG4gICAgICAgIG1lc2gubW9ycGhUYXJnZXREaWN0aW9uYXJ5ID0ge307XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICAgIG1lc2gubW9ycGhUYXJnZXREaWN0aW9uYXJ5W3RhcmdldE5hbWVzW2ldXSA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogSW52YWxpZCBleHRyYXMudGFyZ2V0TmFtZXMgbGVuZ3RoLiBJZ25vcmluZyBuYW1lcy4nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlS2V5KHByaW1pdGl2ZURlZikge1xyXG4gICAgdmFyIGRyYWNvRXh0ZW5zaW9uID1cclxuICAgICAgICAgIHByaW1pdGl2ZURlZi5leHRlbnNpb25zICYmIHByaW1pdGl2ZURlZi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT05dO1xyXG4gICAgdmFyIGdlb21ldHJ5S2V5O1xyXG5cclxuICAgIGlmIChkcmFjb0V4dGVuc2lvbikge1xyXG4gICAgICBnZW9tZXRyeUtleSA9XHJcbiAgICAgICAgJ2RyYWNvOicgK1xyXG4gICAgICAgIGRyYWNvRXh0ZW5zaW9uLmJ1ZmZlclZpZXcgK1xyXG4gICAgICAgICc6JyArXHJcbiAgICAgICAgZHJhY29FeHRlbnNpb24uaW5kaWNlcyArXHJcbiAgICAgICAgJzonICtcclxuICAgICAgICBjcmVhdGVBdHRyaWJ1dGVzS2V5KGRyYWNvRXh0ZW5zaW9uLmF0dHJpYnV0ZXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZ2VvbWV0cnlLZXkgPVxyXG4gICAgICAgIHByaW1pdGl2ZURlZi5pbmRpY2VzICtcclxuICAgICAgICAnOicgK1xyXG4gICAgICAgIGNyZWF0ZUF0dHJpYnV0ZXNLZXkocHJpbWl0aXZlRGVmLmF0dHJpYnV0ZXMpICtcclxuICAgICAgICAnOicgK1xyXG4gICAgICAgIHByaW1pdGl2ZURlZi5tb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBnZW9tZXRyeUtleTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoYXR0cmlidXRlcykge1xyXG4gICAgdmFyIGF0dHJpYnV0ZXNLZXkgPSAnJztcclxuXHJcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLnNvcnQoKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBrZXlzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgYXR0cmlidXRlc0tleSArPSBrZXlzW2ldICsgJzonICsgYXR0cmlidXRlc1trZXlzW2ldXSArICc7JztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXR0cmlidXRlc0tleTtcclxuICB9XHJcblxyXG4gIC8qIEdMVEYgUEFSU0VSICovXHJcblxyXG4gIGZ1bmN0aW9uIEdMVEZQYXJzZXIoanNvbiwgZXh0ZW5zaW9ucywgb3B0aW9ucykge1xyXG4gICAgdGhpcy5qc29uID0ganNvbiB8fCB7fTtcclxuICAgIHRoaXMuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMgfHwge307XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuICAgIC8vIGxvYWRlciBvYmplY3QgY2FjaGVcclxuICAgIHRoaXMuY2FjaGUgPSBuZXcgR0xURlJlZ2lzdHJ5KCk7XHJcblxyXG4gICAgLy8gQnVmZmVyR2VvbWV0cnkgY2FjaGluZ1xyXG4gICAgdGhpcy5wcmltaXRpdmVDYWNoZSA9IHt9O1xyXG5cclxuICAgIHRoaXMudGV4dHVyZUxvYWRlciA9IG5ldyBUZXh0dXJlTG9hZGVyKHRoaXMub3B0aW9ucy5tYW5hZ2VyKTtcclxuICAgIHRoaXMudGV4dHVyZUxvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4pO1xyXG5cclxuICAgIHRoaXMuZmlsZUxvYWRlciA9IG5ldyBGaWxlTG9hZGVyKHRoaXMub3B0aW9ucy5tYW5hZ2VyKTtcclxuICAgIHRoaXMuZmlsZUxvYWRlci5zZXRSZXNwb25zZVR5cGUoJ2FycmF5YnVmZmVyJyk7XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gJ3VzZS1jcmVkZW50aWFscycpIHtcclxuICAgICAgdGhpcy5maWxlTG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0cnVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKG9uTG9hZCwgb25FcnJvcikge1xyXG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XHJcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcclxuICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xyXG5cclxuICAgIC8vIENsZWFyIHRoZSBsb2FkZXIgY2FjaGVcclxuICAgIHRoaXMuY2FjaGUucmVtb3ZlQWxsKCk7XHJcblxyXG4gICAgLy8gTWFyayB0aGUgc3BlY2lhbCBub2Rlcy9tZXNoZXMgaW4ganNvbiBmb3IgZWZmaWNpZW50IHBhcnNlXHJcbiAgICB0aGlzLm1hcmtEZWZzKCk7XHJcblxyXG4gICAgUHJvbWlzZS5hbGwoW1xyXG4gICAgICB0aGlzLmdldERlcGVuZGVuY2llcygnc2NlbmUnKSxcclxuICAgICAgdGhpcy5nZXREZXBlbmRlbmNpZXMoJ2FuaW1hdGlvbicpLFxyXG4gICAgICB0aGlzLmdldERlcGVuZGVuY2llcygnY2FtZXJhJyksXHJcbiAgICBdKVxyXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGVwZW5kZW5jaWVzKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcclxuICAgICAgICAgIHNjZW5lOiBkZXBlbmRlbmNpZXNbMF1banNvbi5zY2VuZSB8fCAwXSxcclxuICAgICAgICAgIHNjZW5lczogZGVwZW5kZW5jaWVzWzBdLFxyXG4gICAgICAgICAgYW5pbWF0aW9uczogZGVwZW5kZW5jaWVzWzFdLFxyXG4gICAgICAgICAgY2FtZXJhczogZGVwZW5kZW5jaWVzWzJdLFxyXG4gICAgICAgICAgYXNzZXQ6IGpzb24uYXNzZXQsXHJcbiAgICAgICAgICBwYXJzZXI6IHBhcnNlcixcclxuICAgICAgICAgIHVzZXJEYXRhOiB7fSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgcmVzdWx0LCBqc29uKTtcclxuXHJcbiAgICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShyZXN1bHQsIGpzb24pO1xyXG5cclxuICAgICAgICBvbkxvYWQocmVzdWx0KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKG9uRXJyb3IpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIE1hcmtzIHRoZSBzcGVjaWFsIG5vZGVzL21lc2hlcyBpbiBqc29uIGZvciBlZmZpY2llbnQgcGFyc2UuXHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubWFya0RlZnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbm9kZURlZnMgPSB0aGlzLmpzb24ubm9kZXMgfHwgW107XHJcbiAgICB2YXIgc2tpbkRlZnMgPSB0aGlzLmpzb24uc2tpbnMgfHwgW107XHJcbiAgICB2YXIgbWVzaERlZnMgPSB0aGlzLmpzb24ubWVzaGVzIHx8IFtdO1xyXG5cclxuICAgIHZhciBtZXNoUmVmZXJlbmNlcyA9IHt9O1xyXG4gICAgdmFyIG1lc2hVc2VzID0ge307XHJcblxyXG4gICAgLy8gTm90aGluZyBpbiB0aGUgbm9kZSBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzIGEgQm9uZSBvciBhblxyXG4gICAgLy8gT2JqZWN0M0QuIFVzZSB0aGUgc2tpbnMnIGpvaW50IHJlZmVyZW5jZXMgdG8gbWFyayBib25lcy5cclxuICAgIGZvciAodmFyIHNraW5JbmRleCA9IDAsIHNraW5MZW5ndGggPSBza2luRGVmcy5sZW5ndGg7IHNraW5JbmRleCA8IHNraW5MZW5ndGg7IHNraW5JbmRleCsrKSB7XHJcbiAgICAgIHZhciBqb2ludHMgPSBza2luRGVmc1tza2luSW5kZXhdLmpvaW50cztcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGpvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgICAgbm9kZURlZnNbam9pbnRzW2ldXS5pc0JvbmUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWVzaGVzIGNhbiAoYW5kIHNob3VsZCkgYmUgcmV1c2VkIGJ5IG11bHRpcGxlIG5vZGVzIGluIGEgZ2xURiBhc3NldC4gVG9cclxuICAgIC8vIGF2b2lkIGhhdmluZyBtb3JlIHRoYW4gb25lIE1lc2ggd2l0aCB0aGUgc2FtZSBuYW1lLCBjb3VudFxyXG4gICAgLy8gcmVmZXJlbmNlcyBhbmQgcmVuYW1lIGluc3RhbmNlcyBiZWxvdy5cclxuICAgIC8vXHJcbiAgICAvLyBFeGFtcGxlOiBDZXNpdW1NaWxrVHJ1Y2sgc2FtcGxlIG1vZGVsIHJldXNlcyBcIldoZWVsXCIgbWVzaGVzLlxyXG4gICAgZm9yICh2YXIgbm9kZUluZGV4ID0gMCwgbm9kZUxlbmd0aCA9IG5vZGVEZWZzLmxlbmd0aDsgbm9kZUluZGV4IDwgbm9kZUxlbmd0aDsgbm9kZUluZGV4KyspIHtcclxuICAgICAgdmFyIG5vZGVEZWYgPSBub2RlRGVmc1tub2RlSW5kZXhdO1xyXG5cclxuICAgICAgaWYgKG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKG1lc2hSZWZlcmVuY2VzW25vZGVEZWYubWVzaF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgbWVzaFJlZmVyZW5jZXNbbm9kZURlZi5tZXNoXSA9IG1lc2hVc2VzW25vZGVEZWYubWVzaF0gPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWVzaFJlZmVyZW5jZXNbbm9kZURlZi5tZXNoXSsrO1xyXG5cclxuICAgICAgICAvLyBOb3RoaW5nIGluIHRoZSBtZXNoIGRlZmluaXRpb24gaW5kaWNhdGVzIHdoZXRoZXIgaXQgaXNcclxuICAgICAgICAvLyBhIFNraW5uZWRNZXNoIG9yIE1lc2guIFVzZSB0aGUgbm9kZSdzIG1lc2ggcmVmZXJlbmNlXHJcbiAgICAgICAgLy8gdG8gbWFyayBTa2lubmVkTWVzaCBpZiBub2RlIGhhcyBza2luLlxyXG4gICAgICAgIGlmIChub2RlRGVmLnNraW4gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgbWVzaERlZnNbbm9kZURlZi5tZXNoXS5pc1NraW5uZWRNZXNoID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmpzb24ubWVzaFJlZmVyZW5jZXMgPSBtZXNoUmVmZXJlbmNlcztcclxuICAgIHRoaXMuanNvbi5tZXNoVXNlcyA9IG1lc2hVc2VzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlcXVlc3RzIHRoZSBzcGVjaWZpZWQgZGVwZW5kZW5jeSBhc3luY2hyb25vdXNseSwgd2l0aCBjYWNoaW5nLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QzRHxNYXRlcmlhbHxUSFJFRS5UZXh0dXJlfEFuaW1hdGlvbkNsaXB8QXJyYXlCdWZmZXJ8T2JqZWN0Pn1cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5nZXREZXBlbmRlbmN5ID0gZnVuY3Rpb24gKHR5cGUsIGluZGV4KSB7XHJcbiAgICB2YXIgY2FjaGVLZXkgPSB0eXBlICsgJzonICsgaW5kZXg7XHJcbiAgICB2YXIgZGVwZW5kZW5jeSA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcclxuXHJcbiAgICBpZiAoIWRlcGVuZGVuY3kpIHtcclxuICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgY2FzZSAnc2NlbmUnOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNjZW5lKGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdub2RlJzpcclxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWROb2RlKGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdtZXNoJzpcclxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRNZXNoKGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdhY2Nlc3Nvcic6XHJcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQWNjZXNzb3IoaW5kZXgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ2J1ZmZlclZpZXcnOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEJ1ZmZlclZpZXcoaW5kZXgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ2J1ZmZlcic6XHJcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQnVmZmVyKGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdtYXRlcmlhbCc6XHJcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkTWF0ZXJpYWwoaW5kZXgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ3RleHR1cmUnOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZFRleHR1cmUoaW5kZXgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ3NraW4nOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNraW4oaW5kZXgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ2FuaW1hdGlvbic6XHJcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQW5pbWF0aW9uKGluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdjYW1lcmEnOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZENhbWVyYShpbmRleCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAnbGlnaHQnOlxyXG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUxdLmxvYWRMaWdodChpbmRleCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB0eXBlOiAnICsgdHlwZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBkZXBlbmRlbmN5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGVwZW5kZW5jeTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZXF1ZXN0cyBhbGwgZGVwZW5kZW5jaWVzIG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBhc3luY2hyb25vdXNseSwgd2l0aCBjYWNoaW5nLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxPYmplY3Q+Pn1cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5nZXREZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IHRoaXMuY2FjaGUuZ2V0KHR5cGUpO1xyXG5cclxuICAgIGlmICghZGVwZW5kZW5jaWVzKSB7XHJcbiAgICAgIHZhciBwYXJzZXIgPSB0aGlzO1xyXG4gICAgICB2YXIgZGVmcyA9IHRoaXMuanNvblt0eXBlICsgKHR5cGUgPT09ICdtZXNoJyA/ICdlcycgOiAncycpXSB8fCBbXTtcclxuXHJcbiAgICAgIGRlcGVuZGVuY2llcyA9IFByb21pc2UuYWxsKFxyXG4gICAgICAgIGRlZnMubWFwKGZ1bmN0aW9uIChkZWYsIGluZGV4KSB7XHJcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmdldERlcGVuZGVuY3kodHlwZSwgaW5kZXgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB0aGlzLmNhY2hlLmFkZCh0eXBlLCBkZXBlbmRlbmNpZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkZXBlbmRlbmNpZXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNidWZmZXJzLWFuZC1idWZmZXItdmlld3NcclxuICAgKiBAcGFyYW0ge251bWJlcn0gYnVmZmVySW5kZXhcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn1cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlckluZGV4KSB7XHJcbiAgICB2YXIgYnVmZmVyRGVmID0gdGhpcy5qc29uLmJ1ZmZlcnNbYnVmZmVySW5kZXhdO1xyXG4gICAgdmFyIGxvYWRlciA9IHRoaXMuZmlsZUxvYWRlcjtcclxuXHJcbiAgICBpZiAoYnVmZmVyRGVmLnR5cGUgJiYgYnVmZmVyRGVmLnR5cGUgIT09ICdhcnJheWJ1ZmZlcicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiAnICsgYnVmZmVyRGVmLnR5cGUgKyAnIGJ1ZmZlciB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgcHJlc2VudCwgR0xCIGNvbnRhaW5lciBpcyByZXF1aXJlZCB0byBiZSB0aGUgZmlyc3QgYnVmZmVyLlxyXG4gICAgaWYgKGJ1ZmZlckRlZi51cmkgPT09IHVuZGVmaW5lZCAmJiBidWZmZXJJbmRleCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURl0uYm9keSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgbG9hZGVyLmxvYWQocmVzb2x2ZVVSTChidWZmZXJEZWYudXJpLCBvcHRpb25zLnBhdGgpLCByZXNvbHZlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBGYWlsZWQgdG8gbG9hZCBidWZmZXIgXCInICsgYnVmZmVyRGVmLnVyaSArICdcIi4nKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNidWZmZXJzLWFuZC1idWZmZXItdmlld3NcclxuICAgKiBAcGFyYW0ge251bWJlcn0gYnVmZmVyVmlld0luZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEJ1ZmZlclZpZXcgPSBmdW5jdGlvbiAoYnVmZmVyVmlld0luZGV4KSB7XHJcbiAgICB2YXIgYnVmZmVyVmlld0RlZiA9IHRoaXMuanNvbi5idWZmZXJWaWV3c1tidWZmZXJWaWV3SW5kZXhdO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmdldERlcGVuZGVuY3koJ2J1ZmZlcicsIGJ1ZmZlclZpZXdEZWYuYnVmZmVyKS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHtcclxuICAgICAgdmFyIGJ5dGVMZW5ndGggPSBidWZmZXJWaWV3RGVmLmJ5dGVMZW5ndGggfHwgMDtcclxuICAgICAgdmFyIGJ5dGVPZmZzZXQgPSBidWZmZXJWaWV3RGVmLmJ5dGVPZmZzZXQgfHwgMDtcclxuICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2FjY2Vzc29yc1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhY2Nlc3NvckluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxCdWZmZXJBdHRyaWJ1dGV8SW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+fVxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRBY2Nlc3NvciA9IGZ1bmN0aW9uIChhY2Nlc3NvckluZGV4KSB7XHJcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcclxuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xyXG5cclxuICAgIHZhciBhY2Nlc3NvckRlZiA9IHRoaXMuanNvbi5hY2Nlc3NvcnNbYWNjZXNzb3JJbmRleF07XHJcblxyXG4gICAgaWYgKGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgPT09IHVuZGVmaW5lZCAmJiBhY2Nlc3NvckRlZi5zcGFyc2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAvLyBJZ25vcmUgZW1wdHkgYWNjZXNzb3JzLCB3aGljaCBtYXkgYmUgdXNlZCB0byBkZWNsYXJlIHJ1bnRpbWVcclxuICAgICAgLy8gaW5mb3JtYXRpb24gYWJvdXQgYXR0cmlidXRlcyBjb21pbmcgZnJvbSBhbm90aGVyIHNvdXJjZSAoZS5nLiBEcmFjb1xyXG4gICAgICAvLyBjb21wcmVzc2lvbiBleHRlbnNpb24pLlxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBwZW5kaW5nQnVmZmVyVmlld3MgPSBbXTtcclxuXHJcbiAgICBpZiAoYWNjZXNzb3JEZWYuYnVmZmVyVmlldyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeSgnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY2Nlc3NvckRlZi5zcGFyc2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChcclxuICAgICAgICB0aGlzLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5idWZmZXJWaWV3KVxyXG4gICAgICApO1xyXG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChcclxuICAgICAgICB0aGlzLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5zcGFyc2UudmFsdWVzLmJ1ZmZlclZpZXcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmdCdWZmZXJWaWV3cykudGhlbihmdW5jdGlvbiAoYnVmZmVyVmlld3MpIHtcclxuICAgICAgdmFyIGJ1ZmZlclZpZXcgPSBidWZmZXJWaWV3c1swXTtcclxuXHJcbiAgICAgIHZhciBpdGVtU2l6ZSA9IFdFQkdMX1RZUEVfU0laRVNbYWNjZXNzb3JEZWYudHlwZV07XHJcbiAgICAgIHZhciBUeXBlZEFycmF5ID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGVdO1xyXG5cclxuICAgICAgLy8gRm9yIFZFQzM6IGl0ZW1TaXplIGlzIDMsIGVsZW1lbnRCeXRlcyBpcyA0LCBpdGVtQnl0ZXMgaXMgMTIuXHJcbiAgICAgIHZhciBlbGVtZW50Qnl0ZXMgPSBUeXBlZEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UO1xyXG4gICAgICB2YXIgaXRlbUJ5dGVzID0gZWxlbWVudEJ5dGVzICogaXRlbVNpemU7XHJcbiAgICAgIHZhciBieXRlT2Zmc2V0ID0gYWNjZXNzb3JEZWYuYnl0ZU9mZnNldCB8fCAwO1xyXG4gICAgICB2YXIgYnl0ZVN0cmlkZSA9XHJcbiAgICAgICAgICAgIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgID8ganNvbi5idWZmZXJWaWV3c1thY2Nlc3NvckRlZi5idWZmZXJWaWV3XS5ieXRlU3RyaWRlXHJcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgIHZhciBub3JtYWxpemVkID0gYWNjZXNzb3JEZWYubm9ybWFsaXplZCA9PT0gdHJ1ZTtcclxuICAgICAgdmFyIGFycmF5LCBidWZmZXJBdHRyaWJ1dGU7XHJcblxyXG4gICAgICAvLyBUaGUgYnVmZmVyIGlzIG5vdCBpbnRlcmxlYXZlZCBpZiB0aGUgc3RyaWRlIGlzIHRoZSBpdGVtIHNpemUgaW4gYnl0ZXMuXHJcbiAgICAgIGlmIChieXRlU3RyaWRlICYmIGJ5dGVTdHJpZGUgIT09IGl0ZW1CeXRlcykge1xyXG4gICAgICAgIC8vIEVhY2ggXCJzbGljZVwiIG9mIHRoZSBidWZmZXIsIGFzIGRlZmluZWQgYnkgJ2NvdW50JyBlbGVtZW50cyBvZiAnYnl0ZVN0cmlkZScgYnl0ZXMsIGdldHMgaXRzIG93biBJbnRlcmxlYXZlZEJ1ZmZlclxyXG4gICAgICAgIC8vIFRoaXMgbWFrZXMgc3VyZSB0aGF0IElCQS5jb3VudCByZWZsZWN0cyBhY2Nlc3Nvci5jb3VudCBwcm9wZXJseVxyXG4gICAgICAgIHZhciBpYlNsaWNlID0gTWF0aC5mbG9vcihieXRlT2Zmc2V0IC8gYnl0ZVN0cmlkZSk7XHJcbiAgICAgICAgdmFyIGliQ2FjaGVLZXkgPVxyXG4gICAgICAgICAgICAgICdJbnRlcmxlYXZlZEJ1ZmZlcjonICtcclxuICAgICAgICAgICAgICBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICtcclxuICAgICAgICAgICAgICAnOicgK1xyXG4gICAgICAgICAgICAgIGFjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGUgK1xyXG4gICAgICAgICAgICAgICc6JyArXHJcbiAgICAgICAgICAgICAgaWJTbGljZSArXHJcbiAgICAgICAgICAgICAgJzonICtcclxuICAgICAgICAgICAgICBhY2Nlc3NvckRlZi5jb3VudDtcclxuICAgICAgICB2YXIgaWIgPSBwYXJzZXIuY2FjaGUuZ2V0KGliQ2FjaGVLZXkpO1xyXG5cclxuICAgICAgICBpZiAoIWliKSB7XHJcbiAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlZEFycmF5KFxyXG4gICAgICAgICAgICBidWZmZXJWaWV3LFxyXG4gICAgICAgICAgICBpYlNsaWNlICogYnl0ZVN0cmlkZSxcclxuICAgICAgICAgICAgKGFjY2Vzc29yRGVmLmNvdW50ICogYnl0ZVN0cmlkZSkgLyBlbGVtZW50Qnl0ZXNcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgLy8gSW50ZWdlciBwYXJhbWV0ZXJzIHRvIElCL0lCQSBhcmUgaW4gYXJyYXkgZWxlbWVudHMsIG5vdCBieXRlcy5cclxuICAgICAgICAgIGliID0gbmV3IEludGVybGVhdmVkQnVmZmVyKGFycmF5LCBieXRlU3RyaWRlIC8gZWxlbWVudEJ5dGVzKTtcclxuXHJcbiAgICAgICAgICBwYXJzZXIuY2FjaGUuYWRkKGliQ2FjaGVLZXksIGliKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcclxuICAgICAgICAgIGliLFxyXG4gICAgICAgICAgaXRlbVNpemUsXHJcbiAgICAgICAgICAoYnl0ZU9mZnNldCAlIGJ5dGVTdHJpZGUpIC8gZWxlbWVudEJ5dGVzLFxyXG4gICAgICAgICAgbm9ybWFsaXplZFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGJ1ZmZlclZpZXcgPT09IG51bGwpIHtcclxuICAgICAgICAgIGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoYnVmZmVyVmlldywgYnl0ZU9mZnNldCwgYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjc3BhcnNlLWFjY2Vzc29yc1xyXG4gICAgICBpZiAoYWNjZXNzb3JEZWYuc3BhcnNlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YXIgaXRlbVNpemVJbmRpY2VzID0gV0VCR0xfVFlQRV9TSVpFUy5TQ0FMQVI7XHJcbiAgICAgICAgdmFyIFR5cGVkQXJyYXlJbmRpY2VzID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmNvbXBvbmVudFR5cGVdO1xyXG5cclxuICAgICAgICB2YXIgYnl0ZU9mZnNldEluZGljZXMgPSBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5ieXRlT2Zmc2V0IHx8IDA7XHJcbiAgICAgICAgdmFyIGJ5dGVPZmZzZXRWYWx1ZXMgPSBhY2Nlc3NvckRlZi5zcGFyc2UudmFsdWVzLmJ5dGVPZmZzZXQgfHwgMDtcclxuXHJcbiAgICAgICAgdmFyIHNwYXJzZUluZGljZXMgPSBuZXcgVHlwZWRBcnJheUluZGljZXMoXHJcbiAgICAgICAgICBidWZmZXJWaWV3c1sxXSxcclxuICAgICAgICAgIGJ5dGVPZmZzZXRJbmRpY2VzLFxyXG4gICAgICAgICAgYWNjZXNzb3JEZWYuc3BhcnNlLmNvdW50ICogaXRlbVNpemVJbmRpY2VzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB2YXIgc3BhcnNlVmFsdWVzID0gbmV3IFR5cGVkQXJyYXkoXHJcbiAgICAgICAgICBidWZmZXJWaWV3c1syXSxcclxuICAgICAgICAgIGJ5dGVPZmZzZXRWYWx1ZXMsXHJcbiAgICAgICAgICBhY2Nlc3NvckRlZi5zcGFyc2UuY291bnQgKiBpdGVtU2l6ZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChidWZmZXJWaWV3ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAvLyBBdm9pZCBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsIEFycmF5QnVmZmVyLCBpZiB0aGUgYnVmZmVyVmlldyB3YXNuJ3QgaW5pdGlhbGl6ZWQgd2l0aCB6ZXJvZXMuXHJcbiAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxyXG4gICAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUuYXJyYXkuc2xpY2UoKSxcclxuICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLml0ZW1TaXplLFxyXG4gICAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUubm9ybWFsaXplZFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHNwYXJzZUluZGljZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgICAgdmFyIGluZGV4ID0gc3BhcnNlSW5kaWNlc1tpXTtcclxuXHJcbiAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUuc2V0WChpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZV0pO1xyXG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDIpIGJ1ZmZlckF0dHJpYnV0ZS5zZXRZKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplICsgMV0pO1xyXG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDMpIGJ1ZmZlckF0dHJpYnV0ZS5zZXRaKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplICsgMl0pO1xyXG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDQpIGJ1ZmZlckF0dHJpYnV0ZS5zZXRXKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplICsgM10pO1xyXG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDUpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgaXRlbVNpemUgaW4gc3BhcnNlIEJ1ZmZlckF0dHJpYnV0ZS4nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBidWZmZXJBdHRyaWJ1dGU7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjdGV4dHVyZXNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdGV4dHVyZUluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5UZXh0dXJlPn1cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlSW5kZXgpIHtcclxuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xyXG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XHJcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuICAgIHZhciB0ZXh0dXJlTG9hZGVyID0gdGhpcy50ZXh0dXJlTG9hZGVyO1xyXG5cclxuICAgIHZhciBVUkwgPSBzZWxmLlVSTCB8fCBzZWxmLndlYmtpdFVSTDtcclxuXHJcbiAgICB2YXIgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbdGV4dHVyZUluZGV4XTtcclxuXHJcbiAgICB2YXIgdGV4dHVyZUV4dGVuc2lvbnMgPSB0ZXh0dXJlRGVmLmV4dGVuc2lvbnMgfHwge307XHJcblxyXG4gICAgdmFyIHNvdXJjZTtcclxuXHJcbiAgICBpZiAodGV4dHVyZUV4dGVuc2lvbnNbRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTXSkge1xyXG4gICAgICBzb3VyY2UgPSBqc29uLmltYWdlc1t0ZXh0dXJlRXh0ZW5zaW9uc1tFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFNdLnNvdXJjZV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzb3VyY2UgPSBqc29uLmltYWdlc1t0ZXh0dXJlRGVmLnNvdXJjZV07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNvdXJjZVVSSSA9IHNvdXJjZS51cmk7XHJcbiAgICB2YXIgaXNPYmplY3RVUkwgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoc291cmNlLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAvLyBMb2FkIGJpbmFyeSBpbWFnZSBkYXRhIGZyb20gYnVmZmVyVmlldywgaWYgcHJvdmlkZWQuXHJcblxyXG4gICAgICBzb3VyY2VVUkkgPSBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYnVmZmVyVmlldycsIHNvdXJjZS5idWZmZXJWaWV3KS50aGVuKGZ1bmN0aW9uIChidWZmZXJWaWV3KSB7XHJcbiAgICAgICAgaXNPYmplY3RVUkwgPSB0cnVlO1xyXG4gICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2J1ZmZlclZpZXddLCB7IHR5cGU6IHNvdXJjZS5taW1lVHlwZSB9KTtcclxuICAgICAgICBzb3VyY2VVUkkgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgICAgIHJldHVybiBzb3VyY2VVUkk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc291cmNlVVJJKVxyXG4gICAgICAudGhlbihmdW5jdGlvbiAoc291cmNlVVJJKSB7XHJcbiAgICAgICAgLy8gTG9hZCBUZXh0dXJlIHJlc291cmNlLlxyXG5cclxuICAgICAgICB2YXIgbG9hZGVyID0gb3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoc291cmNlVVJJKTtcclxuXHJcbiAgICAgICAgaWYgKCFsb2FkZXIpIHtcclxuICAgICAgICAgIGxvYWRlciA9IHRleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU11cclxuICAgICAgICAgICAgPyBwYXJzZXIuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFNdLmRkc0xvYWRlclxyXG4gICAgICAgICAgICA6IHRleHR1cmVMb2FkZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgbG9hZGVyLmxvYWQocmVzb2x2ZVVSTChzb3VyY2VVUkksIG9wdGlvbnMucGF0aCksIHJlc29sdmUsIHVuZGVmaW5lZCwgcmVqZWN0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHRleHR1cmUpIHtcclxuICAgICAgICAvLyBDbGVhbiB1cCByZXNvdXJjZXMgYW5kIGNvbmZpZ3VyZSBUZXh0dXJlLlxyXG5cclxuICAgICAgICBpZiAoaXNPYmplY3RVUkwgPT09IHRydWUpIHtcclxuICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoc291cmNlVVJJKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRleHR1cmUuZmxpcFkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHRleHR1cmVEZWYubmFtZSkgdGV4dHVyZS5uYW1lID0gdGV4dHVyZURlZi5uYW1lO1xyXG5cclxuICAgICAgICAvLyBJZ25vcmUgdW5rbm93biBtaW1lIHR5cGVzLCBsaWtlIEREUyBmaWxlcy5cclxuICAgICAgICBpZiAoc291cmNlLm1pbWVUeXBlIGluIE1JTUVfVFlQRV9GT1JNQVRTKSB7XHJcbiAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCA9IE1JTUVfVFlQRV9GT1JNQVRTW3NvdXJjZS5taW1lVHlwZV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc2FtcGxlcnMgPSBqc29uLnNhbXBsZXJzIHx8IHt9O1xyXG4gICAgICAgIHZhciBzYW1wbGVyID0gc2FtcGxlcnNbdGV4dHVyZURlZi5zYW1wbGVyXSB8fCB7fTtcclxuXHJcbiAgICAgICAgdGV4dHVyZS5tYWdGaWx0ZXIgPSBXRUJHTF9GSUxURVJTW3NhbXBsZXIubWFnRmlsdGVyXSB8fCBMaW5lYXJGaWx0ZXI7XHJcbiAgICAgICAgdGV4dHVyZS5taW5GaWx0ZXIgPSBXRUJHTF9GSUxURVJTW3NhbXBsZXIubWluRmlsdGVyXSB8fCBMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXI7XHJcbiAgICAgICAgdGV4dHVyZS53cmFwUyA9IFdFQkdMX1dSQVBQSU5HU1tzYW1wbGVyLndyYXBTXSB8fCBSZXBlYXRXcmFwcGluZztcclxuICAgICAgICB0ZXh0dXJlLndyYXBUID0gV0VCR0xfV1JBUFBJTkdTW3NhbXBsZXIud3JhcFRdIHx8IFJlcGVhdFdyYXBwaW5nO1xyXG5cclxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQXN5bmNocm9ub3VzbHkgYXNzaWducyBhIHRleHR1cmUgdG8gdGhlIGdpdmVuIG1hdGVyaWFsIHBhcmFtZXRlcnMuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGVyaWFsUGFyYW1zXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hcE5hbWVcclxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwRGVmXHJcbiAgICogQHJldHVybiB7UHJvbWlzZX1cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5hc3NpZ25UZXh0dXJlID0gZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zLCBtYXBOYW1lLCBtYXBEZWYpIHtcclxuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmdldERlcGVuZGVuY3koJ3RleHR1cmUnLCBtYXBEZWYuaW5kZXgpLnRoZW4oZnVuY3Rpb24gKHRleHR1cmUpIHtcclxuICAgICAgaWYgKCF0ZXh0dXJlLmlzQ29tcHJlc3NlZFRleHR1cmUpIHtcclxuICAgICAgICBzd2l0Y2ggKG1hcE5hbWUpIHtcclxuICAgICAgICAgIGNhc2UgJ2FvTWFwJzpcclxuICAgICAgICAgIGNhc2UgJ2VtaXNzaXZlTWFwJzpcclxuICAgICAgICAgIGNhc2UgJ21ldGFsbmVzc01hcCc6XHJcbiAgICAgICAgICBjYXNlICdub3JtYWxNYXAnOlxyXG4gICAgICAgICAgY2FzZSAncm91Z2huZXNzTWFwJzpcclxuICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQgPSBSR0JGb3JtYXQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTWF0ZXJpYWxzIHNhbXBsZSBhb01hcCBmcm9tIFVWIHNldCAxIGFuZCBvdGhlciBtYXBzIGZyb20gVVYgc2V0IDAgLSB0aGlzIGNhbid0IGJlIGNvbmZpZ3VyZWRcclxuICAgICAgLy8gSG93ZXZlciwgd2Ugd2lsbCBjb3B5IFVWIHNldCAwIHRvIFVWIHNldCAxIG9uIGRlbWFuZCBmb3IgYW9NYXBcclxuICAgICAgaWYgKFxyXG4gICAgICAgIG1hcERlZi50ZXhDb29yZCAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgbWFwRGVmLnRleENvb3JkICE9IDAgJiZcclxuICAgICAgICAhKG1hcE5hbWUgPT09ICdhb01hcCcgJiYgbWFwRGVmLnRleENvb3JkID09IDEpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBDdXN0b20gVVYgc2V0ICcgK1xyXG4gICAgICAgICAgbWFwRGVmLnRleENvb3JkICtcclxuICAgICAgICAgICcgZm9yIHRleHR1cmUgJyArXHJcbiAgICAgICAgICBtYXBOYW1lICtcclxuICAgICAgICAgICcgbm90IHlldCBzdXBwb3J0ZWQuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwYXJzZXIuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV0pIHtcclxuICAgICAgICB2YXIgdHJhbnNmb3JtID1cclxuICAgICAgICAgICAgICBtYXBEZWYuZXh0ZW5zaW9ucyAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICA/IG1hcERlZi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNXVxyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcclxuICAgICAgICAgIHRleHR1cmUgPSBwYXJzZXIuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV0uZXh0ZW5kVGV4dHVyZShcclxuICAgICAgICAgICAgdGV4dHVyZSxcclxuICAgICAgICAgICAgdHJhbnNmb3JtXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgbWF0ZXJpYWxQYXJhbXNbbWFwTmFtZV0gPSB0ZXh0dXJlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQXNzaWducyBmaW5hbCBtYXRlcmlhbCB0byBhIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS4gVGhlIGluc3RhbmNlXHJcbiAgICogYWxyZWFkeSBoYXMgYSBtYXRlcmlhbCAoZ2VuZXJhdGVkIGZyb20gdGhlIGdsVEYgbWF0ZXJpYWwgb3B0aW9ucyBhbG9uZSlcclxuICAgKiBidXQgcmV1c2Ugb2YgdGhlIHNhbWUgZ2xURiBtYXRlcmlhbCBtYXkgcmVxdWlyZSBtdWx0aXBsZSB0aHJlZWpzIG1hdGVyaWFsc1xyXG4gICAqIHRvIGFjY29tb2RhdGUgZGlmZmVyZW50IHByaW1pdGl2ZSB0eXBlcywgZGVmaW5lcywgZXRjLiBOZXcgbWF0ZXJpYWxzIHdpbGxcclxuICAgKiBiZSBjcmVhdGVkIGlmIG5lY2Vzc2FyeSwgYW5kIHJldXNlZCBmcm9tIGEgY2FjaGUuXHJcbiAgICogQHBhcmFtICB7T2JqZWN0M0R9IG1lc2ggTWVzaCwgTGluZSwgb3IgUG9pbnRzIGluc3RhbmNlLlxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmFzc2lnbkZpbmFsTWF0ZXJpYWwgPSBmdW5jdGlvbiAobWVzaCkge1xyXG4gICAgdmFyIGdlb21ldHJ5ID0gbWVzaC5nZW9tZXRyeTtcclxuICAgIHZhciBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7XHJcblxyXG4gICAgdmFyIHVzZVZlcnRleFRhbmdlbnRzID0gZ2VvbWV0cnkuYXR0cmlidXRlcy50YW5nZW50ICE9PSB1bmRlZmluZWQ7XHJcbiAgICB2YXIgdXNlVmVydGV4Q29sb3JzID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvciAhPT0gdW5kZWZpbmVkO1xyXG4gICAgdmFyIHVzZUZsYXRTaGFkaW5nID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWwgPT09IHVuZGVmaW5lZDtcclxuICAgIHZhciB1c2VTa2lubmluZyA9IG1lc2guaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZTtcclxuICAgIHZhciB1c2VNb3JwaFRhcmdldHMgPSBPYmplY3Qua2V5cyhnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpLmxlbmd0aCA+IDA7XHJcbiAgICB2YXIgdXNlTW9ycGhOb3JtYWxzID0gdXNlTW9ycGhUYXJnZXRzICYmIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWwgIT09IHVuZGVmaW5lZDtcclxuXHJcbiAgICBpZiAobWVzaC5pc1BvaW50cykge1xyXG4gICAgICB2YXIgY2FjaGVLZXkgPSAnUG9pbnRzTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQ7XHJcblxyXG4gICAgICB2YXIgcG9pbnRzTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XHJcblxyXG4gICAgICBpZiAoIXBvaW50c01hdGVyaWFsKSB7XHJcbiAgICAgICAgcG9pbnRzTWF0ZXJpYWwgPSBuZXcgUG9pbnRzTWF0ZXJpYWwoKTtcclxuICAgICAgICBNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHBvaW50c01hdGVyaWFsLCBtYXRlcmlhbCk7XHJcbiAgICAgICAgcG9pbnRzTWF0ZXJpYWwuY29sb3IuY29weShtYXRlcmlhbC5jb2xvcik7XHJcbiAgICAgICAgcG9pbnRzTWF0ZXJpYWwubWFwID0gbWF0ZXJpYWwubWFwO1xyXG4gICAgICAgIHBvaW50c01hdGVyaWFsLnNpemVBdHRlbnVhdGlvbiA9IGZhbHNlOyAvLyBnbFRGIHNwZWMgc2F5cyBwb2ludHMgc2hvdWxkIGJlIDFweFxyXG5cclxuICAgICAgICB0aGlzLmNhY2hlLmFkZChjYWNoZUtleSwgcG9pbnRzTWF0ZXJpYWwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtYXRlcmlhbCA9IHBvaW50c01hdGVyaWFsO1xyXG4gICAgfSBlbHNlIGlmIChtZXNoLmlzTGluZSkge1xyXG4gICAgICB2YXIgY2FjaGVLZXkgPSAnTGluZUJhc2ljTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQ7XHJcblxyXG4gICAgICB2YXIgbGluZU1hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpO1xyXG5cclxuICAgICAgaWYgKCFsaW5lTWF0ZXJpYWwpIHtcclxuICAgICAgICBsaW5lTWF0ZXJpYWwgPSBuZXcgTGluZUJhc2ljTWF0ZXJpYWwoKTtcclxuICAgICAgICBNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKGxpbmVNYXRlcmlhbCwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIGxpbmVNYXRlcmlhbC5jb2xvci5jb3B5KG1hdGVyaWFsLmNvbG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYWNoZS5hZGQoY2FjaGVLZXksIGxpbmVNYXRlcmlhbCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1hdGVyaWFsID0gbGluZU1hdGVyaWFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsb25lIHRoZSBtYXRlcmlhbCBpZiBpdCB3aWxsIGJlIG1vZGlmaWVkXHJcbiAgICBpZiAodXNlVmVydGV4VGFuZ2VudHMgfHwgdXNlVmVydGV4Q29sb3JzIHx8IHVzZUZsYXRTaGFkaW5nIHx8IHVzZVNraW5uaW5nIHx8IHVzZU1vcnBoVGFyZ2V0cykge1xyXG4gICAgICB2YXIgY2FjaGVLZXkgPSAnQ2xvbmVkTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQgKyAnOic7XHJcblxyXG4gICAgICBpZiAobWF0ZXJpYWwuaXNHTFRGU3BlY3VsYXJHbG9zc2luZXNzTWF0ZXJpYWwpIGNhY2hlS2V5ICs9ICdzcGVjdWxhci1nbG9zc2luZXNzOic7XHJcbiAgICAgIGlmICh1c2VTa2lubmluZykgY2FjaGVLZXkgKz0gJ3NraW5uaW5nOic7XHJcbiAgICAgIGlmICh1c2VWZXJ0ZXhUYW5nZW50cykgY2FjaGVLZXkgKz0gJ3ZlcnRleC10YW5nZW50czonO1xyXG4gICAgICBpZiAodXNlVmVydGV4Q29sb3JzKSBjYWNoZUtleSArPSAndmVydGV4LWNvbG9yczonO1xyXG4gICAgICBpZiAodXNlRmxhdFNoYWRpbmcpIGNhY2hlS2V5ICs9ICdmbGF0LXNoYWRpbmc6JztcclxuICAgICAgaWYgKHVzZU1vcnBoVGFyZ2V0cykgY2FjaGVLZXkgKz0gJ21vcnBoLXRhcmdldHM6JztcclxuICAgICAgaWYgKHVzZU1vcnBoTm9ybWFscykgY2FjaGVLZXkgKz0gJ21vcnBoLW5vcm1hbHM6JztcclxuXHJcbiAgICAgIHZhciBjYWNoZWRNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcclxuXHJcbiAgICAgIGlmICghY2FjaGVkTWF0ZXJpYWwpIHtcclxuICAgICAgICBjYWNoZWRNYXRlcmlhbCA9IG1hdGVyaWFsLmNsb25lKCk7XHJcblxyXG4gICAgICAgIGlmICh1c2VTa2lubmluZykgY2FjaGVkTWF0ZXJpYWwuc2tpbm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIGlmICh1c2VWZXJ0ZXhUYW5nZW50cykgY2FjaGVkTWF0ZXJpYWwudmVydGV4VGFuZ2VudHMgPSB0cnVlO1xyXG4gICAgICAgIGlmICh1c2VWZXJ0ZXhDb2xvcnMpIGNhY2hlZE1hdGVyaWFsLnZlcnRleENvbG9ycyA9IHRydWU7XHJcbiAgICAgICAgaWYgKHVzZUZsYXRTaGFkaW5nKSBjYWNoZWRNYXRlcmlhbC5mbGF0U2hhZGluZyA9IHRydWU7XHJcbiAgICAgICAgaWYgKHVzZU1vcnBoVGFyZ2V0cykgY2FjaGVkTWF0ZXJpYWwubW9ycGhUYXJnZXRzID0gdHJ1ZTtcclxuICAgICAgICBpZiAodXNlTW9ycGhOb3JtYWxzKSBjYWNoZWRNYXRlcmlhbC5tb3JwaE5vcm1hbHMgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmNhY2hlLmFkZChjYWNoZUtleSwgY2FjaGVkTWF0ZXJpYWwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtYXRlcmlhbCA9IGNhY2hlZE1hdGVyaWFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHdvcmthcm91bmRzIGZvciBtZXNoIGFuZCBnZW9tZXRyeVxyXG5cclxuICAgIGlmIChcclxuICAgICAgbWF0ZXJpYWwuYW9NYXAgJiZcclxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy51djIgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2ICE9PSB1bmRlZmluZWRcclxuICAgICkge1xyXG4gICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3V2MicsIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzExNDM4I2lzc3VlY29tbWVudC01MDcwMDM5OTVcclxuICAgIGlmIChtYXRlcmlhbC5ub3JtYWxTY2FsZSAmJiAhdXNlVmVydGV4VGFuZ2VudHMpIHtcclxuICAgICAgbWF0ZXJpYWwubm9ybWFsU2NhbGUueSA9IC1tYXRlcmlhbC5ub3JtYWxTY2FsZS55O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZSAmJiAhdXNlVmVydGV4VGFuZ2VudHMpIHtcclxuICAgICAgbWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUueSA9IC1tYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZS55O1xyXG4gICAgfVxyXG5cclxuICAgIG1lc2gubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21hdGVyaWFsc1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXRlcmlhbEluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxNYXRlcmlhbD59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZE1hdGVyaWFsID0gZnVuY3Rpb24gKG1hdGVyaWFsSW5kZXgpIHtcclxuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xyXG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XHJcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcclxuICAgIHZhciBtYXRlcmlhbERlZiA9IGpzb24ubWF0ZXJpYWxzW21hdGVyaWFsSW5kZXhdO1xyXG5cclxuICAgIHZhciBtYXRlcmlhbFR5cGU7XHJcbiAgICB2YXIgbWF0ZXJpYWxQYXJhbXMgPSB7fTtcclxuICAgIHZhciBtYXRlcmlhbEV4dGVuc2lvbnMgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8IHt9O1xyXG5cclxuICAgIHZhciBwZW5kaW5nID0gW107XHJcblxyXG4gICAgaWYgKG1hdGVyaWFsRXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1NdKSB7XHJcbiAgICAgIHZhciBzZ0V4dGVuc2lvbiA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXTtcclxuICAgICAgbWF0ZXJpYWxUeXBlID0gc2dFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7XHJcbiAgICAgIHBlbmRpbmcucHVzaChzZ0V4dGVuc2lvbi5leHRlbmRQYXJhbXMobWF0ZXJpYWxQYXJhbXMsIG1hdGVyaWFsRGVmLCBwYXJzZXIpKTtcclxuICAgIH0gZWxzZSBpZiAobWF0ZXJpYWxFeHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVF0pIHtcclxuICAgICAgdmFyIGttdUV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUXTtcclxuICAgICAgbWF0ZXJpYWxUeXBlID0ga211RXh0ZW5zaW9uLmdldE1hdGVyaWFsVHlwZSgpO1xyXG4gICAgICBwZW5kaW5nLnB1c2goa211RXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcikpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gU3BlY2lmaWNhdGlvbjpcclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI21ldGFsbGljLXJvdWdobmVzcy1tYXRlcmlhbFxyXG5cclxuICAgICAgbWF0ZXJpYWxUeXBlID0gTWVzaFN0YW5kYXJkTWF0ZXJpYWw7XHJcblxyXG4gICAgICB2YXIgbWV0YWxsaWNSb3VnaG5lc3MgPSBtYXRlcmlhbERlZi5wYnJNZXRhbGxpY1JvdWdobmVzcyB8fCB7fTtcclxuXHJcbiAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yID0gbmV3IENvbG9yKDEuMCwgMS4wLCAxLjApO1xyXG4gICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gMS4wO1xyXG5cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yKSkge1xyXG4gICAgICAgIHZhciBhcnJheSA9IG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcjtcclxuXHJcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KGFycmF5KTtcclxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbM107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ21hcCcsIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbWF0ZXJpYWxQYXJhbXMubWV0YWxuZXNzID1cclxuICAgICAgICBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgOiAxLjA7XHJcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnJvdWdobmVzcyA9XHJcbiAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yICE9PSB1bmRlZmluZWQgPyBtZXRhbGxpY1JvdWdobmVzcy5yb3VnaG5lc3NGYWN0b3IgOiAxLjA7XHJcblxyXG4gICAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcclxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXHJcbiAgICAgICAgICAgICdtZXRhbG5lc3NNYXAnLFxyXG4gICAgICAgICAgICBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmVcclxuICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIHBlbmRpbmcucHVzaChcclxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxyXG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcclxuICAgICAgICAgICAgJ3JvdWdobmVzc01hcCcsXHJcbiAgICAgICAgICAgIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobWF0ZXJpYWxEZWYuZG91YmxlU2lkZWQgPT09IHRydWUpIHtcclxuICAgICAgbWF0ZXJpYWxQYXJhbXMuc2lkZSA9IERvdWJsZVNpZGU7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFscGhhTW9kZSA9IG1hdGVyaWFsRGVmLmFscGhhTW9kZSB8fCBBTFBIQV9NT0RFUy5PUEFRVUU7XHJcblxyXG4gICAgaWYgKGFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuQkxFTkQpIHtcclxuICAgICAgbWF0ZXJpYWxQYXJhbXMudHJhbnNwYXJlbnQgPSB0cnVlO1xyXG5cclxuICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xNzcwNlxyXG4gICAgICBtYXRlcmlhbFBhcmFtcy5kZXB0aFdyaXRlID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtYXRlcmlhbFBhcmFtcy50cmFuc3BhcmVudCA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKGFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuTUFTSykge1xyXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmFscGhhVGVzdCA9XHJcbiAgICAgICAgICBtYXRlcmlhbERlZi5hbHBoYUN1dG9mZiAhPT0gdW5kZWZpbmVkID8gbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgOiAwLjU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcclxuICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnbm9ybWFsTWFwJywgbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZSkpO1xyXG5cclxuICAgICAgbWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUgPSBuZXcgVmVjdG9yMigxLCAxKTtcclxuXHJcbiAgICAgIGlmIChtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZS5zZXQoXHJcbiAgICAgICAgICBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlLFxyXG4gICAgICAgICAgbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcclxuICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnYW9NYXAnLCBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlKSk7XHJcblxyXG4gICAgICBpZiAobWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuYW9NYXBJbnRlbnNpdHkgPSBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1hdGVyaWFsRGVmLmVtaXNzaXZlRmFjdG9yICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCkge1xyXG4gICAgICBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZSA9IG5ldyBDb2xvcigpLmZyb21BcnJheShtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1hdGVyaWFsRGVmLmVtaXNzaXZlVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcclxuICAgICAgcGVuZGluZy5wdXNoKFxyXG4gICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnZW1pc3NpdmVNYXAnLCBtYXRlcmlhbERlZi5lbWlzc2l2ZVRleHR1cmUpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1hdGVyaWFsRXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUXSkge1xyXG4gICAgICB2YXIgY2xlYXJjb2F0RXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUXTtcclxuICAgICAgbWF0ZXJpYWxUeXBlID0gY2xlYXJjb2F0RXh0ZW5zaW9uLmdldE1hdGVyaWFsVHlwZSgpO1xyXG4gICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgY2xlYXJjb2F0RXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgeyBleHRlbnNpb25zOiBtYXRlcmlhbEV4dGVuc2lvbnMgfSwgcGFyc2VyKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIG1hdGVyaWFsO1xyXG5cclxuICAgICAgaWYgKG1hdGVyaWFsVHlwZSA9PT0gR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwpIHtcclxuICAgICAgICBtYXRlcmlhbCA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXS5jcmVhdGVNYXRlcmlhbChcclxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtYXRlcmlhbCA9IG5ldyBtYXRlcmlhbFR5cGUobWF0ZXJpYWxQYXJhbXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobWF0ZXJpYWxEZWYubmFtZSkgbWF0ZXJpYWwubmFtZSA9IG1hdGVyaWFsRGVmLm5hbWU7XHJcblxyXG4gICAgICAvLyBiYXNlQ29sb3JUZXh0dXJlLCBlbWlzc2l2ZVRleHR1cmUsIGFuZCBzcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlIHVzZSBzUkdCIGVuY29kaW5nLlxyXG4gICAgICBpZiAobWF0ZXJpYWwubWFwKSBtYXRlcmlhbC5tYXAuZW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XHJcbiAgICAgIGlmIChtYXRlcmlhbC5lbWlzc2l2ZU1hcCkgbWF0ZXJpYWwuZW1pc3NpdmVNYXAuZW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XHJcblxyXG4gICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKG1hdGVyaWFsLCBtYXRlcmlhbERlZik7XHJcblxyXG4gICAgICBpZiAobWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucykgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIG1hdGVyaWFsLCBtYXRlcmlhbERlZik7XHJcblxyXG4gICAgICByZXR1cm4gbWF0ZXJpYWw7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxyXG4gICAqIEBwYXJhbSB7R0xURi5QcmltaXRpdmV9IHByaW1pdGl2ZURlZlxyXG4gICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY29tcHV0ZUJvdW5kcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpIHtcclxuICAgIHZhciBhdHRyaWJ1dGVzID0gcHJpbWl0aXZlRGVmLmF0dHJpYnV0ZXM7XHJcblxyXG4gICAgdmFyIGJveCA9IG5ldyBCb3gzKCk7XHJcblxyXG4gICAgaWYgKGF0dHJpYnV0ZXMuUE9TSVRJT04gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB2YXIgYWNjZXNzb3IgPSBwYXJzZXIuanNvbi5hY2Nlc3NvcnNbYXR0cmlidXRlcy5QT1NJVElPTl07XHJcblxyXG4gICAgICB2YXIgbWluID0gYWNjZXNzb3IubWluO1xyXG4gICAgICB2YXIgbWF4ID0gYWNjZXNzb3IubWF4O1xyXG5cclxuICAgICAgLy8gZ2xURiByZXF1aXJlcyAnbWluJyBhbmQgJ21heCcsIGJ1dCBWUk0gKHdoaWNoIGV4dGVuZHMgZ2xURikgY3VycmVudGx5IGlnbm9yZXMgdGhhdCByZXF1aXJlbWVudC5cclxuXHJcbiAgICAgIGlmIChtaW4gIT09IHVuZGVmaW5lZCAmJiBtYXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGJveC5zZXQobmV3IFZlY3RvcjMobWluWzBdLCBtaW5bMV0sIG1pblsyXSksIG5ldyBWZWN0b3IzKG1heFswXSwgbWF4WzFdLCBtYXhbMl0pKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nKTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRhcmdldHMgPSBwcmltaXRpdmVEZWYudGFyZ2V0cztcclxuXHJcbiAgICBpZiAodGFyZ2V0cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHZhciBtYXhEaXNwbGFjZW1lbnQgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICB2YXIgdmVjdG9yID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xyXG5cclxuICAgICAgICBpZiAodGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlci5qc29uLmFjY2Vzc29yc1t0YXJnZXQuUE9TSVRJT05dO1xyXG4gICAgICAgICAgdmFyIG1pbiA9IGFjY2Vzc29yLm1pbjtcclxuICAgICAgICAgIHZhciBtYXggPSBhY2Nlc3Nvci5tYXg7XHJcblxyXG4gICAgICAgICAgLy8gZ2xURiByZXF1aXJlcyAnbWluJyBhbmQgJ21heCcsIGJ1dCBWUk0gKHdoaWNoIGV4dGVuZHMgZ2xURikgY3VycmVudGx5IGlnbm9yZXMgdGhhdCByZXF1aXJlbWVudC5cclxuXHJcbiAgICAgICAgICBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBnZXQgbWF4IG9mIGFic29sdXRlIGNvbXBvbmVudHMgYmVjYXVzZSB0YXJnZXQgd2VpZ2h0IGlzIFstMSwxXVxyXG4gICAgICAgICAgICB2ZWN0b3Iuc2V0WChNYXRoLm1heChNYXRoLmFicyhtaW5bMF0pLCBNYXRoLmFicyhtYXhbMF0pKSk7XHJcbiAgICAgICAgICAgIHZlY3Rvci5zZXRZKE1hdGgubWF4KE1hdGguYWJzKG1pblsxXSksIE1hdGguYWJzKG1heFsxXSkpKTtcclxuICAgICAgICAgICAgdmVjdG9yLnNldFooTWF0aC5tYXgoTWF0aC5hYnMobWluWzJdKSwgTWF0aC5hYnMobWF4WzJdKSkpO1xyXG5cclxuICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBhc3N1bWVzIHRoYXQgdGhlIHN1bSBvZiBhbGwgd2VpZ2h0cyBpcyBhdCBtb3N0IDEuIFRoaXMgaXNuJ3QgcXVpdGUgY29ycmVjdCAtIGl0J3MgbW9yZSBjb25zZXJ2YXRpdmVcclxuICAgICAgICAgICAgLy8gdG8gYXNzdW1lIHRoYXQgZWFjaCB0YXJnZXQgY2FuIGhhdmUgYSBtYXggd2VpZ2h0IG9mIDEuIEhvd2V2ZXIsIGZvciBzb21lIHVzZSBjYXNlcyAtIG5vdGFibHksIHdoZW4gbW9ycGggdGFyZ2V0c1xyXG4gICAgICAgICAgICAvLyBhcmUgdXNlZCB0byBpbXBsZW1lbnQga2V5LWZyYW1lIGFuaW1hdGlvbnMgYW5kIGFzIHN1Y2ggb25seSB0d28gYXJlIGFjdGl2ZSBhdCBhIHRpbWUgLSB0aGlzIHJlc3VsdHMgaW4gdmVyeSBsYXJnZVxyXG4gICAgICAgICAgICAvLyBib3hlcy4gU28gZm9yIG5vdyB3ZSBtYWtlIGEgYm94IHRoYXQncyBzb21ldGltZXMgYSB0b3VjaCB0b28gc21hbGwgYnV0IGlzIGhvcGVmdWxseSBtb3N0bHkgb2YgcmVhc29uYWJsZSBzaXplLlxyXG4gICAgICAgICAgICBtYXhEaXNwbGFjZW1lbnQubWF4KHZlY3Rvcik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFzIHBlciBjb21tZW50IGFib3ZlIHRoaXMgYm94IGlzbid0IGNvbnNlcnZhdGl2ZSwgYnV0IGhhcyBhIHJlYXNvbmFibGUgc2l6ZSBmb3IgYSB2ZXJ5IGxhcmdlIG51bWJlciBvZiBtb3JwaCB0YXJnZXRzLlxyXG4gICAgICBib3guZXhwYW5kQnlWZWN0b3IobWF4RGlzcGxhY2VtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBnZW9tZXRyeS5ib3VuZGluZ0JveCA9IGJveDtcclxuXHJcbiAgICB2YXIgc3BoZXJlID0gbmV3IFNwaGVyZSgpO1xyXG5cclxuICAgIGJveC5nZXRDZW50ZXIoc3BoZXJlLmNlbnRlcik7XHJcbiAgICBzcGhlcmUucmFkaXVzID0gYm94Lm1pbi5kaXN0YW5jZVRvKGJveC5tYXgpIC8gMjtcclxuXHJcbiAgICBnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSA9IHNwaGVyZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XHJcbiAgICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmXHJcbiAgICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXJcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckdlb21ldHJ5Pn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlcikge1xyXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBwcmltaXRpdmVEZWYuYXR0cmlidXRlcztcclxuXHJcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKGFjY2Vzc29ySW5kZXgsIGF0dHJpYnV0ZU5hbWUpIHtcclxuICAgICAgcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIGFjY2Vzc29ySW5kZXgpLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29yKSB7XHJcbiAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGFjY2Vzc29yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgZ2x0ZkF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xyXG4gICAgICB2YXIgdGhyZWVBdHRyaWJ1dGVOYW1lID0gQVRUUklCVVRFU1tnbHRmQXR0cmlidXRlTmFtZV0gfHwgZ2x0ZkF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgIC8vIFNraXAgYXR0cmlidXRlcyBhbHJlYWR5IHByb3ZpZGVkIGJ5IGUuZy4gRHJhY28gZXh0ZW5zaW9uLlxyXG4gICAgICBpZiAodGhyZWVBdHRyaWJ1dGVOYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgcGVuZGluZy5wdXNoKGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKGF0dHJpYnV0ZXNbZ2x0ZkF0dHJpYnV0ZU5hbWVdLCB0aHJlZUF0dHJpYnV0ZU5hbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJpbWl0aXZlRGVmLmluZGljZXMgIT09IHVuZGVmaW5lZCAmJiAhZ2VvbWV0cnkuaW5kZXgpIHtcclxuICAgICAgdmFyIGFjY2Vzc29yID0gcGFyc2VyXHJcbiAgICAgICAgLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgcHJpbWl0aXZlRGVmLmluZGljZXMpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29yKSB7XHJcbiAgICAgICAgICBnZW9tZXRyeS5zZXRJbmRleChhY2Nlc3Nvcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBwZW5kaW5nLnB1c2goYWNjZXNzb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoZ2VvbWV0cnksIHByaW1pdGl2ZURlZik7XHJcblxyXG4gICAgY29tcHV0ZUJvdW5kcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpO1xyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHByaW1pdGl2ZURlZi50YXJnZXRzICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IGFkZE1vcnBoVGFyZ2V0cyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLnRhcmdldHMsIHBhcnNlcilcclxuICAgICAgICA6IGdlb21ldHJ5O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkcmF3TW9kZVxyXG4gICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHRvVHJpYW5nbGVzRHJhd01vZGUoZ2VvbWV0cnksIGRyYXdNb2RlKSB7XHJcbiAgICB2YXIgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xyXG5cclxuICAgIC8vIGdlbmVyYXRlIGluZGV4IGlmIG5vdCBwcmVzZW50XHJcblxyXG4gICAgaWYgKGluZGV4ID09PSBudWxsKSB7XHJcbiAgICAgIHZhciBpbmRpY2VzID0gW107XHJcblxyXG4gICAgICB2YXIgcG9zaXRpb24gPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zaXRpb24uY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgaW5kaWNlcy5wdXNoKGkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2VvbWV0cnkuc2V0SW5kZXgoaW5kaWNlcyk7XHJcbiAgICAgICAgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAnVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuZGVmaW5lZCBwb3NpdGlvbiBhdHRyaWJ1dGUuIFByb2Nlc3Npbmcgbm90IHBvc3NpYmxlLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBnZW9tZXRyeTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vXHJcblxyXG4gICAgdmFyIG51bWJlck9mVHJpYW5nbGVzID0gaW5kZXguY291bnQgLSAyO1xyXG4gICAgdmFyIG5ld0luZGljZXMgPSBbXTtcclxuXHJcbiAgICBpZiAoZHJhd01vZGUgPT09IFRyaWFuZ2xlRmFuRHJhd01vZGUpIHtcclxuICAgICAgLy8gZ2wuVFJJQU5HTEVfRkFOXHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBudW1iZXJPZlRyaWFuZ2xlczsgaSsrKSB7XHJcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoMCkpO1xyXG4gICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBnbC5UUklBTkdMRV9TVFJJUFxyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZlRyaWFuZ2xlczsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XHJcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XHJcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xyXG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XHJcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5ld0luZGljZXMubGVuZ3RoIC8gMyAhPT0gbnVtYmVyT2ZUcmlhbmdsZXMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAnVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuYWJsZSB0byBnZW5lcmF0ZSBjb3JyZWN0IGFtb3VudCBvZiB0cmlhbmdsZXMuJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGJ1aWxkIGZpbmFsIGdlb21ldHJ5XHJcblxyXG4gICAgdmFyIG5ld0dlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKTtcclxuICAgIG5ld0dlb21ldHJ5LnNldEluZGV4KG5ld0luZGljZXMpO1xyXG5cclxuICAgIHJldHVybiBuZXdHZW9tZXRyeTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjZ2VvbWV0cnlcclxuICAgKlxyXG4gICAqIENyZWF0ZXMgQnVmZmVyR2VvbWV0cmllcyBmcm9tIHByaW1pdGl2ZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FycmF5PEdMVEYuUHJpbWl0aXZlPn0gcHJpbWl0aXZlc1xyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8QnVmZmVyR2VvbWV0cnk+Pn1cclxuICAgKi9cclxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkR2VvbWV0cmllcyA9IGZ1bmN0aW9uIChwcmltaXRpdmVzKSB7XHJcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcclxuICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xyXG4gICAgdmFyIGNhY2hlID0gdGhpcy5wcmltaXRpdmVDYWNoZTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVEcmFjb1ByaW1pdGl2ZShwcmltaXRpdmUpIHtcclxuICAgICAgcmV0dXJuIGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl1cclxuICAgICAgICAuZGVjb2RlUHJpbWl0aXZlKHByaW1pdGl2ZSwgcGFyc2VyKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChnZW9tZXRyeSkge1xyXG4gICAgICAgICAgcmV0dXJuIGFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMoZ2VvbWV0cnksIHByaW1pdGl2ZSwgcGFyc2VyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHByaW1pdGl2ZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICB2YXIgcHJpbWl0aXZlID0gcHJpbWl0aXZlc1tpXTtcclxuICAgICAgdmFyIGNhY2hlS2V5ID0gY3JlYXRlUHJpbWl0aXZlS2V5KHByaW1pdGl2ZSk7XHJcblxyXG4gICAgICAvLyBTZWUgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIHRoaXMgZ2VvbWV0cnlcclxuICAgICAgdmFyIGNhY2hlZCA9IGNhY2hlW2NhY2hlS2V5XTtcclxuXHJcbiAgICAgIGlmIChjYWNoZWQpIHtcclxuICAgICAgICAvLyBVc2UgdGhlIGNhY2hlZCBnZW9tZXRyeSBpZiBpdCBleGlzdHNcclxuICAgICAgICBwZW5kaW5nLnB1c2goY2FjaGVkLnByb21pc2UpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBnZW9tZXRyeVByb21pc2U7XHJcblxyXG4gICAgICAgIGlmIChwcmltaXRpdmUuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmUuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OXSkge1xyXG4gICAgICAgICAgLy8gVXNlIERSQUNPIGdlb21ldHJ5IGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgZ2VvbWV0cnlQcm9taXNlID0gY3JlYXRlRHJhY29QcmltaXRpdmUocHJpbWl0aXZlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBnZW9tZXRyeVxyXG4gICAgICAgICAgZ2VvbWV0cnlQcm9taXNlID0gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhuZXcgQnVmZmVyR2VvbWV0cnkoKSwgcHJpbWl0aXZlLCBwYXJzZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FjaGUgdGhpcyBnZW9tZXRyeVxyXG4gICAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IHsgcHJpbWl0aXZlOiBwcmltaXRpdmUsIHByb21pc2U6IGdlb21ldHJ5UHJvbWlzZSB9O1xyXG5cclxuICAgICAgICBwZW5kaW5nLnB1c2goZ2VvbWV0cnlQcm9taXNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21lc2hlc1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtZXNoSW5kZXhcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwfE1lc2h8U2tpbm5lZE1lc2g+fVxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRNZXNoID0gZnVuY3Rpb24gKG1lc2hJbmRleCkge1xyXG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XHJcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcclxuXHJcbiAgICB2YXIgbWVzaERlZiA9IGpzb24ubWVzaGVzW21lc2hJbmRleF07XHJcbiAgICB2YXIgcHJpbWl0aXZlcyA9IG1lc2hEZWYucHJpbWl0aXZlcztcclxuXHJcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHByaW1pdGl2ZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICB2YXIgbWF0ZXJpYWwgPVxyXG4gICAgICAgICAgICBwcmltaXRpdmVzW2ldLm1hdGVyaWFsID09PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA/IGNyZWF0ZURlZmF1bHRNYXRlcmlhbCh0aGlzLmNhY2hlKVxyXG4gICAgICAgICAgICAgIDogdGhpcy5nZXREZXBlbmRlbmN5KCdtYXRlcmlhbCcsIHByaW1pdGl2ZXNbaV0ubWF0ZXJpYWwpO1xyXG5cclxuICAgICAgcGVuZGluZy5wdXNoKG1hdGVyaWFsKTtcclxuICAgIH1cclxuXHJcbiAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmxvYWRHZW9tZXRyaWVzKHByaW1pdGl2ZXMpKTtcclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xyXG4gICAgICB2YXIgbWF0ZXJpYWxzID0gcmVzdWx0cy5zbGljZSgwLCByZXN1bHRzLmxlbmd0aCAtIDEpO1xyXG4gICAgICB2YXIgZ2VvbWV0cmllcyA9IHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICAgIHZhciBtZXNoZXMgPSBbXTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgIHZhciBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XHJcbiAgICAgICAgdmFyIHByaW1pdGl2ZSA9IHByaW1pdGl2ZXNbaV07XHJcblxyXG4gICAgICAgIC8vIDEuIGNyZWF0ZSBNZXNoXHJcblxyXG4gICAgICAgIHZhciBtZXNoO1xyXG5cclxuICAgICAgICB2YXIgbWF0ZXJpYWwgPSBtYXRlcmlhbHNbaV07XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVTIHx8XHJcbiAgICAgICAgICBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX1NUUklQIHx8XHJcbiAgICAgICAgICBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTiB8fFxyXG4gICAgICAgICAgcHJpbWl0aXZlLm1vZGUgPT09IHVuZGVmaW5lZFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLy8gLmlzU2tpbm5lZE1lc2ggaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLm1hcmtEZWZzKClcclxuICAgICAgICAgIG1lc2ggPVxyXG4gICAgICAgICAgICBtZXNoRGVmLmlzU2tpbm5lZE1lc2ggPT09IHRydWVcclxuICAgICAgICAgICAgICA/IG5ldyBTa2lubmVkTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpXHJcbiAgICAgICAgICAgICAgOiBuZXcgTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG5cclxuICAgICAgICAgIGlmIChtZXNoLmlzU2tpbm5lZE1lc2ggPT09IHRydWUgJiYgIW1lc2guZ2VvbWV0cnkuYXR0cmlidXRlcy5za2luV2VpZ2h0Lm5vcm1hbGl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gd2Ugbm9ybWFsaXplIGZsb2F0aW5nIHBvaW50IHNraW4gd2VpZ2h0IGFycmF5IHRvIGZpeCBtYWxmb3JtZWQgYXNzZXRzIChzZWUgIzE1MzE5KVxyXG4gICAgICAgICAgICAvLyBpdCdzIGltcG9ydGFudCB0byBza2lwIHRoaXMgZm9yIG5vbi1mbG9hdDMyIGRhdGEgc2luY2Ugbm9ybWFsaXplU2tpbldlaWdodHMgYXNzdW1lcyBub24tbm9ybWFsaXplZCBpbnB1dHNcclxuICAgICAgICAgICAgbWVzaC5ub3JtYWxpemVTa2luV2VpZ2h0cygpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX1NUUklQKSB7XHJcbiAgICAgICAgICAgIG1lc2guZ2VvbWV0cnkgPSB0b1RyaWFuZ2xlc0RyYXdNb2RlKG1lc2guZ2VvbWV0cnksIFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfRkFOKSB7XHJcbiAgICAgICAgICAgIG1lc2guZ2VvbWV0cnkgPSB0b1RyaWFuZ2xlc0RyYXdNb2RlKG1lc2guZ2VvbWV0cnksIFRyaWFuZ2xlRmFuRHJhd01vZGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5MSU5FUykge1xyXG4gICAgICAgICAgbWVzaCA9IG5ldyBMaW5lU2VnbWVudHMoZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORV9TVFJJUCkge1xyXG4gICAgICAgICAgbWVzaCA9IG5ldyBMaW5lKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfTE9PUCkge1xyXG4gICAgICAgICAgbWVzaCA9IG5ldyBMaW5lTG9vcChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5QT0lOVFMpIHtcclxuICAgICAgICAgIG1lc2ggPSBuZXcgUG9pbnRzKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogUHJpbWl0aXZlIG1vZGUgdW5zdXBwb3J0ZWQ6ICcgKyBwcmltaXRpdmUubW9kZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMobWVzaC5nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHVwZGF0ZU1vcnBoVGFyZ2V0cyhtZXNoLCBtZXNoRGVmKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lc2gubmFtZSA9IG1lc2hEZWYubmFtZSB8fCAnbWVzaF8nICsgbWVzaEluZGV4O1xyXG5cclxuICAgICAgICBpZiAoZ2VvbWV0cmllcy5sZW5ndGggPiAxKSBtZXNoLm5hbWUgKz0gJ18nICsgaTtcclxuXHJcbiAgICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShtZXNoLCBtZXNoRGVmKTtcclxuXHJcbiAgICAgICAgcGFyc2VyLmFzc2lnbkZpbmFsTWF0ZXJpYWwobWVzaCk7XHJcblxyXG4gICAgICAgIG1lc2hlcy5wdXNoKG1lc2gpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobWVzaGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBtZXNoZXNbMF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBncm91cCA9IG5ldyBHcm91cCgpO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbWVzaGVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICBncm91cC5hZGQobWVzaGVzW2ldKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGdyb3VwO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI2NhbWVyYXNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gY2FtZXJhSW5kZXhcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPFRIUkVFLkNhbWVyYT59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZENhbWVyYSA9IGZ1bmN0aW9uIChjYW1lcmFJbmRleCkge1xyXG4gICAgdmFyIGNhbWVyYTtcclxuICAgIHZhciBjYW1lcmFEZWYgPSB0aGlzLmpzb24uY2FtZXJhc1tjYW1lcmFJbmRleF07XHJcbiAgICB2YXIgcGFyYW1zID0gY2FtZXJhRGVmW2NhbWVyYURlZi50eXBlXTtcclxuXHJcbiAgICBpZiAoIXBhcmFtcykge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgY2FtZXJhIHBhcmFtZXRlcnMuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2FtZXJhRGVmLnR5cGUgPT09ICdwZXJzcGVjdGl2ZScpIHtcclxuICAgICAgY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKFxyXG4gICAgICAgIE1hdGhVdGlscy5yYWRUb0RlZyhwYXJhbXMueWZvdiksXHJcbiAgICAgICAgcGFyYW1zLmFzcGVjdFJhdGlvIHx8IDEsXHJcbiAgICAgICAgcGFyYW1zLnpuZWFyIHx8IDEsXHJcbiAgICAgICAgcGFyYW1zLnpmYXIgfHwgMmU2XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKGNhbWVyYURlZi50eXBlID09PSAnb3J0aG9ncmFwaGljJykge1xyXG4gICAgICBjYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKFxyXG4gICAgICAgIC1wYXJhbXMueG1hZyxcclxuICAgICAgICBwYXJhbXMueG1hZyxcclxuICAgICAgICBwYXJhbXMueW1hZyxcclxuICAgICAgICAtcGFyYW1zLnltYWcsXHJcbiAgICAgICAgcGFyYW1zLnpuZWFyLFxyXG4gICAgICAgIHBhcmFtcy56ZmFyXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNhbWVyYURlZi5uYW1lKSBjYW1lcmEubmFtZSA9IGNhbWVyYURlZi5uYW1lO1xyXG5cclxuICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoY2FtZXJhLCBjYW1lcmFEZWYpO1xyXG5cclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2FtZXJhKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjc2tpbnNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2tpbkluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3Q+fVxyXG4gICAqL1xyXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRTa2luID0gZnVuY3Rpb24gKHNraW5JbmRleCkge1xyXG4gICAgdmFyIHNraW5EZWYgPSB0aGlzLmpzb24uc2tpbnNbc2tpbkluZGV4XTtcclxuXHJcbiAgICB2YXIgc2tpbkVudHJ5ID0geyBqb2ludHM6IHNraW5EZWYuam9pbnRzIH07XHJcblxyXG4gICAgaWYgKHNraW5EZWYuaW52ZXJzZUJpbmRNYXRyaWNlcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc2tpbkVudHJ5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIHNraW5EZWYuaW52ZXJzZUJpbmRNYXRyaWNlcykudGhlbihmdW5jdGlvbiAoYWNjZXNzb3IpIHtcclxuICAgICAgc2tpbkVudHJ5LmludmVyc2VCaW5kTWF0cmljZXMgPSBhY2Nlc3NvcjtcclxuXHJcbiAgICAgIHJldHVybiBza2luRW50cnk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjYW5pbWF0aW9uc1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbmltYXRpb25JbmRleFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QW5pbWF0aW9uQ2xpcD59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEFuaW1hdGlvbiA9IGZ1bmN0aW9uIChhbmltYXRpb25JbmRleCkge1xyXG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XHJcblxyXG4gICAgdmFyIGFuaW1hdGlvbkRlZiA9IGpzb24uYW5pbWF0aW9uc1thbmltYXRpb25JbmRleF07XHJcblxyXG4gICAgdmFyIHBlbmRpbmdOb2RlcyA9IFtdO1xyXG4gICAgdmFyIHBlbmRpbmdJbnB1dEFjY2Vzc29ycyA9IFtdO1xyXG4gICAgdmFyIHBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMgPSBbXTtcclxuICAgIHZhciBwZW5kaW5nU2FtcGxlcnMgPSBbXTtcclxuICAgIHZhciBwZW5kaW5nVGFyZ2V0cyA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVscy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgIHZhciBjaGFubmVsID0gYW5pbWF0aW9uRGVmLmNoYW5uZWxzW2ldO1xyXG4gICAgICB2YXIgc2FtcGxlciA9IGFuaW1hdGlvbkRlZi5zYW1wbGVyc1tjaGFubmVsLnNhbXBsZXJdO1xyXG4gICAgICB2YXIgdGFyZ2V0ID0gY2hhbm5lbC50YXJnZXQ7XHJcbiAgICAgIHZhciBuYW1lID0gdGFyZ2V0Lm5vZGUgIT09IHVuZGVmaW5lZCA/IHRhcmdldC5ub2RlIDogdGFyZ2V0LmlkOyAvLyBOT1RFOiB0YXJnZXQuaWQgaXMgZGVwcmVjYXRlZC5cclxuICAgICAgdmFyIGlucHV0ID1cclxuICAgICAgICAgICAgYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgID8gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnNbc2FtcGxlci5pbnB1dF1cclxuICAgICAgICAgICAgICA6IHNhbXBsZXIuaW5wdXQ7XHJcbiAgICAgIHZhciBvdXRwdXQgPVxyXG4gICAgICAgICAgICBhbmltYXRpb25EZWYucGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgPyBhbmltYXRpb25EZWYucGFyYW1ldGVyc1tzYW1wbGVyLm91dHB1dF1cclxuICAgICAgICAgICAgICA6IHNhbXBsZXIub3V0cHV0O1xyXG5cclxuICAgICAgcGVuZGluZ05vZGVzLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KCdub2RlJywgbmFtZSkpO1xyXG4gICAgICBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgaW5wdXQpKTtcclxuICAgICAgcGVuZGluZ091dHB1dEFjY2Vzc29ycy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBvdXRwdXQpKTtcclxuICAgICAgcGVuZGluZ1NhbXBsZXJzLnB1c2goc2FtcGxlcik7XHJcbiAgICAgIHBlbmRpbmdUYXJnZXRzLnB1c2godGFyZ2V0KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xyXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nTm9kZXMpLFxyXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nSW5wdXRBY2Nlc3NvcnMpLFxyXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nT3V0cHV0QWNjZXNzb3JzKSxcclxuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ1NhbXBsZXJzKSxcclxuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ1RhcmdldHMpLFxyXG4gICAgXSkudGhlbihmdW5jdGlvbiAoZGVwZW5kZW5jaWVzKSB7XHJcbiAgICAgIHZhciBub2RlcyA9IGRlcGVuZGVuY2llc1swXTtcclxuICAgICAgdmFyIGlucHV0QWNjZXNzb3JzID0gZGVwZW5kZW5jaWVzWzFdO1xyXG4gICAgICB2YXIgb3V0cHV0QWNjZXNzb3JzID0gZGVwZW5kZW5jaWVzWzJdO1xyXG4gICAgICB2YXIgc2FtcGxlcnMgPSBkZXBlbmRlbmNpZXNbM107XHJcbiAgICAgIHZhciB0YXJnZXRzID0gZGVwZW5kZW5jaWVzWzRdO1xyXG5cclxuICAgICAgdmFyIHRyYWNrcyA9IFtdO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgdmFyIGlucHV0QWNjZXNzb3IgPSBpbnB1dEFjY2Vzc29yc1tpXTtcclxuICAgICAgICB2YXIgb3V0cHV0QWNjZXNzb3IgPSBvdXRwdXRBY2Nlc3NvcnNbaV07XHJcbiAgICAgICAgdmFyIHNhbXBsZXIgPSBzYW1wbGVyc1tpXTtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcclxuXHJcbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkgY29udGludWU7XHJcblxyXG4gICAgICAgIG5vZGUudXBkYXRlTWF0cml4KCk7XHJcbiAgICAgICAgbm9kZS5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdmFyIFR5cGVkS2V5ZnJhbWVUcmFjaztcclxuXHJcbiAgICAgICAgc3dpdGNoIChQQVRIX1BST1BFUlRJRVNbdGFyZ2V0LnBhdGhdKSB7XHJcbiAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy53ZWlnaHRzOlxyXG4gICAgICAgICAgICBUeXBlZEtleWZyYW1lVHJhY2sgPSBOdW1iZXJLZXlmcmFtZVRyYWNrO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy5yb3RhdGlvbjpcclxuICAgICAgICAgICAgVHlwZWRLZXlmcmFtZVRyYWNrID0gUXVhdGVybmlvbktleWZyYW1lVHJhY2s7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgUEFUSF9QUk9QRVJUSUVTLnBvc2l0aW9uOlxyXG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMuc2NhbGU6XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBUeXBlZEtleWZyYW1lVHJhY2sgPSBWZWN0b3JLZXlmcmFtZVRyYWNrO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0YXJnZXROYW1lID0gbm9kZS5uYW1lID8gbm9kZS5uYW1lIDogbm9kZS51dWlkO1xyXG5cclxuICAgICAgICB2YXIgaW50ZXJwb2xhdGlvbiA9XHJcbiAgICAgICAgICAgICAgc2FtcGxlci5pbnRlcnBvbGF0aW9uICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgID8gSU5URVJQT0xBVElPTltzYW1wbGVyLmludGVycG9sYXRpb25dXHJcbiAgICAgICAgICAgICAgICA6IEludGVycG9sYXRlTGluZWFyO1xyXG5cclxuICAgICAgICB2YXIgdGFyZ2V0TmFtZXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0gPT09IFBBVEhfUFJPUEVSVElFUy53ZWlnaHRzKSB7XHJcbiAgICAgICAgICAvLyBOb2RlIG1heSBiZSBhIEdyb3VwIChnbFRGIG1lc2ggd2l0aCBzZXZlcmFsIHByaW1pdGl2ZXMpIG9yIGEgTWVzaC5cclxuICAgICAgICAgIG5vZGUudHJhdmVyc2UoZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0LmlzTWVzaCA9PT0gdHJ1ZSAmJiBvYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzKSB7XHJcbiAgICAgICAgICAgICAgdGFyZ2V0TmFtZXMucHVzaChvYmplY3QubmFtZSA/IG9iamVjdC5uYW1lIDogb2JqZWN0LnV1aWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGFyZ2V0TmFtZXMucHVzaCh0YXJnZXROYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBvdXRwdXRBcnJheSA9IG91dHB1dEFjY2Vzc29yLmFycmF5O1xyXG5cclxuICAgICAgICBpZiAob3V0cHV0QWNjZXNzb3Iubm9ybWFsaXplZCkge1xyXG4gICAgICAgICAgdmFyIHNjYWxlO1xyXG5cclxuICAgICAgICAgIGlmIChvdXRwdXRBcnJheS5jb25zdHJ1Y3RvciA9PT0gSW50OEFycmF5KSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDEyNztcclxuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IFVpbnQ4QXJyYXkpIHtcclxuICAgICAgICAgICAgc2NhbGUgPSAxIC8gMjU1O1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChvdXRwdXRBcnJheS5jb25zdHJ1Y3RvciA9PSBJbnQxNkFycmF5KSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDMyNzY3O1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChvdXRwdXRBcnJheS5jb25zdHJ1Y3RvciA9PT0gVWludDE2QXJyYXkpIHtcclxuICAgICAgICAgICAgc2NhbGUgPSAxIC8gNjU1MzU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIG91dHB1dCBhY2Nlc3NvciBjb21wb25lbnQgdHlwZS4nKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgc2NhbGVkID0gbmV3IEZsb2F0MzJBcnJheShvdXRwdXRBcnJheS5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IG91dHB1dEFycmF5Lmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcclxuICAgICAgICAgICAgc2NhbGVkW2pdID0gb3V0cHV0QXJyYXlbal0gKiBzY2FsZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBvdXRwdXRBcnJheSA9IHNjYWxlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcclxuICAgICAgICAgIHZhciB0cmFjayA9IG5ldyBUeXBlZEtleWZyYW1lVHJhY2soXHJcbiAgICAgICAgICAgIHRhcmdldE5hbWVzW2pdICsgJy4nICsgUEFUSF9QUk9QRVJUSUVTW3RhcmdldC5wYXRoXSxcclxuICAgICAgICAgICAgaW5wdXRBY2Nlc3Nvci5hcnJheSxcclxuICAgICAgICAgICAgb3V0cHV0QXJyYXksXHJcbiAgICAgICAgICAgIGludGVycG9sYXRpb25cclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgLy8gT3ZlcnJpZGUgaW50ZXJwb2xhdGlvbiB3aXRoIGN1c3RvbSBmYWN0b3J5IG1ldGhvZC5cclxuICAgICAgICAgIGlmIChzYW1wbGVyLmludGVycG9sYXRpb24gPT09ICdDVUJJQ1NQTElORScpIHtcclxuICAgICAgICAgICAgdHJhY2suY3JlYXRlSW50ZXJwb2xhbnQgPSBmdW5jdGlvbiBJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgLy8gQSBDVUJJQ1NQTElORSBrZXlmcmFtZSBpbiBnbFRGIGhhcyB0aHJlZSBvdXRwdXQgdmFsdWVzIGZvciBlYWNoIGlucHV0IHZhbHVlLFxyXG4gICAgICAgICAgICAgIC8vIHJlcHJlc2VudGluZyBpblRhbmdlbnQsIHNwbGluZVZlcnRleCwgYW5kIG91dFRhbmdlbnQuIEFzIGEgcmVzdWx0LCB0cmFjay5nZXRWYWx1ZVNpemUoKVxyXG4gICAgICAgICAgICAgIC8vIG11c3QgYmUgZGl2aWRlZCBieSB0aHJlZSB0byBnZXQgdGhlIGludGVycG9sYW50J3Mgc2FtcGxlU2l6ZSBhcmd1bWVudC5cclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudChcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZXMsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcyxcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VmFsdWVTaXplKCkgLyAzLFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1hcmsgYXMgQ1VCSUNTUExJTkUuIGB0cmFjay5nZXRJbnRlcnBvbGF0aW9uKClgIGRvZXNuJ3Qgc3VwcG9ydCBjdXN0b20gaW50ZXJwb2xhbnRzLlxyXG4gICAgICAgICAgICB0cmFjay5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdHJhY2tzLnB1c2godHJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIG5hbWUgPSBhbmltYXRpb25EZWYubmFtZSA/IGFuaW1hdGlvbkRlZi5uYW1lIDogJ2FuaW1hdGlvbl8nICsgYW5pbWF0aW9uSW5kZXg7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbkNsaXAobmFtZSwgdW5kZWZpbmVkLCB0cmFja3MpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI25vZGVzLWFuZC1oaWVyYXJjaHlcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbm9kZUluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QzRD59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZE5vZGUgPSBmdW5jdGlvbiAobm9kZUluZGV4KSB7XHJcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcclxuICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xyXG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XHJcblxyXG4gICAgdmFyIG1lc2hSZWZlcmVuY2VzID0ganNvbi5tZXNoUmVmZXJlbmNlcztcclxuICAgIHZhciBtZXNoVXNlcyA9IGpzb24ubWVzaFVzZXM7XHJcblxyXG4gICAgdmFyIG5vZGVEZWYgPSBqc29uLm5vZGVzW25vZGVJbmRleF07XHJcblxyXG4gICAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBwZW5kaW5nID0gW107XHJcblxyXG4gICAgICBpZiAobm9kZURlZi5tZXNoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgICBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnbWVzaCcsIG5vZGVEZWYubWVzaCkudGhlbihmdW5jdGlvbiAobWVzaCkge1xyXG4gICAgICAgICAgICB2YXIgbm9kZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdID4gMSkge1xyXG4gICAgICAgICAgICAgIHZhciBpbnN0YW5jZU51bSA9IG1lc2hVc2VzW25vZGVEZWYubWVzaF0rKztcclxuXHJcbiAgICAgICAgICAgICAgbm9kZSA9IG1lc2guY2xvbmUoKTtcclxuICAgICAgICAgICAgICBub2RlLm5hbWUgKz0gJ19pbnN0YW5jZV8nICsgaW5zdGFuY2VOdW07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbm9kZSA9IG1lc2g7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHdlaWdodHMgYXJlIHByb3ZpZGVkIG9uIHRoZSBub2RlLCBvdmVycmlkZSB3ZWlnaHRzIG9uIHRoZSBtZXNoLlxyXG4gICAgICAgICAgICBpZiAobm9kZURlZi53ZWlnaHRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBub2RlLnRyYXZlcnNlKGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW8uaXNNZXNoKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZURlZi53ZWlnaHRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgby5tb3JwaFRhcmdldEluZmx1ZW5jZXNbaV0gPSBub2RlRGVmLndlaWdodHNbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobm9kZURlZi5jYW1lcmEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnY2FtZXJhJywgbm9kZURlZi5jYW1lcmEpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIG5vZGVEZWYuZXh0ZW5zaW9ucyAmJlxyXG4gICAgICAgIG5vZGVEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUxdICYmXHJcbiAgICAgICAgbm9kZURlZi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0ubGlnaHQgIT09IHVuZGVmaW5lZFxyXG4gICAgICApIHtcclxuICAgICAgICBwZW5kaW5nLnB1c2goXHJcbiAgICAgICAgICBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnbGlnaHQnLCBub2RlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXS5saWdodClcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XHJcbiAgICB9KSgpLnRoZW4oZnVuY3Rpb24gKG9iamVjdHMpIHtcclxuICAgICAgdmFyIG5vZGU7XHJcblxyXG4gICAgICAvLyAuaXNCb25lIGlzbid0IGluIGdsVEYgc3BlYy4gU2VlIC5tYXJrRGVmc1xyXG4gICAgICBpZiAobm9kZURlZi5pc0JvbmUgPT09IHRydWUpIHtcclxuICAgICAgICBub2RlID0gbmV3IEJvbmUoKTtcclxuICAgICAgfSBlbHNlIGlmIChvYmplY3RzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBub2RlID0gbmV3IEdyb3VwKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICBub2RlID0gb2JqZWN0c1swXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBub2RlID0gbmV3IE9iamVjdDNEKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChub2RlICE9PSBvYmplY3RzWzBdKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgICAgICBub2RlLmFkZChvYmplY3RzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChub2RlRGVmLm5hbWUpIHtcclxuICAgICAgICBub2RlLnVzZXJEYXRhLm5hbWUgPSBub2RlRGVmLm5hbWU7XHJcbiAgICAgICAgbm9kZS5uYW1lID0gUHJvcGVydHlCaW5kaW5nLnNhbml0aXplTm9kZU5hbWUobm9kZURlZi5uYW1lKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShub2RlLCBub2RlRGVmKTtcclxuXHJcbiAgICAgIGlmIChub2RlRGVmLmV4dGVuc2lvbnMpIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YShleHRlbnNpb25zLCBub2RlLCBub2RlRGVmKTtcclxuXHJcbiAgICAgIGlmIChub2RlRGVmLm1hdHJpeCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XHJcbiAgICAgICAgbWF0cml4LmZyb21BcnJheShub2RlRGVmLm1hdHJpeCk7XHJcbiAgICAgICAgbm9kZS5hcHBseU1hdHJpeDQobWF0cml4KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobm9kZURlZi50cmFuc2xhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBub2RlLnBvc2l0aW9uLmZyb21BcnJheShub2RlRGVmLnRyYW5zbGF0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChub2RlRGVmLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIG5vZGUucXVhdGVybmlvbi5mcm9tQXJyYXkobm9kZURlZi5yb3RhdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm9kZURlZi5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBub2RlLnNjYWxlLmZyb21BcnJheShub2RlRGVmLnNjYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3NjZW5lc1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY2VuZUluZGV4XHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxHcm91cD59XHJcbiAgICovXHJcbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZFNjZW5lID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIHNjZW5lIG5vZGUgaGllcmFjaHkgYnVpbGRlclxyXG5cclxuICAgIGZ1bmN0aW9uIGJ1aWxkTm9kZUhpZXJhY2h5KG5vZGVJZCwgcGFyZW50T2JqZWN0LCBqc29uLCBwYXJzZXIpIHtcclxuICAgICAgdmFyIG5vZGVEZWYgPSBqc29uLm5vZGVzW25vZGVJZF07XHJcblxyXG4gICAgICByZXR1cm4gcGFyc2VyXHJcbiAgICAgICAgLmdldERlcGVuZGVuY3koJ25vZGUnLCBub2RlSWQpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgIGlmIChub2RlRGVmLnNraW4gPT09IHVuZGVmaW5lZCkgcmV0dXJuIG5vZGU7XHJcblxyXG4gICAgICAgICAgLy8gYnVpbGQgc2tlbGV0b24gaGVyZSBhcyB3ZWxsXHJcblxyXG4gICAgICAgICAgdmFyIHNraW5FbnRyeTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gcGFyc2VyXHJcbiAgICAgICAgICAgIC5nZXREZXBlbmRlbmN5KCdza2luJywgbm9kZURlZi5za2luKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoc2tpbikge1xyXG4gICAgICAgICAgICAgIHNraW5FbnRyeSA9IHNraW47XHJcblxyXG4gICAgICAgICAgICAgIHZhciBwZW5kaW5nSm9pbnRzID0gW107XHJcblxyXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHNraW5FbnRyeS5qb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZ0pvaW50cy5wdXNoKHBhcnNlci5nZXREZXBlbmRlbmN5KCdub2RlJywgc2tpbkVudHJ5LmpvaW50c1tpXSkpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmdKb2ludHMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoam9pbnROb2Rlcykge1xyXG4gICAgICAgICAgICAgIG5vZGUudHJhdmVyc2UoZnVuY3Rpb24gKG1lc2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbWVzaC5pc01lc2gpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYm9uZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBib25lSW52ZXJzZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamwgPSBqb2ludE5vZGVzLmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGpvaW50Tm9kZSA9IGpvaW50Tm9kZXNbal07XHJcblxyXG4gICAgICAgICAgICAgICAgICBpZiAoam9pbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9uZXMucHVzaChqb2ludE5vZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0ID0gbmV3IE1hdHJpeDQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNraW5FbnRyeS5pbnZlcnNlQmluZE1hdHJpY2VzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIG1hdC5mcm9tQXJyYXkoc2tpbkVudHJ5LmludmVyc2VCaW5kTWF0cmljZXMuYXJyYXksIGogKiAxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBib25lSW52ZXJzZXMucHVzaChtYXQpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBKb2ludCBcIiVzXCIgY291bGQgbm90IGJlIGZvdW5kLicsXHJcbiAgICAgICAgICAgICAgICAgICAgICBza2luRW50cnkuam9pbnRzW2pdXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG1lc2guYmluZChuZXcgU2tlbGV0b24oYm9uZXMsIGJvbmVJbnZlcnNlcyksIG1lc2gubWF0cml4V29ybGQpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgLy8gYnVpbGQgbm9kZSBoaWVyYWNoeVxyXG5cclxuICAgICAgICAgIHBhcmVudE9iamVjdC5hZGQobm9kZSk7XHJcblxyXG4gICAgICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcclxuXHJcbiAgICAgICAgICBpZiAobm9kZURlZi5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlRGVmLmNoaWxkcmVuO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgIHBlbmRpbmcucHVzaChidWlsZE5vZGVIaWVyYWNoeShjaGlsZCwgbm9kZSwganNvbiwgcGFyc2VyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGxvYWRTY2VuZShzY2VuZUluZGV4KSB7XHJcbiAgICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xyXG4gICAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcclxuICAgICAgdmFyIHNjZW5lRGVmID0gdGhpcy5qc29uLnNjZW5lc1tzY2VuZUluZGV4XTtcclxuICAgICAgdmFyIHBhcnNlciA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBMb2FkZXIgcmV0dXJucyBHcm91cCwgbm90IFNjZW5lLlxyXG4gICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE4MzQyI2lzc3VlY29tbWVudC01Nzg5ODExNzJcclxuICAgICAgdmFyIHNjZW5lID0gbmV3IEdyb3VwKCk7XHJcbiAgICAgIGlmIChzY2VuZURlZi5uYW1lKSBzY2VuZS5uYW1lID0gc2NlbmVEZWYubmFtZTtcclxuXHJcbiAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoc2NlbmUsIHNjZW5lRGVmKTtcclxuXHJcbiAgICAgIGlmIChzY2VuZURlZi5leHRlbnNpb25zKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgc2NlbmUsIHNjZW5lRGVmKTtcclxuXHJcbiAgICAgIHZhciBub2RlSWRzID0gc2NlbmVEZWYubm9kZXMgfHwgW107XHJcblxyXG4gICAgICB2YXIgcGVuZGluZyA9IFtdO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZUlkcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgICAgcGVuZGluZy5wdXNoKGJ1aWxkTm9kZUhpZXJhY2h5KG5vZGVJZHNbaV0sIHNjZW5lLCBqc29uLCBwYXJzZXIpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBzY2VuZTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG4gIHJldHVybiBHTFRGTG9hZGVyO1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IHsgR0xURkxvYWRlciB9O1xyXG4iLCJpbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcclxuXHJcbi8vIE1hbmFnZXMgYWxsIGRhdC5HVUkgaW50ZXJhY3Rpb25zXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdEdVSSB7XHJcbiAgY29uc3RydWN0b3IobWFpbikge1xyXG4gICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xyXG5cclxuICAgIHRoaXMuY2FtZXJhID0gbWFpbi5jYW1lcmEudGhyZWVDYW1lcmE7XHJcbiAgICB0aGlzLmNvbnRyb2xzID0gbWFpbi5jb250cm9scy50aHJlZUNvbnRyb2xzO1xyXG4gICAgdGhpcy5saWdodCA9IG1haW4ubGlnaHQ7XHJcbiAgICB0aGlzLnNjZW5lID0gbWFpbi5zY2VuZTtcclxuXHJcbiAgICB0aGlzLm1vZGVsID0gbnVsbDtcclxuICAgIHRoaXMubWVzaEhlbHBlciA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBsb2FkKG1haW4sIG1lc2gpIHtcclxuICAgIC8qIEdsb2JhbCAqL1xyXG4gICAgLy90aGlzLmd1aS5jbG9zZSgpO1xyXG5cclxuICAgIHRoaXMubW9kZWwgPSBtYWluLm1vZGVsO1xyXG4gICAgdGhpcy5tZXNoSGVscGVyID0gbWFpbi5tZXNoSGVscGVyO1xyXG5cclxuICAgIC8qIENhbWVyYSAqL1xyXG4gICAgY29uc3QgY2FtZXJhRm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnKTtcclxuICAgIGNvbnN0IGNhbWVyYUZPVkd1aSA9IGNhbWVyYUZvbGRlci5hZGQoQ29uZmlnLmNhbWVyYSwgJ2ZvdicsIDAsIDE4MCkubmFtZSgnQ2FtZXJhIEZPVicpO1xyXG4gICAgY2FtZXJhRk9WR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5jYW1lcmEuZm92ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGNhbWVyYUZPVkd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuXHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgY2FtZXJhQXNwZWN0R3VpID0gY2FtZXJhRm9sZGVyLmFkZChDb25maWcuY2FtZXJhLCAnYXNwZWN0JywgMCwgNCkubmFtZSgnQ2FtZXJhIEFzcGVjdCcpO1xyXG4gICAgY2FtZXJhQXNwZWN0R3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGNhbWVyYUFzcGVjdEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuXHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgY2FtZXJhRm9nQ29sb3JHdWkgPSBjYW1lcmFGb2xkZXIuYWRkQ29sb3IoQ29uZmlnLmZvZywgJ2NvbG9yJykubmFtZSgnRm9nIENvbG9yJyk7XHJcbiAgICBjYW1lcmFGb2dDb2xvckd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5zY2VuZS5mb2cuY29sb3Iuc2V0SGV4KHZhbHVlKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgY2FtZXJhRm9nTmVhckd1aSA9IGNhbWVyYUZvbGRlci5hZGQoQ29uZmlnLmZvZywgJ25lYXInLCAwLjAwMCwgMC4wMTApLm5hbWUoJ0ZvZyBOZWFyJyk7XHJcbiAgICBjYW1lcmFGb2dOZWFyR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5zY2VuZS5mb2cuZGVuc2l0eSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBjYW1lcmFGb2dOZWFyR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qIENvbnRyb2xzICovXHJcbiAgICBjb25zdCBjb250cm9sc0ZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignQ29udHJvbHMnKTtcclxuICAgIGNvbnRyb2xzRm9sZGVyLmFkZChDb25maWcuY29udHJvbHMsICdhdXRvUm90YXRlJykubmFtZSgnQXV0byBSb3RhdGUnKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5hdXRvUm90YXRlID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNvbnRyb2xzQXV0b1JvdGF0ZVNwZWVkR3VpID0gY29udHJvbHNGb2xkZXIuYWRkKENvbmZpZy5jb250cm9scywgJ2F1dG9Sb3RhdGVTcGVlZCcsIC0xLCAxKS5uYW1lKCdSb3RhdGlvbiBTcGVlZCcpO1xyXG4gICAgY29udHJvbHNBdXRvUm90YXRlU3BlZWRHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuYXV0b1JvdGF0ZVNwZWVkID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnRyb2xzQXV0b1JvdGF0ZVNwZWVkR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qIE1vZGVsICovXHJcbiAgICBjb25zdCBtb2RlbEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignTW9kZWwnKTtcclxuICAgIG1vZGVsRm9sZGVyLmFkZChDb25maWcubW9kZWwsICd0eXBlJywgWy4uLkNvbmZpZy5tb2RlbC5pbml0aWFsVHlwZXNdKS5uYW1lKCdTZWxlY3QgTW9kZWwnKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKENvbmZpZy5tZXNoLmVuYWJsZUhlbHBlcilcclxuICAgICAgICAgIHRoaXMubWVzaEhlbHBlci5kaXNhYmxlKCk7XHJcblxyXG4gICAgICAgIENvbmZpZy5tb2RlbC5zZWxlY3RlZCA9IENvbmZpZy5tb2RlbC5pbml0aWFsVHlwZXMuaW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy51bmxvYWQoKTtcclxuICAgICAgICB0aGlzLm1vZGVsLnVubG9hZCgpO1xyXG4gICAgICAgIHRoaXMubW9kZWwubG9hZCh2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qIE1lc2ggKi9cclxuICAgIGNvbnN0IG1lc2hGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ01lc2gnKTtcclxuICAgIG1lc2hGb2xkZXIuYWRkKENvbmZpZy5tZXNoLCAnZW5hYmxlSGVscGVyJywgdHJ1ZSkubmFtZSgnRW5hYmxlIEhlbHBlcnMnKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgaWYodmFsdWUpIHtcclxuICAgICAgICB0aGlzLm1lc2hIZWxwZXIuZW5hYmxlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5tZXNoSGVscGVyLmRpc2FibGUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBtZXNoRm9sZGVyLmFkZChDb25maWcubWVzaCwgJ3RyYW5zbHVjZW50JywgdHJ1ZSkubmFtZSgnVHJhbnNsdWNlbnQnKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgaWYodmFsdWUpIHtcclxuICAgICAgICBtZXNoLm1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTtcclxuICAgICAgICBtZXNoLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbWVzaC5tYXRlcmlhbC5vcGFjaXR5ID0gMS4wO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIG1lc2hGb2xkZXIuYWRkKENvbmZpZy5tZXNoLCAnd2lyZWZyYW1lJywgdHJ1ZSkubmFtZSgnV2lyZWZyYW1lJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIG1lc2gubWF0ZXJpYWwud2lyZWZyYW1lID0gdmFsdWU7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLyogTGlnaHRzICovXHJcbiAgICAvLyBBbWJpZW50IExpZ2h0XHJcbiAgICBjb25zdCBhbWJpZW50TGlnaHRGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ0FtYmllbnQgTGlnaHQnKTtcclxuICAgIGFtYmllbnRMaWdodEZvbGRlci5hZGQoQ29uZmlnLmFtYmllbnRMaWdodCwgJ2VuYWJsZWQnKS5uYW1lKCdFbmFibGVkJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMubGlnaHQuYW1iaWVudExpZ2h0LnZpc2libGUgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgYW1iaWVudExpZ2h0Rm9sZGVyLmFkZENvbG9yKENvbmZpZy5hbWJpZW50TGlnaHQsICdjb2xvcicpLm5hbWUoJ0NvbG9yJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMubGlnaHQuYW1iaWVudExpZ2h0LmNvbG9yLnNldEhleCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gRGlyZWN0aW9uYWwgTGlnaHRcclxuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHRGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ0RpcmVjdGlvbmFsIExpZ2h0Jyk7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyLmFkZChDb25maWcuZGlyZWN0aW9uYWxMaWdodCwgJ2VuYWJsZWQnKS5uYW1lKCdFbmFibGVkJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC52aXNpYmxlID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHRGb2xkZXIuYWRkQ29sb3IoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQsICdjb2xvcicpLm5hbWUoJ0NvbG9yJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5jb2xvci5zZXRIZXgodmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0SW50ZW5zaXR5R3VpID0gZGlyZWN0aW9uYWxMaWdodEZvbGRlci5hZGQoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQsICdpbnRlbnNpdHknLCAwLCAyKS5uYW1lKCdJbnRlbnNpdHknKTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHRJbnRlbnNpdHlHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuaW50ZW5zaXR5ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHRJbnRlbnNpdHlHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblhHdWkgPSBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyLmFkZChDb25maWcuZGlyZWN0aW9uYWxMaWdodCwgJ3gnLCAtMTAwMCwgMTAwMCkubmFtZSgnUG9zaXRpb24gWCcpO1xyXG4gICAgZGlyZWN0aW9uYWxMaWdodFBvc2l0aW9uWEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi54ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblhHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvbllHdWkgPSBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyLmFkZChDb25maWcuZGlyZWN0aW9uYWxMaWdodCwgJ3knLCAtMTAwMCwgMTAwMCkubmFtZSgnUG9zaXRpb24gWScpO1xyXG4gICAgZGlyZWN0aW9uYWxMaWdodFBvc2l0aW9uWUd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi55ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvbllHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblpHdWkgPSBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyLmFkZChDb25maWcuZGlyZWN0aW9uYWxMaWdodCwgJ3onLCAtMTAwMCwgMTAwMCkubmFtZSgnUG9zaXRpb24gWicpO1xyXG4gICAgZGlyZWN0aW9uYWxMaWdodFBvc2l0aW9uWkd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi56ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblpHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTaGFkb3cgTWFwXHJcbiAgICBjb25zdCBzaGFkb3dGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ1NoYWRvdyBNYXAnKTtcclxuICAgIHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2VuYWJsZWQnKS5uYW1lKCdFbmFibGVkJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5jYXN0U2hhZG93ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2hlbHBlckVuYWJsZWQnKS5uYW1lKCdIZWxwZXIgRW5hYmxlZCcpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudmlzaWJsZSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzaGFkb3dOZWFyR3VpID0gc2hhZG93Rm9sZGVyLmFkZChDb25maWcuc2hhZG93LCAnbmVhcicsIDAsIDQwMCkubmFtZSgnTmVhcicpO1xyXG4gICAgc2hhZG93TmVhckd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLm5lYXIgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgc2hhZG93TmVhckd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAuZGlzcG9zZSgpO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodEhlbHBlci51cGRhdGUoKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2hhZG93RmFyR3VpID0gc2hhZG93Rm9sZGVyLmFkZChDb25maWcuc2hhZG93LCAnZmFyJywgMCwgMTIwMCkubmFtZSgnRmFyJyk7XHJcbiAgICBzaGFkb3dGYXJHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgc2hhZG93RmFyR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcC5kaXNwb3NlKCk7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwID0gbnVsbDtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0SGVscGVyLnVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzaGFkb3dUb3BHdWkgPSBzaGFkb3dGb2xkZXIuYWRkKENvbmZpZy5zaGFkb3csICd0b3AnLCAtNDAwLCA0MDApLm5hbWUoJ1RvcCcpO1xyXG4gICAgc2hhZG93VG9wR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEudG9wID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHNoYWRvd1RvcEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAuZGlzcG9zZSgpO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodEhlbHBlci51cGRhdGUoKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2hhZG93UmlnaHRHdWkgPSBzaGFkb3dGb2xkZXIuYWRkKENvbmZpZy5zaGFkb3csICdyaWdodCcsIC00MDAsIDQwMCkubmFtZSgnUmlnaHQnKTtcclxuICAgIHNoYWRvd1JpZ2h0R3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEucmlnaHQgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgc2hhZG93UmlnaHRHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwLmRpc3Bvc2UoKTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAgPSBudWxsO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudXBkYXRlKCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHNoYWRvd0JvdHRvbUd1aSA9IHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2JvdHRvbScsIC00MDAsIDQwMCkubmFtZSgnQm90dG9tJyk7XHJcbiAgICBzaGFkb3dCb3R0b21HdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5ib3R0b20gPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgc2hhZG93Qm90dG9tR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcC5kaXNwb3NlKCk7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwID0gbnVsbDtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0SGVscGVyLnVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzaGFkb3dMZWZ0R3VpID0gc2hhZG93Rm9sZGVyLmFkZChDb25maWcuc2hhZG93LCAnbGVmdCcsIC00MDAsIDQwMCkubmFtZSgnTGVmdCcpO1xyXG4gICAgc2hhZG93TGVmdEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmxlZnQgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgc2hhZG93TGVmdEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAuZGlzcG9zZSgpO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodEhlbHBlci51cGRhdGUoKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2hhZG93Qmlhc0d1aSA9IHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2JpYXMnLCAtMC4wMDAwMTAsIDEpLm5hbWUoJ0JpYXMnKTtcclxuICAgIHNoYWRvd0JpYXNHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmJpYXMgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgc2hhZG93Qmlhc0d1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAuZGlzcG9zZSgpO1xyXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XHJcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodEhlbHBlci51cGRhdGUoKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyBQb2ludCBMaWdodFxyXG4gICAgY29uc3QgcG9pbnRMaWdodEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignUG9pbnQgTGlnaHQnKTtcclxuICAgIHBvaW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5wb2ludExpZ2h0LCAnZW5hYmxlZCcpLm5hbWUoJ0VuYWJsZWQnKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5saWdodC5wb2ludExpZ2h0LnZpc2libGUgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcG9pbnRMaWdodEZvbGRlci5hZGRDb2xvcihDb25maWcucG9pbnRMaWdodCwgJ2NvbG9yJykubmFtZSgnQ29sb3InKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5saWdodC5wb2ludExpZ2h0LmNvbG9yLnNldEhleCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHBvaW50TGlnaHRJbnRlbnNpdHlHdWkgPSBwb2ludExpZ2h0Rm9sZGVyLmFkZChDb25maWcucG9pbnRMaWdodCwgJ2ludGVuc2l0eScsIDAsIDIpLm5hbWUoJ0ludGVuc2l0eScpO1xyXG4gICAgcG9pbnRMaWdodEludGVuc2l0eUd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQucG9pbnRMaWdodC5pbnRlbnNpdHkgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcG9pbnRMaWdodEludGVuc2l0eUd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgcG9pbnRMaWdodERpc3RhbmNlR3VpID0gcG9pbnRMaWdodEZvbGRlci5hZGQoQ29uZmlnLnBvaW50TGlnaHQsICdkaXN0YW5jZScsIDAsIDEwMDApLm5hbWUoJ0Rpc3RhbmNlJyk7XHJcbiAgICBwb2ludExpZ2h0RGlzdGFuY2VHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LnBvaW50TGlnaHQuZGlzdGFuY2UgPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcG9pbnRMaWdodERpc3RhbmNlR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBwb2ludExpZ2h0UG9zaXRpb25YR3VpID0gcG9pbnRMaWdodEZvbGRlci5hZGQoQ29uZmlnLnBvaW50TGlnaHQsICd4JywgLTEwMDAsIDEwMDApLm5hbWUoJ1Bvc2l0aW9uIFgnKTtcclxuICAgIHBvaW50TGlnaHRQb3NpdGlvblhHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LnBvaW50TGlnaHQucG9zaXRpb24ueCA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBwb2ludExpZ2h0UG9zaXRpb25YR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBwb2ludExpZ2h0UG9zaXRpb25ZR3VpID0gcG9pbnRMaWdodEZvbGRlci5hZGQoQ29uZmlnLnBvaW50TGlnaHQsICd5JywgLTEwMDAsIDEwMDApLm5hbWUoJ1Bvc2l0aW9uIFknKTtcclxuICAgIHBvaW50TGlnaHRQb3NpdGlvbllHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LnBvaW50TGlnaHQucG9zaXRpb24ueSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBwb2ludExpZ2h0UG9zaXRpb25ZR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBwb2ludExpZ2h0UG9zaXRpb25aR3VpID0gcG9pbnRMaWdodEZvbGRlci5hZGQoQ29uZmlnLnBvaW50TGlnaHQsICd6JywgLTEwMDAsIDEwMDApLm5hbWUoJ1Bvc2l0aW9uIFonKTtcclxuICAgIHBvaW50TGlnaHRQb3NpdGlvblpHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LnBvaW50TGlnaHQucG9zaXRpb24ueiA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBwb2ludExpZ2h0UG9zaXRpb25aR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIEhlbWkgTGlnaHRcclxuICAgIGNvbnN0IGhlbWlMaWdodEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignSGVtaSBMaWdodCcpO1xyXG4gICAgaGVtaUxpZ2h0Rm9sZGVyLmFkZChDb25maWcuaGVtaUxpZ2h0LCAnZW5hYmxlZCcpLm5hbWUoJ0VuYWJsZWQnKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5saWdodC5oZW1pTGlnaHQudmlzaWJsZSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBoZW1pTGlnaHRGb2xkZXIuYWRkQ29sb3IoQ29uZmlnLmhlbWlMaWdodCwgJ2NvbG9yJykubmFtZSgnQ29sb3InKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5saWdodC5oZW1pTGlnaHQuY29sb3Iuc2V0SGV4KHZhbHVlKTtcclxuICAgIH0pO1xyXG4gICAgaGVtaUxpZ2h0Rm9sZGVyLmFkZENvbG9yKENvbmZpZy5oZW1pTGlnaHQsICdncm91bmRDb2xvcicpLm5hbWUoJ2dyb3VuZCBDb2xvcicpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmxpZ2h0LmhlbWlMaWdodC5ncm91bmRDb2xvci5zZXRIZXgodmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBoZW1pTGlnaHRJbnRlbnNpdHlHdWkgPSBoZW1pTGlnaHRGb2xkZXIuYWRkKENvbmZpZy5oZW1pTGlnaHQsICdpbnRlbnNpdHknLCAwLCAyKS5uYW1lKCdJbnRlbnNpdHknKTtcclxuICAgIGhlbWlMaWdodEludGVuc2l0eUd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHRoaXMubGlnaHQuaGVtaUxpZ2h0LmludGVuc2l0eSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBoZW1pTGlnaHRJbnRlbnNpdHlHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGhlbWlMaWdodFBvc2l0aW9uWEd1aSA9IGhlbWlMaWdodEZvbGRlci5hZGQoQ29uZmlnLmhlbWlMaWdodCwgJ3gnLCAtMTAwMCwgMTAwMCkubmFtZSgnUG9zaXRpb24gWCcpO1xyXG4gICAgaGVtaUxpZ2h0UG9zaXRpb25YR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5saWdodC5oZW1pTGlnaHQucG9zaXRpb24ueCA9IHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBoZW1pTGlnaHRQb3NpdGlvblhHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGhlbWlMaWdodFBvc2l0aW9uWUd1aSA9IGhlbWlMaWdodEZvbGRlci5hZGQoQ29uZmlnLmhlbWlMaWdodCwgJ3knLCAtNTAwLCAxMDAwKS5uYW1lKCdQb3NpdGlvbiBZJyk7XHJcbiAgICBoZW1pTGlnaHRQb3NpdGlvbllHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmhlbWlMaWdodC5wb3NpdGlvbi55ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGhlbWlMaWdodFBvc2l0aW9uWUd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgaGVtaUxpZ2h0UG9zaXRpb25aR3VpID0gaGVtaUxpZ2h0Rm9sZGVyLmFkZChDb25maWcuaGVtaUxpZ2h0LCAneicsIC0xMDAwLCAxMDAwKS5uYW1lKCdQb3NpdGlvbiBaJyk7XHJcbiAgICBoZW1pTGlnaHRQb3NpdGlvblpHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmxpZ2h0LmhlbWlMaWdodC5wb3NpdGlvbi56ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGhlbWlMaWdodFBvc2l0aW9uWkd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdW5sb2FkKCkge1xyXG4gICAgdGhpcy5ndWkuZGVzdHJveSgpO1xyXG4gICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi4vLi4vdXRpbHMva2V5Ym9hcmQnO1xyXG5pbXBvcnQgSGVscGVycyBmcm9tICcuLi8uLi91dGlscy9oZWxwZXJzJztcclxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XHJcblxyXG4vLyBNYW5hZ2VzIGFsbCBpbnB1dCBpbnRlcmFjdGlvbnNcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJhY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhLCBjb250cm9scykge1xyXG4gICAgLy8gUHJvcGVydGllc1xyXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICB0aGlzLmNvbnRyb2xzID0gY29udHJvbHM7XHJcblxyXG4gICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbnN0YW50aWF0ZSBrZXlib2FyZCBoZWxwZXJcclxuICAgIHRoaXMua2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQoKTtcclxuXHJcbiAgICAvLyBMaXN0ZW5lcnNcclxuICAgIC8vIE1vdXNlIGV2ZW50c1xyXG4gICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldmVudCkgPT4gSGVscGVycy50aHJvdHRsZSh0aGlzLm9uTW91c2VNb3ZlKGV2ZW50KSwgMjUwKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoZXZlbnQpID0+IHRoaXMub25Nb3VzZUxlYXZlKGV2ZW50KSwgZmFsc2UpO1xyXG4gICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChldmVudCkgPT4gdGhpcy5vbk1vdXNlT3ZlcihldmVudCksIGZhbHNlKTtcclxuXHJcbiAgICAvLyBLZXlib2FyZCBldmVudHNcclxuICAgIHRoaXMua2V5Ym9hcmQuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIC8vIE9ubHkgb25jZVxyXG4gICAgICBpZihldmVudC5yZXBlYXQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmKHRoaXMua2V5Ym9hcmQuZXZlbnRNYXRjaGVzKGV2ZW50LCAnZXNjYXBlJykpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRXNjYXBlIHByZXNzZWQnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlT3ZlcihldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBDb25maWcuaXNNb3VzZU92ZXIgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZUxlYXZlKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIENvbmZpZy5pc01vdXNlT3ZlciA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU1vdmUoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XHJcblxyXG4gICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgQ29uZmlnLmlzTW91c2VNb3ZpbmcgPSBmYWxzZTtcclxuICAgIH0sIDIwMCk7XHJcblxyXG4gICAgQ29uZmlnLmlzTW91c2VNb3ZpbmcgPSB0cnVlO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5pbXBvcnQgTWF0ZXJpYWwgZnJvbSAnLi4vY29tcG9uZW50cy9tYXRlcmlhbCc7XHJcbmltcG9ydCBIZWxwZXJzIGZyb20gJy4uLy4uL3V0aWxzL2hlbHBlcnMnO1xyXG5pbXBvcnQgeyBCdWZmZXJHZW9tZXRyeVV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvYnVmZmVyR2VvbWV0cnlVdGlscyc7XHJcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICcuLi9sb2FkZXJzL0dMVEZMb2FkZXInO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcclxuXHJcbi8vIExvYWRzIGluIGEgc2luZ2xlIG9iamVjdCBmcm9tIHRoZSBjb25maWcgZmlsZVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbCB7XHJcbiAgY29uc3RydWN0b3Ioc2NlbmUsIG1hbmFnZXIsIHRleHR1cmVzKSB7XHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB0aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XHJcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xyXG5cclxuICAgIHRoaXMub2JqID0gbnVsbDtcclxuICAgIHRoaXMucmVmID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGxvYWQodHlwZSkge1xyXG4gICAgLy8gTWFuYWdlciBpcyBwYXNzZWQgaW4gdG8gbG9hZGVyIHRvIGRldGVybWluZSB3aGVuIGxvYWRpbmcgZG9uZSBpbiBtYWluXHJcblxyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgJ2dsdGYnOlxyXG4gICAgICAgIC8vIExvYWQgbW9kZWwgd2l0aCBzZWxlY3RlZCBsb2FkZXJcclxuICAgICAgICBuZXcgR0xURkxvYWRlcih0aGlzLm1hbmFnZXIpLmxvYWQoXHJcbiAgICAgICAgICBDb25maWcubW9kZWxzW0NvbmZpZy5tb2RlbC5zZWxlY3RlZF0ucGF0aCxcclxuICAgICAgICAgIChnbHRmKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lID0gZ2x0Zi5zY2VuZTtcclxuICAgICAgICAgICAgbGV0IG1lc2g7XHJcblxyXG4gICAgICAgICAgICBpZiAoQ29uZmlnLnNoYWRvdy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaXNNZXNoIHx8IG5vZGUuaXNMaWdodCkgbm9kZS5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmlzTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgICBub2RlLm1hdGVyaWFsLndpcmVmcmFtZSA9IENvbmZpZy5tZXNoLndpcmVmcmFtZTtcclxuICAgICAgICAgICAgICAgICAgbWVzaCA9IG5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMub2JqID0gbWVzaDtcclxuXHJcbiAgICAgICAgICAgIEJ1ZmZlckdlb21ldHJ5VXRpbHMuY29tcHV0ZVRhbmdlbnRzKG1lc2guZ2VvbWV0cnkpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcbiAgICAgICAgICAgIGdyb3VwLnNjYWxlLm11bHRpcGx5U2NhbGFyKDAuMjUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZCggZ3JvdXAgKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVmID0gZ3JvdXA7XHJcblxyXG4gICAgICAgICAgICAvLyBUbyBtYWtlIHN1cmUgdGhhdCB0aGUgbWF0cml4V29ybGQgaXMgdXAgdG8gZGF0ZSBmb3IgdGhlIGJveGhlbHBlcnNcclxuICAgICAgICAgICAgZ3JvdXAudXBkYXRlTWF0cml4V29ybGQodHJ1ZSk7XHJcbiAgICAgICAgICAgIGdyb3VwLmFkZChtZXNoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0byBzY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChzY2VuZSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgSGVscGVycy5sb2dQcm9ncmVzcygpLFxyXG4gICAgICAgICAgSGVscGVycy5sb2dFcnJvcigpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgLy8gTG9hZCBtb2RlbCB3aXRoIE9iamVjdExvYWRlclxyXG4gICAgICAgIG5ldyBUSFJFRS5PYmplY3RMb2FkZXIodGhpcy5tYW5hZ2VyKS5sb2FkKFxyXG4gICAgICAgICAgQ29uZmlnLm1vZGVsc1tDb25maWcubW9kZWwuc2VsZWN0ZWRdLnBhdGgsXHJcbiAgICAgICAgICBvYmogPT4ge1xyXG4gICAgICAgICAgICBvYmoudHJhdmVyc2UoY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgIGlmKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG1hdGVyaWFsIGZvciBtZXNoIGFuZCBzZXQgaXRzIG1hcCB0byB0ZXh0dXJlIGJ5IG5hbWUgZnJvbSBwcmVsb2FkZWQgdGV4dHVyZXNcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKDB4ZmZmZmZmKS5zdGFuZGFyZDtcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsLm1hcCA9IHRoaXMudGV4dHVyZXMuVVY7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCB0byBjYXN0IGFuZCByZWNlaXZlIHNoYWRvdyBpZiBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICBpZihDb25maWcuc2hhZG93LmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgcHJvcCB0byBvYmogc28gaXQgY2FuIGJlIGFjY2Vzc2VkIGZyb20gb3V0c2lkZSB0aGUgY2xhc3NcclxuICAgICAgICAgICAgdGhpcy5vYmogPSBvYmo7XHJcbiAgICAgICAgICAgIHRoaXMucmVmID0gb2JqO1xyXG5cclxuICAgICAgICAgICAgb2JqLnNjYWxlLm11bHRpcGx5U2NhbGFyKENvbmZpZy5tb2RlbHNbQ29uZmlnLm1vZGVsLnNlbGVjdGVkXS5zY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKG9iaik7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgSGVscGVycy5sb2dQcm9ncmVzcygpLFxyXG4gICAgICAgICAgSGVscGVycy5sb2dFcnJvcigpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVubG9hZCgpIHtcclxuICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMucmVmKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG4vLyBQcm9taXNlIHBvbHlmaWxsIGZvciBJRVxyXG5pbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAnZXM2LXByb21pc2UnO1xyXG5cclxuaW1wb3J0IEhlbHBlcnMgZnJvbSAnLi4vLi4vdXRpbHMvaGVscGVycyc7XHJcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xyXG5cclxuLy8gVGhpcyBjbGFzcyBwcmVsb2FkcyBhbGwgdGV4dHVyZXMgaW4gdGhlIGltYWdlRmlsZXMgYXJyYXkgaW4gdGhlIENvbmZpZyB2aWEgRVM2IFByb21pc2VzLlxyXG4vLyBPbmNlIGFsbCB0ZXh0dXJlcyBhcmUgZG9uZSBsb2FkaW5nIHRoZSBtb2RlbCBpdHNlbGYgd2lsbCBiZSBsb2FkZWQgYWZ0ZXIgdGhlIFByb21pc2UgLnRoZW4oKSBjYWxsYmFjay5cclxuLy8gVXNpbmcgcHJvbWlzZXMgdG8gcHJlbG9hZCB0ZXh0dXJlcyBwcmV2ZW50cyBpc3N1ZXMgd2hlbiBhcHBseWluZyB0ZXh0dXJlcyB0byBtYXRlcmlhbHNcclxuLy8gYmVmb3JlIHRoZSB0ZXh0dXJlcyBoYXZlIGxvYWRlZC5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAvLyBQcm9wIHRoYXQgd2lsbCBjb250YWluIGFsbCBsb2FkZWQgdGV4dHVyZXNcclxuICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcclxuICB9XHJcblxyXG4gIGxvYWQoKSB7XHJcbiAgICBjb25zdCBsb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpO1xyXG4gICAgY29uc3QgbWF4QW5pc290cm9weSA9IENvbmZpZy5tYXhBbmlzb3Ryb3B5O1xyXG4gICAgY29uc3QgaW1hZ2VGaWxlcyA9IENvbmZpZy50ZXh0dXJlLmltYWdlRmlsZXM7XHJcbiAgICBjb25zdCBwcm9taXNlQXJyYXkgPSBbXTtcclxuXHJcbiAgICBsb2FkZXIuc2V0UGF0aChDb25maWcudGV4dHVyZS5wYXRoKTtcclxuXHJcbiAgICBpbWFnZUZpbGVzLmZvckVhY2goaW1hZ2VGaWxlID0+IHtcclxuICAgICAgLy8gQWRkIGFuIGluZGl2aWR1YWwgUHJvbWlzZSBmb3IgZWFjaCBpbWFnZSBpbiBhcnJheVxyXG4gICAgICBwcm9taXNlQXJyYXkucHVzaChuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgLy8gRWFjaCBQcm9taXNlIHdpbGwgYXR0ZW1wdCB0byBsb2FkIHRoZSBpbWFnZSBmaWxlXHJcbiAgICAgICAgbG9hZGVyLmxvYWQoaW1hZ2VGaWxlLmltYWdlLFxyXG4gICAgICAgICAgLy8gVGhpcyBnZXRzIGNhbGxlZCBvbiBsb2FkIHdpdGggdGhlIGxvYWRlZCB0ZXh0dXJlXHJcbiAgICAgICAgICB0ZXh0dXJlID0+IHtcclxuICAgICAgICAgICAgdGV4dHVyZS5hbmlzb3Ryb3B5ID0gbWF4QW5pc290cm9weTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc29sdmUgUHJvbWlzZSB3aXRoIG9iamVjdCBvZiB0ZXh0dXJlIGlmIGl0IGlzIGluc3RhbmNlIG9mIFRIUkVFLlRleHR1cmVcclxuICAgICAgICAgICAgY29uc3QgbW9kZWxPQkogPSB7fTtcclxuICAgICAgICAgICAgbW9kZWxPQkpbaW1hZ2VGaWxlLm5hbWVdID0gdGV4dHVyZTtcclxuICAgICAgICAgICAgaWYobW9kZWxPQkpbaW1hZ2VGaWxlLm5hbWVdIGluc3RhbmNlb2YgVEhSRUUuVGV4dHVyZSlcclxuICAgICAgICAgICAgICByZXNvbHZlKG1vZGVsT0JKKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBIZWxwZXJzLmxvZ1Byb2dyZXNzKCksXHJcbiAgICAgICAgICB4aHIgPT4gcmVqZWN0KG5ldyBFcnJvcih4aHIgKyAnQW4gZXJyb3Igb2NjdXJyZWQgbG9hZGluZyB3aGlsZSBsb2FkaW5nICcgKyBpbWFnZUZpbGUuaW1hZ2UpKVxyXG4gICAgICAgIClcclxuICAgICAgfSkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBQcm9taXNlcyBpbiBhcnJheSBhbmQgcmV0dXJuIGFub3RoZXIgUHJvbWlzZSB3aGVuIGFsbCBoYXZlIHJlc29sdmVkIG9yIGNvbnNvbGUgbG9nIHJlYXNvbiB3aGVuIGFueSByZWplY3RcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlQXJyYXkpLnRoZW4odGV4dHVyZXMgPT4ge1xyXG4gICAgICAvLyBTZXQgdGhlIHRleHR1cmVzIHByb3Agb2JqZWN0IHRvIGhhdmUgbmFtZSBiZSB0aGUgcmVzb2x2ZWQgdGV4dHVyZVxyXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLnRleHR1cmVzW09iamVjdC5rZXlzKHRleHR1cmVzW2ldKVswXV0gPSB0ZXh0dXJlc1tpXVtPYmplY3Qua2V5cyh0ZXh0dXJlc1tpXSlbMF1dO1xyXG4gICAgICB9XHJcbiAgICB9LCByZWFzb24gPT4gY29uc29sZS5sb2cocmVhc29uKSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBUV0VFTiBmcm9tICdAdHdlZW5qcy90d2Vlbi5qcyc7XHJcblxyXG4vLyBUaGlzIG9iamVjdCBjb250YWlucyB0aGUgc3RhdGUgb2YgdGhlIGFwcFxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgaXNEZXY6IGZhbHNlLFxyXG4gIGlzU2hvd2luZ1N0YXRzOiB0cnVlLFxyXG4gIGlzTG9hZGVkOiBmYWxzZSxcclxuICBpc1R3ZWVuaW5nOiBmYWxzZSxcclxuICBpc1JvdGF0aW5nOiB0cnVlLFxyXG4gIGlzTW91c2VNb3Zpbmc6IGZhbHNlLFxyXG4gIGlzTW91c2VPdmVyOiBmYWxzZSxcclxuICBtYXhBbmlzb3Ryb3B5OiAxLFxyXG4gIGRwcjogMSxcclxuICBlYXNpbmc6IFRXRUVOLkVhc2luZy5RdWFkcmF0aWMuSW5PdXQsXHJcbiAgZHVyYXRpb246IDUwMCxcclxuICBtb2RlbDoge1xyXG4gICAgc2VsZWN0ZWQ6IDAsXHJcbiAgICBpbml0aWFsVHlwZXM6IFsnZ2x0ZicsICdvYmplY3QnXSxcclxuICAgIHR5cGU6ICdnbHRmJ1xyXG4gIH0sXHJcbiAgbW9kZWxzOiBbXHJcbiAgICB7XHJcbiAgICAgIHBhdGg6ICcuL2Fzc2V0cy9tb2RlbHMvZHVjay5nbHRmJyxcclxuICAgICAgc2NhbGU6IDIwLFxyXG4gICAgICB0eXBlOiAnZ2x0ZidcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHBhdGg6ICcuL2Fzc2V0cy9tb2RlbHMvVGVhcG90Lmpzb24nLFxyXG4gICAgICBzY2FsZTogMjAsXHJcbiAgICAgIHR5cGU6ICdvYmplY3QnXHJcbiAgICB9XHJcbiAgXSxcclxuICB0ZXh0dXJlOiB7XHJcbiAgICBwYXRoOiAnLi9hc3NldHMvdGV4dHVyZXMvJyxcclxuICAgIGltYWdlRmlsZXM6IFtcclxuICAgICAgeyBuYW1lOiAnVVYnLCBpbWFnZTogJ1VWX0dyaWRfU20uanBnJyB9XHJcbiAgICBdXHJcbiAgfSxcclxuICBtZXNoOiB7XHJcbiAgICBlbmFibGVIZWxwZXI6IHRydWUsXHJcbiAgICB3aXJlZnJhbWU6IGZhbHNlLFxyXG4gICAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxyXG4gICAgbWF0ZXJpYWw6IHtcclxuICAgICAgY29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgICBlbWlzc2l2ZTogMHhmZmZmZmZcclxuICAgIH1cclxuICB9LFxyXG4gIGZvZzoge1xyXG4gICAgY29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgbmVhcjogMC4wMDA4XHJcbiAgfSxcclxuICBjYW1lcmE6IHtcclxuICAgIGZvdjogNDAsXHJcbiAgICBuZWFyOiAyLFxyXG4gICAgZmFyOiAxMDAwLFxyXG4gICAgYXNwZWN0OiAxLFxyXG4gICAgcG9zWDogMCxcclxuICAgIHBvc1k6IDMwLFxyXG4gICAgcG9zWjogNDBcclxuICB9LFxyXG4gIGNvbnRyb2xzOiB7XHJcbiAgICBhdXRvUm90YXRlOiBmYWxzZSxcclxuICAgIGF1dG9Sb3RhdGVTcGVlZDogLTAuNSxcclxuICAgIHJvdGF0ZVNwZWVkOiAwLjUsXHJcbiAgICB6b29tU3BlZWQ6IDAuOCxcclxuICAgIG1pbkRpc3RhbmNlOiAyMDAsXHJcbiAgICBtYXhEaXN0YW5jZTogNjAwLFxyXG4gICAgbWluUG9sYXJBbmdsZTogTWF0aC5QSSAvIDUsXHJcbiAgICBtYXhQb2xhckFuZ2xlOiBNYXRoLlBJIC8gMixcclxuICAgIG1pbkF6aW11dGhBbmdsZTogLUluZmluaXR5LFxyXG4gICAgbWF4QXppbXV0aEFuZ2xlOiBJbmZpbml0eSxcclxuICAgIGVuYWJsZURhbXBpbmc6IHRydWUsXHJcbiAgICBkYW1waW5nRmFjdG9yOiAwLjUsXHJcbiAgICBlbmFibGVab29tOiB0cnVlLFxyXG4gICAgdGFyZ2V0OiB7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDAsXHJcbiAgICAgIHo6IDBcclxuICAgIH1cclxuICB9LFxyXG4gIGFtYmllbnRMaWdodDoge1xyXG4gICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgIGNvbG9yOiAweDE0MTQxNFxyXG4gIH0sXHJcbiAgZGlyZWN0aW9uYWxMaWdodDoge1xyXG4gICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgIGNvbG9yOiAweGYwZjBmMCxcclxuICAgIGludGVuc2l0eTogMC40LFxyXG4gICAgeDogLTc1LFxyXG4gICAgeTogMjgwLFxyXG4gICAgejogMTUwXHJcbiAgfSxcclxuICBzaGFkb3c6IHtcclxuICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICBoZWxwZXJFbmFibGVkOiB0cnVlLFxyXG4gICAgYmlhczogMCxcclxuICAgIG1hcFdpZHRoOiAyMDQ4LFxyXG4gICAgbWFwSGVpZ2h0OiAyMDQ4LFxyXG4gICAgbmVhcjogMjUwLFxyXG4gICAgZmFyOiA0MDAsXHJcbiAgICB0b3A6IDEwMCxcclxuICAgIHJpZ2h0OiAxMDAsXHJcbiAgICBib3R0b206IC0xMDAsXHJcbiAgICBsZWZ0OiAtMTAwXHJcbiAgfSxcclxuICBwb2ludExpZ2h0OiB7XHJcbiAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgY29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgaW50ZW5zaXR5OiAwLjM0LFxyXG4gICAgZGlzdGFuY2U6IDExNSxcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gICAgejogMFxyXG4gIH0sXHJcbiAgaGVtaUxpZ2h0OiB7XHJcbiAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgY29sb3I6IDB4YzhjOGM4LFxyXG4gICAgZ3JvdW5kQ29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgaW50ZW5zaXR5OiAwLjU1LFxyXG4gICAgeDogMCxcclxuICAgIHk6IDAsXHJcbiAgICB6OiAwXHJcbiAgfVxyXG59O1xyXG4iLCIvKipcclxuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIEJ1ZmZlckF0dHJpYnV0ZSxcclxuICBCdWZmZXJHZW9tZXRyeSxcclxuICBJbnRlcmxlYXZlZEJ1ZmZlcixcclxuICBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSxcclxuICBUcmlhbmdsZUZhbkRyYXdNb2RlLFxyXG4gIFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxcclxuICBUcmlhbmdsZXNEcmF3TW9kZSxcclxuICBWZWN0b3IyLFxyXG4gIFZlY3RvcjMsXHJcbn0gZnJvbSAndGhyZWUnO1xyXG5cclxudmFyIEJ1ZmZlckdlb21ldHJ5VXRpbHMgPSB7XHJcbiAgY29tcHV0ZVRhbmdlbnRzOiBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcclxuICAgIHZhciBpbmRleCA9IGdlb21ldHJ5LmluZGV4O1xyXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xyXG5cclxuICAgIC8vIGJhc2VkIG9uIGh0dHA6Ly93d3cudGVyYXRob24uY29tL2NvZGUvdGFuZ2VudC5odG1sXHJcbiAgICAvLyAocGVyIHZlcnRleCB0YW5nZW50cylcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGluZGV4ID09PSBudWxsIHx8XHJcbiAgICAgIGF0dHJpYnV0ZXMucG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICBhdHRyaWJ1dGVzLm5vcm1hbCA9PT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgIGF0dHJpYnV0ZXMudXYgPT09IHVuZGVmaW5lZFxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5jb21wdXRlVGFuZ2VudHMoKSBmYWlsZWQuIE1pc3NpbmcgcmVxdWlyZWQgYXR0cmlidXRlcyAoaW5kZXgsIHBvc2l0aW9uLCBub3JtYWwgb3IgdXYpJ1xyXG4gICAgICApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGluZGljZXMgPSBpbmRleC5hcnJheTtcclxuICAgIHZhciBwb3NpdGlvbnMgPSBhdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5O1xyXG4gICAgdmFyIG5vcm1hbHMgPSBhdHRyaWJ1dGVzLm5vcm1hbC5hcnJheTtcclxuICAgIHZhciB1dnMgPSBhdHRyaWJ1dGVzLnV2LmFycmF5O1xyXG5cclxuICAgIHZhciBuVmVydGljZXMgPSBwb3NpdGlvbnMubGVuZ3RoIC8gMztcclxuXHJcbiAgICBpZiAoYXR0cmlidXRlcy50YW5nZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCd0YW5nZW50JywgbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KDQgKiBuVmVydGljZXMpLCA0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRhbmdlbnRzID0gYXR0cmlidXRlcy50YW5nZW50LmFycmF5O1xyXG5cclxuICAgIHZhciB0YW4xID0gW10sXHJcbiAgICAgICAgdGFuMiA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgblZlcnRpY2VzOyBpKyspIHtcclxuICAgICAgdGFuMVtpXSA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgIHRhbjJbaV0gPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB2QSA9IG5ldyBWZWN0b3IzKCksXHJcbiAgICAgICAgdkIgPSBuZXcgVmVjdG9yMygpLFxyXG4gICAgICAgIHZDID0gbmV3IFZlY3RvcjMoKSxcclxuICAgICAgICB1dkEgPSBuZXcgVmVjdG9yMigpLFxyXG4gICAgICAgIHV2QiA9IG5ldyBWZWN0b3IyKCksXHJcbiAgICAgICAgdXZDID0gbmV3IFZlY3RvcjIoKSxcclxuICAgICAgICBzZGlyID0gbmV3IFZlY3RvcjMoKSxcclxuICAgICAgICB0ZGlyID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVUcmlhbmdsZShhLCBiLCBjKSB7XHJcbiAgICAgIHZBLmZyb21BcnJheShwb3NpdGlvbnMsIGEgKiAzKTtcclxuICAgICAgdkIuZnJvbUFycmF5KHBvc2l0aW9ucywgYiAqIDMpO1xyXG4gICAgICB2Qy5mcm9tQXJyYXkocG9zaXRpb25zLCBjICogMyk7XHJcblxyXG4gICAgICB1dkEuZnJvbUFycmF5KHV2cywgYSAqIDIpO1xyXG4gICAgICB1dkIuZnJvbUFycmF5KHV2cywgYiAqIDIpO1xyXG4gICAgICB1dkMuZnJvbUFycmF5KHV2cywgYyAqIDIpO1xyXG5cclxuICAgICAgdkIuc3ViKHZBKTtcclxuICAgICAgdkMuc3ViKHZBKTtcclxuXHJcbiAgICAgIHV2Qi5zdWIodXZBKTtcclxuICAgICAgdXZDLnN1Yih1dkEpO1xyXG5cclxuICAgICAgdmFyIHIgPSAxLjAgLyAodXZCLnggKiB1dkMueSAtIHV2Qy54ICogdXZCLnkpO1xyXG5cclxuICAgICAgLy8gc2lsZW50bHkgaWdub3JlIGRlZ2VuZXJhdGUgdXYgdHJpYW5nbGVzIGhhdmluZyBjb2luY2lkZW50IG9yIGNvbGluZWFyIHZlcnRpY2VzXHJcblxyXG4gICAgICBpZiAoIWlzRmluaXRlKHIpKSByZXR1cm47XHJcblxyXG4gICAgICBzZGlyLmNvcHkodkIpLm11bHRpcGx5U2NhbGFyKHV2Qy55KS5hZGRTY2FsZWRWZWN0b3IodkMsIC11dkIueSkubXVsdGlwbHlTY2FsYXIocik7XHJcbiAgICAgIHRkaXIuY29weSh2QykubXVsdGlwbHlTY2FsYXIodXZCLngpLmFkZFNjYWxlZFZlY3Rvcih2QiwgLXV2Qy54KS5tdWx0aXBseVNjYWxhcihyKTtcclxuXHJcbiAgICAgIHRhbjFbYV0uYWRkKHNkaXIpO1xyXG4gICAgICB0YW4xW2JdLmFkZChzZGlyKTtcclxuICAgICAgdGFuMVtjXS5hZGQoc2Rpcik7XHJcblxyXG4gICAgICB0YW4yW2FdLmFkZCh0ZGlyKTtcclxuICAgICAgdGFuMltiXS5hZGQodGRpcik7XHJcbiAgICAgIHRhbjJbY10uYWRkKHRkaXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBncm91cHMgPSBnZW9tZXRyeS5ncm91cHM7XHJcblxyXG4gICAgaWYgKGdyb3Vwcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgZ3JvdXBzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgY291bnQ6IGluZGljZXMubGVuZ3RoLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGlsOyArK2kpIHtcclxuICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzW2ldO1xyXG5cclxuICAgICAgdmFyIHN0YXJ0ID0gZ3JvdXAuc3RhcnQ7XHJcbiAgICAgIHZhciBjb3VudCA9IGdyb3VwLmNvdW50O1xyXG5cclxuICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0LCBqbCA9IHN0YXJ0ICsgY291bnQ7IGogPCBqbDsgaiArPSAzKSB7XHJcbiAgICAgICAgaGFuZGxlVHJpYW5nbGUoaW5kaWNlc1tqICsgMF0sIGluZGljZXNbaiArIDFdLCBpbmRpY2VzW2ogKyAyXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgdG1wID0gbmV3IFZlY3RvcjMoKSxcclxuICAgICAgICB0bXAyID0gbmV3IFZlY3RvcjMoKTtcclxuICAgIHZhciBuID0gbmV3IFZlY3RvcjMoKSxcclxuICAgICAgICBuMiA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICB2YXIgdywgdCwgdGVzdDtcclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVWZXJ0ZXgodikge1xyXG4gICAgICBuLmZyb21BcnJheShub3JtYWxzLCB2ICogMyk7XHJcbiAgICAgIG4yLmNvcHkobik7XHJcblxyXG4gICAgICB0ID0gdGFuMVt2XTtcclxuXHJcbiAgICAgIC8vIEdyYW0tU2NobWlkdCBvcnRob2dvbmFsaXplXHJcblxyXG4gICAgICB0bXAuY29weSh0KTtcclxuICAgICAgdG1wLnN1YihuLm11bHRpcGx5U2NhbGFyKG4uZG90KHQpKSkubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgaGFuZGVkbmVzc1xyXG5cclxuICAgICAgdG1wMi5jcm9zc1ZlY3RvcnMobjIsIHQpO1xyXG4gICAgICB0ZXN0ID0gdG1wMi5kb3QodGFuMlt2XSk7XHJcbiAgICAgIHcgPSB0ZXN0IDwgMC4wID8gLTEuMCA6IDEuMDtcclxuXHJcbiAgICAgIHRhbmdlbnRzW3YgKiA0XSA9IHRtcC54O1xyXG4gICAgICB0YW5nZW50c1t2ICogNCArIDFdID0gdG1wLnk7XHJcbiAgICAgIHRhbmdlbnRzW3YgKiA0ICsgMl0gPSB0bXAuejtcclxuICAgICAgdGFuZ2VudHNbdiAqIDQgKyAzXSA9IHc7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGlsOyArK2kpIHtcclxuICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzW2ldO1xyXG5cclxuICAgICAgdmFyIHN0YXJ0ID0gZ3JvdXAuc3RhcnQ7XHJcbiAgICAgIHZhciBjb3VudCA9IGdyb3VwLmNvdW50O1xyXG5cclxuICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0LCBqbCA9IHN0YXJ0ICsgY291bnQ7IGogPCBqbDsgaiArPSAzKSB7XHJcbiAgICAgICAgaGFuZGxlVmVydGV4KGluZGljZXNbaiArIDBdKTtcclxuICAgICAgICBoYW5kbGVWZXJ0ZXgoaW5kaWNlc1tqICsgMV0pO1xyXG4gICAgICAgIGhhbmRsZVZlcnRleChpbmRpY2VzW2ogKyAyXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gIHtBcnJheTxCdWZmZXJHZW9tZXRyeT59IGdlb21ldHJpZXNcclxuICAgKiBAcGFyYW0gIHtCb29sZWFufSB1c2VHcm91cHNcclxuICAgKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeX1cclxuICAgKi9cclxuICBtZXJnZUJ1ZmZlckdlb21ldHJpZXM6IGZ1bmN0aW9uIChnZW9tZXRyaWVzLCB1c2VHcm91cHMpIHtcclxuICAgIHZhciBpc0luZGV4ZWQgPSBnZW9tZXRyaWVzWzBdLmluZGV4ICE9PSBudWxsO1xyXG5cclxuICAgIHZhciBhdHRyaWJ1dGVzVXNlZCA9IG5ldyBTZXQoT2JqZWN0LmtleXMoZ2VvbWV0cmllc1swXS5hdHRyaWJ1dGVzKSk7XHJcbiAgICB2YXIgbW9ycGhBdHRyaWJ1dGVzVXNlZCA9IG5ldyBTZXQoT2JqZWN0LmtleXMoZ2VvbWV0cmllc1swXS5tb3JwaEF0dHJpYnV0ZXMpKTtcclxuXHJcbiAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xyXG4gICAgdmFyIG1vcnBoQXR0cmlidXRlcyA9IHt9O1xyXG5cclxuICAgIHZhciBtb3JwaFRhcmdldHNSZWxhdGl2ZSA9IGdlb21ldHJpZXNbMF0ubW9ycGhUYXJnZXRzUmVsYXRpdmU7XHJcblxyXG4gICAgdmFyIG1lcmdlZEdlb21ldHJ5ID0gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7XHJcblxyXG4gICAgdmFyIG9mZnNldCA9IDA7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIHZhciBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XHJcbiAgICAgIHZhciBhdHRyaWJ1dGVzQ291bnQgPSAwO1xyXG5cclxuICAgICAgLy8gZW5zdXJlIHRoYXQgYWxsIGdlb21ldHJpZXMgYXJlIGluZGV4ZWQsIG9yIG5vbmVcclxuXHJcbiAgICAgIGlmIChpc0luZGV4ZWQgIT09IChnZW9tZXRyeS5pbmRleCAhPT0gbnVsbCkpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcclxuICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgJy4gQWxsIGdlb21ldHJpZXMgbXVzdCBoYXZlIGNvbXBhdGlibGUgYXR0cmlidXRlczsgbWFrZSBzdXJlIGluZGV4IGF0dHJpYnV0ZSBleGlzdHMgYW1vbmcgYWxsIGdlb21ldHJpZXMsIG9yIGluIG5vbmUgb2YgdGhlbS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZ2F0aGVyIGF0dHJpYnV0ZXMsIGV4aXQgZWFybHkgaWYgdGhleSdyZSBkaWZmZXJlbnRcclxuXHJcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykge1xyXG4gICAgICAgIGlmICghYXR0cmlidXRlc1VzZWQuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xyXG4gICAgICAgICAgICBpICtcclxuICAgICAgICAgICAgJy4gQWxsIGdlb21ldHJpZXMgbXVzdCBoYXZlIGNvbXBhdGlibGUgYXR0cmlidXRlczsgbWFrZSBzdXJlIFwiJyArXHJcbiAgICAgICAgICAgIG5hbWUgK1xyXG4gICAgICAgICAgICAnXCIgYXR0cmlidXRlIGV4aXN0cyBhbW9uZyBhbGwgZ2VvbWV0cmllcywgb3IgaW4gbm9uZSBvZiB0aGVtLidcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhdHRyaWJ1dGVzW25hbWVdID09PSB1bmRlZmluZWQpIGF0dHJpYnV0ZXNbbmFtZV0gPSBbXTtcclxuXHJcbiAgICAgICAgYXR0cmlidXRlc1tuYW1lXS5wdXNoKGdlb21ldHJ5LmF0dHJpYnV0ZXNbbmFtZV0pO1xyXG5cclxuICAgICAgICBhdHRyaWJ1dGVzQ291bnQrKztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZW5zdXJlIGdlb21ldHJpZXMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgYXR0cmlidXRlc1xyXG5cclxuICAgICAgaWYgKGF0dHJpYnV0ZXNDb3VudCAhPT0gYXR0cmlidXRlc1VzZWQuc2l6ZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xyXG4gICAgICAgICAgaSArXHJcbiAgICAgICAgICAnLiBNYWtlIHN1cmUgYWxsIGdlb21ldHJpZXMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgYXR0cmlidXRlcy4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZ2F0aGVyIG1vcnBoIGF0dHJpYnV0ZXMsIGV4aXQgZWFybHkgaWYgdGhleSdyZSBkaWZmZXJlbnRcclxuXHJcbiAgICAgIGlmIChtb3JwaFRhcmdldHNSZWxhdGl2ZSAhPT0gZ2VvbWV0cnkubW9ycGhUYXJnZXRzUmVsYXRpdmUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcclxuICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgJy4gLm1vcnBoVGFyZ2V0c1JlbGF0aXZlIG11c3QgYmUgY29uc2lzdGVudCB0aHJvdWdob3V0IGFsbCBnZW9tZXRyaWVzLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKHZhciBuYW1lIGluIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcykge1xyXG4gICAgICAgIGlmICghbW9ycGhBdHRyaWJ1dGVzVXNlZC5oYXMobmFtZSkpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXHJcbiAgICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgICAnLiAgLm1vcnBoQXR0cmlidXRlcyBtdXN0IGJlIGNvbnNpc3RlbnQgdGhyb3VnaG91dCBhbGwgZ2VvbWV0cmllcy4nXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobW9ycGhBdHRyaWJ1dGVzW25hbWVdID09PSB1bmRlZmluZWQpIG1vcnBoQXR0cmlidXRlc1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgICBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0ucHVzaChnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBnYXRoZXIgLnVzZXJEYXRhXHJcblxyXG4gICAgICBtZXJnZWRHZW9tZXRyeS51c2VyRGF0YS5tZXJnZWRVc2VyRGF0YSA9IG1lcmdlZEdlb21ldHJ5LnVzZXJEYXRhLm1lcmdlZFVzZXJEYXRhIHx8IFtdO1xyXG4gICAgICBtZXJnZWRHZW9tZXRyeS51c2VyRGF0YS5tZXJnZWRVc2VyRGF0YS5wdXNoKGdlb21ldHJ5LnVzZXJEYXRhKTtcclxuXHJcbiAgICAgIGlmICh1c2VHcm91cHMpIHtcclxuICAgICAgICB2YXIgY291bnQ7XHJcblxyXG4gICAgICAgIGlmIChpc0luZGV4ZWQpIHtcclxuICAgICAgICAgIGNvdW50ID0gZ2VvbWV0cnkuaW5kZXguY291bnQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNvdW50ID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcclxuICAgICAgICAgICAgaSArXHJcbiAgICAgICAgICAgICcuIFRoZSBnZW9tZXRyeSBtdXN0IGhhdmUgZWl0aGVyIGFuIGluZGV4IG9yIGEgcG9zaXRpb24gYXR0cmlidXRlJ1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWVyZ2VkR2VvbWV0cnkuYWRkR3JvdXAob2Zmc2V0LCBjb3VudCwgaSk7XHJcblxyXG4gICAgICAgIG9mZnNldCArPSBjb3VudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIG1lcmdlIGluZGljZXNcclxuXHJcbiAgICBpZiAoaXNJbmRleGVkKSB7XHJcbiAgICAgIHZhciBpbmRleE9mZnNldCA9IDA7XHJcbiAgICAgIHZhciBtZXJnZWRJbmRleCA9IFtdO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gZ2VvbWV0cmllc1tpXS5pbmRleDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbmRleC5jb3VudDsgKytqKSB7XHJcbiAgICAgICAgICBtZXJnZWRJbmRleC5wdXNoKGluZGV4LmdldFgoaikgKyBpbmRleE9mZnNldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbmRleE9mZnNldCArPSBnZW9tZXRyaWVzW2ldLmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1lcmdlZEdlb21ldHJ5LnNldEluZGV4KG1lcmdlZEluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtZXJnZSBhdHRyaWJ1dGVzXHJcblxyXG4gICAgZm9yICh2YXIgbmFtZSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgIHZhciBtZXJnZWRBdHRyaWJ1dGUgPSB0aGlzLm1lcmdlQnVmZmVyQXR0cmlidXRlcyhhdHRyaWJ1dGVzW25hbWVdKTtcclxuXHJcbiAgICAgIGlmICghbWVyZ2VkQXR0cmlidXRlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdoaWxlIHRyeWluZyB0byBtZXJnZSB0aGUgJyArXHJcbiAgICAgICAgICBuYW1lICtcclxuICAgICAgICAgICcgYXR0cmlidXRlLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtZXJnZWRHZW9tZXRyeS5zZXRBdHRyaWJ1dGUobmFtZSwgbWVyZ2VkQXR0cmlidXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtZXJnZSBtb3JwaCBhdHRyaWJ1dGVzXHJcblxyXG4gICAgZm9yICh2YXIgbmFtZSBpbiBtb3JwaEF0dHJpYnV0ZXMpIHtcclxuICAgICAgdmFyIG51bU1vcnBoVGFyZ2V0cyA9IG1vcnBoQXR0cmlidXRlc1tuYW1lXVswXS5sZW5ndGg7XHJcblxyXG4gICAgICBpZiAobnVtTW9ycGhUYXJnZXRzID09PSAwKSBicmVhaztcclxuXHJcbiAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyA9IG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyB8fCB7fTtcclxuICAgICAgbWVyZ2VkR2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdID0gW107XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bU1vcnBoVGFyZ2V0czsgKytpKSB7XHJcbiAgICAgICAgdmFyIG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0ubGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgIG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UucHVzaChtb3JwaEF0dHJpYnV0ZXNbbmFtZV1bal1baV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1lcmdlZE1vcnBoQXR0cmlidXRlID0gdGhpcy5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMobW9ycGhBdHRyaWJ1dGVzVG9NZXJnZSk7XHJcblxyXG4gICAgICAgIGlmICghbWVyZ2VkTW9ycGhBdHRyaWJ1dGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdoaWxlIHRyeWluZyB0byBtZXJnZSB0aGUgJyArXHJcbiAgICAgICAgICAgIG5hbWUgK1xyXG4gICAgICAgICAgICAnIG1vcnBoQXR0cmlidXRlLidcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXS5wdXNoKG1lcmdlZE1vcnBoQXR0cmlidXRlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtZXJnZWRHZW9tZXRyeTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0FycmF5PEJ1ZmZlckF0dHJpYnV0ZT59IGF0dHJpYnV0ZXNcclxuICAgKiBAcmV0dXJuIHtCdWZmZXJBdHRyaWJ1dGV9XHJcbiAgICovXHJcbiAgbWVyZ2VCdWZmZXJBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xyXG4gICAgdmFyIFR5cGVkQXJyYXk7XHJcbiAgICB2YXIgaXRlbVNpemU7XHJcbiAgICB2YXIgbm9ybWFsaXplZDtcclxuICAgIHZhciBhcnJheUxlbmd0aCA9IDA7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2ldO1xyXG5cclxuICAgICAgaWYgKGF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChUeXBlZEFycmF5ID09PSB1bmRlZmluZWQpIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XHJcbiAgICAgIGlmIChUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5hcnJheSBtdXN0IGJlIG9mIGNvbnNpc3RlbnQgYXJyYXkgdHlwZXMgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpdGVtU2l6ZSA9PT0gdW5kZWZpbmVkKSBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcclxuICAgICAgaWYgKGl0ZW1TaXplICE9PSBhdHRyaWJ1dGUuaXRlbVNpemUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5pdGVtU2l6ZSBtdXN0IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChub3JtYWxpemVkID09PSB1bmRlZmluZWQpIG5vcm1hbGl6ZWQgPSBhdHRyaWJ1dGUubm9ybWFsaXplZDtcclxuICAgICAgaWYgKG5vcm1hbGl6ZWQgIT09IGF0dHJpYnV0ZS5ub3JtYWxpemVkKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUubm9ybWFsaXplZCBtdXN0IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoYXJyYXlMZW5ndGgpO1xyXG4gICAgdmFyIG9mZnNldCA9IDA7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIGFycmF5LnNldChhdHRyaWJ1dGVzW2ldLmFycmF5LCBvZmZzZXQpO1xyXG5cclxuICAgICAgb2Zmc2V0ICs9IGF0dHJpYnV0ZXNbaV0uYXJyYXkubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtBcnJheTxCdWZmZXJBdHRyaWJ1dGU+fSBhdHRyaWJ1dGVzXHJcbiAgICogQHJldHVybiB7QXJyYXk8SW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+fVxyXG4gICAqL1xyXG4gIGludGVybGVhdmVBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xyXG4gICAgLy8gSW50ZXJsZWF2ZXMgdGhlIHByb3ZpZGVkIGF0dHJpYnV0ZXMgaW50byBhbiBJbnRlcmxlYXZlZEJ1ZmZlciBhbmQgcmV0dXJuc1xyXG4gICAgLy8gYSBzZXQgb2YgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVzIGZvciBlYWNoIGF0dHJpYnV0ZVxyXG4gICAgdmFyIFR5cGVkQXJyYXk7XHJcbiAgICB2YXIgYXJyYXlMZW5ndGggPSAwO1xyXG4gICAgdmFyIHN0cmlkZSA9IDA7XHJcblxyXG4gICAgLy8gY2FsY3VsYXRlIHRoZSB0aGUgbGVuZ3RoIGFuZCB0eXBlIG9mIHRoZSBpbnRlcmxlYXZlZEJ1ZmZlclxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xyXG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcclxuXHJcbiAgICAgIGlmIChUeXBlZEFycmF5ID09PSB1bmRlZmluZWQpIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XHJcbiAgICAgIGlmIChUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBdHRyaWJ1dGVCdWZmZXJzIG9mIGRpZmZlcmVudCB0eXBlcyBjYW5ub3QgYmUgaW50ZXJsZWF2ZWQnKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXJyYXlMZW5ndGggKz0gYXR0cmlidXRlLmFycmF5Lmxlbmd0aDtcclxuICAgICAgc3RyaWRlICs9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIHNldCBvZiBidWZmZXIgYXR0cmlidXRlc1xyXG4gICAgdmFyIGludGVybGVhdmVkQnVmZmVyID0gbmV3IEludGVybGVhdmVkQnVmZmVyKG5ldyBUeXBlZEFycmF5KGFycmF5TGVuZ3RoKSwgc3RyaWRlKTtcclxuICAgIHZhciBvZmZzZXQgPSAwO1xyXG4gICAgdmFyIHJlcyA9IFtdO1xyXG4gICAgdmFyIGdldHRlcnMgPSBbJ2dldFgnLCAnZ2V0WScsICdnZXRaJywgJ2dldFcnXTtcclxuICAgIHZhciBzZXR0ZXJzID0gWydzZXRYJywgJ3NldFknLCAnc2V0WicsICdzZXRXJ107XHJcblxyXG4gICAgZm9yICh2YXIgaiA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xyXG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcclxuICAgICAgdmFyIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xyXG4gICAgICB2YXIgY291bnQgPSBhdHRyaWJ1dGUuY291bnQ7XHJcbiAgICAgIHZhciBpYmEgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXHJcbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXIsXHJcbiAgICAgICAgaXRlbVNpemUsXHJcbiAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgIGF0dHJpYnV0ZS5ub3JtYWxpemVkXHJcbiAgICAgICk7XHJcbiAgICAgIHJlcy5wdXNoKGliYSk7XHJcblxyXG4gICAgICBvZmZzZXQgKz0gaXRlbVNpemU7XHJcblxyXG4gICAgICAvLyBNb3ZlIHRoZSBkYXRhIGZvciBlYWNoIGF0dHJpYnV0ZSBpbnRvIHRoZSBuZXcgaW50ZXJsZWF2ZWRCdWZmZXJcclxuICAgICAgLy8gYXQgdGhlIGFwcHJvcHJpYXRlIG9mZnNldFxyXG4gICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNvdW50OyBjKyspIHtcclxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGl0ZW1TaXplOyBrKyspIHtcclxuICAgICAgICAgIGliYVtzZXR0ZXJzW2tdXShjLCBhdHRyaWJ1dGVbZ2V0dGVyc1trXV0oYykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXM7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtBcnJheTxCdWZmZXJHZW9tZXRyeT59IGdlb21ldHJ5XHJcbiAgICogQHJldHVybiB7bnVtYmVyfVxyXG4gICAqL1xyXG4gIGVzdGltYXRlQnl0ZXNVc2VkOiBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcclxuICAgIC8vIFJldHVybiB0aGUgZXN0aW1hdGVkIG1lbW9yeSB1c2VkIGJ5IHRoaXMgZ2VvbWV0cnkgaW4gYnl0ZXNcclxuICAgIC8vIENhbGN1bGF0ZSB1c2luZyBpdGVtU2l6ZSwgY291bnQsIGFuZCBCWVRFU19QRVJfRUxFTUVOVCB0byBhY2NvdW50XHJcbiAgICAvLyBmb3IgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVzLlxyXG4gICAgdmFyIG1lbSA9IDA7XHJcbiAgICBmb3IgKHZhciBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgdmFyIGF0dHIgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgIG1lbSArPSBhdHRyLmNvdW50ICogYXR0ci5pdGVtU2l6ZSAqIGF0dHIuYXJyYXkuQllURVNfUEVSX0VMRU1FTlQ7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGluZGljZXMgPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xyXG4gICAgbWVtICs9IGluZGljZXMgPyBpbmRpY2VzLmNvdW50ICogaW5kaWNlcy5pdGVtU2l6ZSAqIGluZGljZXMuYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgOiAwO1xyXG4gICAgcmV0dXJuIG1lbTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2VcclxuICAgKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeT59XHJcbiAgICovXHJcbiAgbWVyZ2VWZXJ0aWNlczogZnVuY3Rpb24gKGdlb21ldHJ5LCB0b2xlcmFuY2UgPSAxZS00KSB7XHJcbiAgICB0b2xlcmFuY2UgPSBNYXRoLm1heCh0b2xlcmFuY2UsIE51bWJlci5FUFNJTE9OKTtcclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBhbiBpbmRleCBidWZmZXIgaWYgdGhlIGdlb21ldHJ5IGRvZXNuJ3QgaGF2ZSBvbmUsIG9yIG9wdGltaXplIGl0XHJcbiAgICAvLyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlLlxyXG4gICAgdmFyIGhhc2hUb0luZGV4ID0ge307XHJcbiAgICB2YXIgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XHJcbiAgICB2YXIgcG9zaXRpb25zID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO1xyXG4gICAgdmFyIHZlcnRleENvdW50ID0gaW5kaWNlcyA/IGluZGljZXMuY291bnQgOiBwb3NpdGlvbnMuY291bnQ7XHJcblxyXG4gICAgLy8gbmV4dCB2YWx1ZSBmb3IgdHJpYW5nbGUgaW5kaWNlc1xyXG4gICAgdmFyIG5leHRJbmRleCA9IDA7XHJcblxyXG4gICAgLy8gYXR0cmlidXRlcyBhbmQgbmV3IGF0dHJpYnV0ZSBhcnJheXNcclxuICAgIHZhciBhdHRyaWJ1dGVOYW1lcyA9IE9iamVjdC5rZXlzKGdlb21ldHJ5LmF0dHJpYnV0ZXMpO1xyXG4gICAgdmFyIGF0dHJBcnJheXMgPSB7fTtcclxuICAgIHZhciBtb3JwaEF0dHJzQXJyYXlzID0ge307XHJcbiAgICB2YXIgbmV3SW5kaWNlcyA9IFtdO1xyXG4gICAgdmFyIGdldHRlcnMgPSBbJ2dldFgnLCAnZ2V0WScsICdnZXRaJywgJ2dldFcnXTtcclxuXHJcbiAgICAvLyBpbml0aWFsaXplIHRoZSBhcnJheXNcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZXNbaV07XHJcblxyXG4gICAgICBhdHRyQXJyYXlzW25hbWVdID0gW107XHJcblxyXG4gICAgICB2YXIgbW9ycGhBdHRyID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdO1xyXG4gICAgICBpZiAobW9ycGhBdHRyKSB7XHJcbiAgICAgICAgbW9ycGhBdHRyc0FycmF5c1tuYW1lXSA9IG5ldyBBcnJheShtb3JwaEF0dHIubGVuZ3RoKS5maWxsKCkubWFwKCgpID0+IFtdKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnZlcnQgdGhlIGVycm9yIHRvbGVyYW5jZSB0byBhbiBhbW91bnQgb2YgZGVjaW1hbCBwbGFjZXMgdG8gdHJ1bmNhdGUgdG9cclxuICAgIHZhciBkZWNpbWFsU2hpZnQgPSBNYXRoLmxvZzEwKDEgLyB0b2xlcmFuY2UpO1xyXG4gICAgdmFyIHNoaWZ0TXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBkZWNpbWFsU2hpZnQpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgaSsrKSB7XHJcbiAgICAgIHZhciBpbmRleCA9IGluZGljZXMgPyBpbmRpY2VzLmdldFgoaSkgOiBpO1xyXG5cclxuICAgICAgLy8gR2VuZXJhdGUgYSBoYXNoIGZvciB0aGUgdmVydGV4IGF0dHJpYnV0ZXMgYXQgdGhlIGN1cnJlbnQgaW5kZXggJ2knXHJcbiAgICAgIHZhciBoYXNoID0gJyc7XHJcbiAgICAgIGZvciAodmFyIGogPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XHJcbiAgICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1tqXTtcclxuICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKG5hbWUpO1xyXG4gICAgICAgIHZhciBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBpdGVtU2l6ZTsgaysrKSB7XHJcbiAgICAgICAgICAvLyBkb3VibGUgdGlsZGUgdHJ1bmNhdGVzIHRoZSBkZWNpbWFsIHZhbHVlXHJcbiAgICAgICAgICBoYXNoICs9IGAke35+KGF0dHJpYnV0ZVtnZXR0ZXJzW2tdXShpbmRleCkgKiBzaGlmdE11bHRpcGxpZXIpfSxgO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQWRkIGFub3RoZXIgcmVmZXJlbmNlIHRvIHRoZSB2ZXJ0ZXggaWYgaXQncyBhbHJlYWR5XHJcbiAgICAgIC8vIHVzZWQgYnkgYW5vdGhlciBpbmRleFxyXG4gICAgICBpZiAoaGFzaCBpbiBoYXNoVG9JbmRleCkge1xyXG4gICAgICAgIG5ld0luZGljZXMucHVzaChoYXNoVG9JbmRleFtoYXNoXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY29weSBkYXRhIHRvIHRoZSBuZXcgaW5kZXggaW4gdGhlIGF0dHJpYnV0ZSBhcnJheXNcclxuICAgICAgICBmb3IgKHZhciBqID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xyXG4gICAgICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1tqXTtcclxuICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgICAgICB2YXIgbW9ycGhBdHRyID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdO1xyXG4gICAgICAgICAgdmFyIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xyXG4gICAgICAgICAgdmFyIG5ld2FycmF5ID0gYXR0ckFycmF5c1tuYW1lXTtcclxuICAgICAgICAgIHZhciBuZXdNb3JwaEFycmF5cyA9IG1vcnBoQXR0cnNBcnJheXNbbmFtZV07XHJcblxyXG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBpdGVtU2l6ZTsgaysrKSB7XHJcbiAgICAgICAgICAgIHZhciBnZXR0ZXJGdW5jID0gZ2V0dGVyc1trXTtcclxuICAgICAgICAgICAgbmV3YXJyYXkucHVzaChhdHRyaWJ1dGVbZ2V0dGVyRnVuY10oaW5kZXgpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtb3JwaEF0dHIpIHtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBtID0gMCwgbWwgPSBtb3JwaEF0dHIubGVuZ3RoOyBtIDwgbWw7IG0rKykge1xyXG4gICAgICAgICAgICAgICAgbmV3TW9ycGhBcnJheXNbbV0ucHVzaChtb3JwaEF0dHJbbV1bZ2V0dGVyRnVuY10oaW5kZXgpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhc2hUb0luZGV4W2hhc2hdID0gbmV4dEluZGV4O1xyXG4gICAgICAgIG5ld0luZGljZXMucHVzaChuZXh0SW5kZXgpO1xyXG4gICAgICAgIG5leHRJbmRleCsrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgdHlwZWQgYXJyYXlzIGZyb20gbmV3IGF0dHJpYnV0ZSBhcnJheXMgYW5kIHVwZGF0ZVxyXG4gICAgLy8gdGhlIGF0dHJpYnV0ZUJ1ZmZlcnNcclxuICAgIGNvbnN0IHJlc3VsdCA9IGdlb21ldHJ5LmNsb25lKCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xyXG4gICAgICB2YXIgb2xkQXR0cmlidXRlID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKG5hbWUpO1xyXG5cclxuICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBvbGRBdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IoYXR0ckFycmF5c1tuYW1lXSk7XHJcbiAgICAgIHZhciBhdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKGJ1ZmZlciwgb2xkQXR0cmlidXRlLml0ZW1TaXplLCBvbGRBdHRyaWJ1dGUubm9ybWFsaXplZCk7XHJcblxyXG4gICAgICByZXN1bHQuc2V0QXR0cmlidXRlKG5hbWUsIGF0dHJpYnV0ZSk7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIGF0dHJpYnV0ZSBhcnJheXNcclxuICAgICAgaWYgKG5hbWUgaW4gbW9ycGhBdHRyc0FycmF5cykge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9ycGhBdHRyc0FycmF5c1tuYW1lXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgdmFyIG9sZE1vcnBoQXR0cmlidXRlID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdW2pdO1xyXG5cclxuICAgICAgICAgIHZhciBidWZmZXIgPSBuZXcgb2xkTW9ycGhBdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IobW9ycGhBdHRyc0FycmF5c1tuYW1lXVtqXSk7XHJcbiAgICAgICAgICB2YXIgbW9ycGhBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxyXG4gICAgICAgICAgICBidWZmZXIsXHJcbiAgICAgICAgICAgIG9sZE1vcnBoQXR0cmlidXRlLml0ZW1TaXplLFxyXG4gICAgICAgICAgICBvbGRNb3JwaEF0dHJpYnV0ZS5ub3JtYWxpemVkXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmVzdWx0Lm1vcnBoQXR0cmlidXRlc1tuYW1lXVtqXSA9IG1vcnBoQXR0cmlidXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGluZGljZXNcclxuXHJcbiAgICByZXN1bHQuc2V0SW5kZXgobmV3SW5kaWNlcyk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkcmF3TW9kZVxyXG4gICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5Pn1cclxuICAgKi9cclxuICB0b1RyaWFuZ2xlc0RyYXdNb2RlOiBmdW5jdGlvbiAoZ2VvbWV0cnksIGRyYXdNb2RlKSB7XHJcbiAgICBpZiAoZHJhd01vZGUgPT09IFRyaWFuZ2xlc0RyYXdNb2RlKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IEdlb21ldHJ5IGFscmVhZHkgZGVmaW5lZCBhcyB0cmlhbmdsZXMuJ1xyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlIHx8IGRyYXdNb2RlID09PSBUcmlhbmdsZVN0cmlwRHJhd01vZGUpIHtcclxuICAgICAgdmFyIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcclxuXHJcbiAgICAgIC8vIGdlbmVyYXRlIGluZGV4IGlmIG5vdCBwcmVzZW50XHJcblxyXG4gICAgICBpZiAoaW5kZXggPT09IG51bGwpIHtcclxuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgcG9zaXRpb24gPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGdlb21ldHJ5LnNldEluZGV4KGluZGljZXMpO1xyXG4gICAgICAgICAgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuZGVmaW5lZCBwb3NpdGlvbiBhdHRyaWJ1dGUuIFByb2Nlc3Npbmcgbm90IHBvc3NpYmxlLidcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvL1xyXG5cclxuICAgICAgdmFyIG51bWJlck9mVHJpYW5nbGVzID0gaW5kZXguY291bnQgLSAyO1xyXG4gICAgICB2YXIgbmV3SW5kaWNlcyA9IFtdO1xyXG5cclxuICAgICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlKSB7XHJcbiAgICAgICAgLy8gZ2wuVFJJQU5HTEVfRkFOXHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG51bWJlck9mVHJpYW5nbGVzOyBpKyspIHtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKDApKTtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGdsLlRSSUFOR0xFX1NUUklQXHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcclxuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuZXdJbmRpY2VzLmxlbmd0aCAvIDMgIT09IG51bWJlck9mVHJpYW5nbGVzKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5hYmxlIHRvIGdlbmVyYXRlIGNvcnJlY3QgYW1vdW50IG9mIHRyaWFuZ2xlcy4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gYnVpbGQgZmluYWwgZ2VvbWV0cnlcclxuXHJcbiAgICAgIHZhciBuZXdHZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XHJcbiAgICAgIG5ld0dlb21ldHJ5LnNldEluZGV4KG5ld0luZGljZXMpO1xyXG4gICAgICBuZXdHZW9tZXRyeS5jbGVhckdyb3VwcygpO1xyXG5cclxuICAgICAgcmV0dXJuIG5ld0dlb21ldHJ5O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmtub3duIGRyYXcgbW9kZTonLCBkcmF3TW9kZSk7XHJcbiAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCB7IEJ1ZmZlckdlb21ldHJ5VXRpbHMgfTtcclxuIiwiLyoqXHJcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXHJcbiAqIEBhdXRob3IgbXIuZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBjYW52YXM6ICEhd2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcclxuICB3ZWJnbDogKGZ1bmN0aW9uKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG5cclxuICAgICAgcmV0dXJuICEhKHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgJiYgKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKSkpO1xyXG4gICAgfSBjYXRjaChlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9KSgpLFxyXG5cclxuICB3b3JrZXJzOiAhIXdpbmRvdy5Xb3JrZXIsXHJcbiAgZmlsZWFwaTogd2luZG93LkZpbGUgJiYgd2luZG93LkZpbGVSZWFkZXIgJiYgd2luZG93LkZpbGVMaXN0ICYmIHdpbmRvdy5CbG9iLFxyXG5cclxuICBnZXRXZWJHTEVycm9yTWVzc2FnZTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZWxlbWVudC5pZCA9ICd3ZWJnbC1lcnJvci1tZXNzYWdlJztcclxuICAgIGVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9ICdtb25vc3BhY2UnO1xyXG4gICAgZWxlbWVudC5zdHlsZS5mb250U2l6ZSA9ICcxM3B4JztcclxuICAgIGVsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgZWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICcjZmZmJztcclxuICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzAwMCc7XHJcbiAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmcgPSAnMS41ZW0nO1xyXG4gICAgZWxlbWVudC5zdHlsZS53aWR0aCA9ICc0MDBweCc7XHJcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpbiA9ICc1ZW0gYXV0byAwJztcclxuXHJcbiAgICBpZighdGhpcy53ZWJnbCkge1xyXG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgPyBbXHJcbiAgICAgICAgJ1lvdXIgZ3JhcGhpY3MgY2FyZCBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIgLz4nLFxyXG4gICAgICAgICdGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5oZXJlPC9hPi4nXHJcbiAgICAgIF0uam9pbignXFxuJykgOiBbXHJcbiAgICAgICAgJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIvPicsXHJcbiAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LidcclxuICAgICAgXS5qb2luKCdcXG4nKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9LFxyXG5cclxuICBhZGRHZXRXZWJHTE1lc3NhZ2U6IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcclxuICAgIHZhciBwYXJlbnQsIGlkLCBlbGVtZW50O1xyXG5cclxuICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIHx8IHt9O1xyXG5cclxuICAgIHBhcmVudCA9IHBhcmFtZXRlcnMucGFyZW50ICE9PSB1bmRlZmluZWQgPyBwYXJhbWV0ZXJzLnBhcmVudCA6IGRvY3VtZW50LmJvZHk7XHJcbiAgICBpZCA9IHBhcmFtZXRlcnMuaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiAnb2xkaWUnO1xyXG5cclxuICAgIGVsZW1lbnQgPSB0aGlzLmdldFdlYkdMRXJyb3JNZXNzYWdlKCk7XHJcbiAgICBlbGVtZW50LmlkID0gaWQ7XHJcblxyXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIH1cclxufTtcclxuIiwiLy8gUHJvdmlkZXMgc2ltcGxlIHN0YXRpYyBmdW5jdGlvbnMgdGhhdCBhcmUgdXNlZCBtdWx0aXBsZSB0aW1lcyBpbiB0aGUgYXBwXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlbHBlcnMge1xyXG4gIHN0YXRpYyB0aHJvdHRsZShmbiwgdGhyZXNoaG9sZCwgc2NvcGUpIHtcclxuICAgIHRocmVzaGhvbGQgfHwgKHRocmVzaGhvbGQgPSAyNTApO1xyXG4gICAgbGV0IGxhc3QsIGRlZmVyVGltZXI7XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBjb250ZXh0ID0gc2NvcGUgfHwgdGhpcztcclxuXHJcbiAgICAgIGNvbnN0IG5vdyAgPSArbmV3IERhdGUsXHJcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgIGlmKGxhc3QgJiYgbm93IDwgbGFzdCArIHRocmVzaGhvbGQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQoZGVmZXJUaW1lcik7XHJcbiAgICAgICAgZGVmZXJUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBsYXN0ID0gbm93O1xyXG4gICAgICAgICAgZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgICAgfSwgdGhyZXNoaG9sZCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgbGFzdCA9IG5vdztcclxuICAgICAgICBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBsb2dQcm9ncmVzcygpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbih4aHIpIHtcclxuICAgICAgaWYoeGhyLmxlbmd0aENvbXB1dGFibGUpIHtcclxuICAgICAgICBjb25zdCBwZXJjZW50Q29tcGxldGUgPSB4aHIubG9hZGVkIC8geGhyLnRvdGFsICogMTAwO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhNYXRoLnJvdW5kKHBlcmNlbnRDb21wbGV0ZSwgMikgKyAnJSBkb3dubG9hZGVkJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBsb2dFcnJvcigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbih4aHIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcih4aHIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGhhbmRsZUNvbG9yQ2hhbmdlKGNvbG9yKSB7XHJcbiAgICByZXR1cm4gKHZhbHVlKSA9PiB7XHJcbiAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJyMnLCAnMHgnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29sb3Iuc2V0SGV4KHZhbHVlKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdXBkYXRlKG1lc2gpIHtcclxuICAgIHRoaXMubmVlZHNVcGRhdGUobWVzaC5tYXRlcmlhbCwgbWVzaC5nZW9tZXRyeSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgbmVlZHNVcGRhdGUobWF0ZXJpYWwsIGdlb21ldHJ5KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIG1hdGVyaWFsLnNoYWRpbmcgPSArbWF0ZXJpYWwuc2hhZGluZzsgLy9FbnN1cmUgbnVtYmVyXHJcbiAgICAgIG1hdGVyaWFsLnZlcnRleENvbG9ycyA9ICttYXRlcmlhbC52ZXJ0ZXhDb2xvcnM7IC8vRW5zdXJlIG51bWJlclxyXG4gICAgICBtYXRlcmlhbC5zaWRlID0gK21hdGVyaWFsLnNpZGU7IC8vRW5zdXJlIG51bWJlclxyXG4gICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgIGdlb21ldHJ5LnZlcnRpY2VzTmVlZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgIGdlb21ldHJ5Lm5vcm1hbHNOZWVkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgZ2VvbWV0cnkuY29sb3JzTmVlZFVwZGF0ZSA9IHRydWU7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHVwZGF0ZVRleHR1cmUobWF0ZXJpYWwsIG1hdGVyaWFsS2V5LCB0ZXh0dXJlcykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICBtYXRlcmlhbFttYXRlcmlhbEtleV0gPSB0ZXh0dXJlc1trZXldO1xyXG4gICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG4iLCJjb25zdCBBTElBUyA9IHtcclxuICAnbGVmdCdcdFx0OiAzNyxcclxuICAndXAnXHRcdCAgOiAzOCxcclxuICAncmlnaHQnXHRcdDogMzksXHJcbiAgJ2Rvd24nXHRcdDogNDAsXHJcbiAgJ3NwYWNlJ1x0XHQ6IDMyLFxyXG4gICd0YWInXHRcdCAgOiA5LFxyXG4gICdlc2NhcGUnXHQ6IDI3XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlib2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZG9tRWxlbWVudCkge1xyXG4gICAgdGhpcy5kb21FbGVtZW50ID0gZG9tRWxlbWVudCB8fCBkb2N1bWVudDtcclxuICAgIHRoaXMua2V5Q29kZXMgPSB7fTtcclxuXHJcbiAgICAvLyBiaW5kIGtleUV2ZW50c1xyXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLCBmYWxzZSk7XHJcblxyXG4gICAgLy8gYmluZCB3aW5kb3cgYmx1clxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0aGlzLm9uQmx1ciwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSwgZmFsc2UpO1xyXG4gICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSwgZmFsc2UpO1xyXG5cclxuICAgIC8vIHVuYmluZCB3aW5kb3cgYmx1ciBldmVudFxyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0aGlzLm9uQmx1ciwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgb25CbHVyKCkge1xyXG4gICAgZm9yKGNvbnN0IHByb3AgaW4gdGhpcy5rZXlDb2RlcylcclxuICAgICAgdGhpcy5rZXlDb2Rlc1twcm9wXSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgb25LZXlDaGFuZ2UoZXZlbnQpIHtcclxuICAgIC8vIGxvZyB0byBkZWJ1Z1xyXG4gICAgLy9jb25zb2xlLmxvZygnb25LZXlDaGFuZ2UnLCBldmVudCwgZXZlbnQua2V5Q29kZSwgZXZlbnQuc2hpZnRLZXksIGV2ZW50LmN0cmxLZXksIGV2ZW50LmFsdEtleSwgZXZlbnQubWV0YUtleSlcclxuXHJcbiAgICAvLyB1cGRhdGUgdGhpcy5rZXlDb2Rlc1xyXG4gICAgY29uc3Qga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XHJcbiAgICB0aGlzLmtleUNvZGVzW2tleUNvZGVdID0gZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nO1xyXG4gIH1cclxuXHJcbiAgcHJlc3NlZChrZXlEZXNjKSB7XHJcbiAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5zcGxpdCgnKycpO1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgbGV0IHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgaWYoT2JqZWN0LmtleXMoQUxJQVMpLmluZGV4T2Yoa2V5KSAhPSAtMSkge1xyXG4gICAgICAgIHByZXNzZWQgPSB0aGlzLmtleUNvZGVzW0FMSUFTW2tleV1dO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHByZXNzZWQgPSB0aGlzLmtleUNvZGVzW2tleS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCldO1xyXG4gICAgICB9XHJcbiAgICAgIGlmKCFwcmVzc2VkKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGV2ZW50TWF0Y2hlcyhldmVudCwga2V5RGVzYykge1xyXG4gICAgY29uc3QgYWxpYXNlcyA9IEFMSUFTO1xyXG4gICAgY29uc3QgYWxpYXNLZXlzID0gT2JqZWN0LmtleXMoYWxpYXNlcyk7XHJcbiAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5zcGxpdCgnKycpO1xyXG4gICAgLy8gbG9nIHRvIGRlYnVnXHJcbiAgICAvLyBjb25zb2xlLmxvZygnZXZlbnRNYXRjaGVzJywgZXZlbnQsIGV2ZW50LmtleUNvZGUsIGV2ZW50LnNoaWZ0S2V5LCBldmVudC5jdHJsS2V5LCBldmVudC5hbHRLZXksIGV2ZW50Lm1ldGFLZXkpXHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICBsZXQgcHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICBpZihrZXkgPT09ICdzaGlmdCcpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQuc2hpZnRLZXkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgIH0gZWxzZSBpZihrZXkgPT09ICdjdHJsJykge1xyXG4gICAgICAgIHByZXNzZWQgPSBldmVudC5jdHJsS2V5ID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYoa2V5ID09PSAnYWx0Jykge1xyXG4gICAgICAgIHByZXNzZWQgPSBldmVudC5hbHRLZXkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgIH0gZWxzZSBpZihrZXkgPT09ICdtZXRhJykge1xyXG4gICAgICAgIHByZXNzZWQgPSBldmVudC5tZXRhS2V5ID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYoYWxpYXNLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQua2V5Q29kZSA9PT0gYWxpYXNlc1trZXldO1xyXG4gICAgICB9IGVsc2UgaWYoZXZlbnQua2V5Q29kZSA9PT0ga2V5LnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKSkge1xyXG4gICAgICAgIHByZXNzZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmKCFwcmVzc2VkKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn1cclxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVEhSRUUpIHtcclxuICB2YXIgTU9VU0UgPSBUSFJFRS5NT1VTRTtcclxuICBpZiAoIU1PVVNFKSBNT1VTRSA9IHsgTEVGVDogMCwgTUlERExFOiAxLCBSSUdIVDogMiB9O1xyXG5cclxuICAvKipcclxuICAgKiBAYXV0aG9yIHFpYW8gLyBodHRwczovL2dpdGh1Yi5jb20vcWlhb1xyXG4gICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb21cclxuICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xyXG4gICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleVxyXG4gICAqIEBhdXRob3IgZXJpY2g2NjYgLyBodHRwOi8vZXJpY2hhaW5lcy5jb21cclxuICAgKi9cclxuICAvKmdsb2JhbCBUSFJFRSwgY29uc29sZSAqL1xyXG5cclxuICBmdW5jdGlvbiBPcmJpdENvbnN0cmFpbnQob2JqZWN0KSB7XHJcbiAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcclxuXHJcbiAgICAvLyBcInRhcmdldFwiIHNldHMgdGhlIGxvY2F0aW9uIG9mIGZvY3VzLCB3aGVyZSB0aGUgb2JqZWN0IG9yYml0cyBhcm91bmRcclxuICAgIC8vIGFuZCB3aGVyZSBpdCBwYW5zIHdpdGggcmVzcGVjdCB0by5cclxuICAgIHRoaXMudGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuXHJcbiAgICAvLyBMaW1pdHMgdG8gaG93IGZhciB5b3UgY2FuIGRvbGx5IGluIGFuZCBvdXQgKCBQZXJzcGVjdGl2ZUNhbWVyYSBvbmx5IClcclxuICAgIHRoaXMubWluRGlzdGFuY2UgPSAwO1xyXG4gICAgdGhpcy5tYXhEaXN0YW5jZSA9IEluZmluaXR5O1xyXG5cclxuICAgIC8vIExpbWl0cyB0byBob3cgZmFyIHlvdSBjYW4gem9vbSBpbiBhbmQgb3V0ICggT3J0aG9ncmFwaGljQ2FtZXJhIG9ubHkgKVxyXG4gICAgdGhpcy5taW5ab29tID0gMDtcclxuICAgIHRoaXMubWF4Wm9vbSA9IEluZmluaXR5O1xyXG5cclxuICAgIC8vIEhvdyBmYXIgeW91IGNhbiBvcmJpdCB2ZXJ0aWNhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxyXG4gICAgLy8gUmFuZ2UgaXMgMCB0byBNYXRoLlBJIHJhZGlhbnMuXHJcbiAgICB0aGlzLm1pblBvbGFyQW5nbGUgPSAwOyAvLyByYWRpYW5zXHJcbiAgICB0aGlzLm1heFBvbGFyQW5nbGUgPSBNYXRoLlBJOyAvLyByYWRpYW5zXHJcblxyXG4gICAgLy8gSG93IGZhciB5b3UgY2FuIG9yYml0IGhvcml6b250YWxseSwgdXBwZXIgYW5kIGxvd2VyIGxpbWl0cy5cclxuICAgIC8vIElmIHNldCwgbXVzdCBiZSBhIHN1Yi1pbnRlcnZhbCBvZiB0aGUgaW50ZXJ2YWwgWyAtIE1hdGguUEksIE1hdGguUEkgXS5cclxuICAgIHRoaXMubWluQXppbXV0aEFuZ2xlID0gLUluZmluaXR5OyAvLyByYWRpYW5zXHJcbiAgICB0aGlzLm1heEF6aW11dGhBbmdsZSA9IEluZmluaXR5OyAvLyByYWRpYW5zXHJcblxyXG4gICAgLy8gU2V0IHRvIHRydWUgdG8gZW5hYmxlIGRhbXBpbmcgKGluZXJ0aWEpXHJcbiAgICAvLyBJZiBkYW1waW5nIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxyXG4gICAgdGhpcy5lbmFibGVEYW1waW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmRhbXBpbmdGYWN0b3IgPSAwLjI1O1xyXG5cclxuICAgIC8vLy8vLy8vLy8vL1xyXG4gICAgLy8gaW50ZXJuYWxzXHJcblxyXG4gICAgdmFyIHNjb3BlID0gdGhpcztcclxuXHJcbiAgICB2YXIgRVBTID0gMC4wMDAwMDE7XHJcblxyXG4gICAgLy8gQ3VycmVudCBwb3NpdGlvbiBpbiBzcGhlcmljYWwgY29vcmRpbmF0ZSBzeXN0ZW0uXHJcbiAgICB2YXIgdGhldGE7XHJcbiAgICB2YXIgcGhpO1xyXG5cclxuICAgIC8vIFBlbmRpbmcgY2hhbmdlc1xyXG4gICAgdmFyIHBoaURlbHRhID0gMDtcclxuICAgIHZhciB0aGV0YURlbHRhID0gMDtcclxuICAgIHZhciBzY2FsZSA9IDE7XHJcbiAgICB2YXIgcGFuT2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgIHZhciB6b29tQ2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEFQSVxyXG5cclxuICAgIHRoaXMuZ2V0UG9sYXJBbmdsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHBoaTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRBemltdXRoYWxBbmdsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHRoZXRhO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJvdGF0ZUxlZnQgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgdGhldGFEZWx0YSAtPSBhbmdsZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yb3RhdGVVcCA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICBwaGlEZWx0YSAtPSBhbmdsZTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gcGFzcyBpbiBkaXN0YW5jZSBpbiB3b3JsZCBzcGFjZSB0byBtb3ZlIGxlZnRcclxuICAgIHRoaXMucGFuTGVmdCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBwYW5MZWZ0KGRpc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIHRlID0gdGhpcy5vYmplY3QubWF0cml4LmVsZW1lbnRzO1xyXG5cclxuICAgICAgICAvLyBnZXQgWCBjb2x1bW4gb2YgbWF0cml4XHJcbiAgICAgICAgdi5zZXQodGVbMF0sIHRlWzFdLCB0ZVsyXSk7XHJcbiAgICAgICAgdi5tdWx0aXBseVNjYWxhcigtZGlzdGFuY2UpO1xyXG5cclxuICAgICAgICBwYW5PZmZzZXQuYWRkKHYpO1xyXG4gICAgICB9O1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvLyBwYXNzIGluIGRpc3RhbmNlIGluIHdvcmxkIHNwYWNlIHRvIG1vdmUgdXBcclxuICAgIHRoaXMucGFuVXAgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gcGFuVXAoZGlzdGFuY2UpIHtcclxuICAgICAgICB2YXIgdGUgPSB0aGlzLm9iamVjdC5tYXRyaXguZWxlbWVudHM7XHJcblxyXG4gICAgICAgIC8vIGdldCBZIGNvbHVtbiBvZiBtYXRyaXhcclxuICAgICAgICB2LnNldCh0ZVs0XSwgdGVbNV0sIHRlWzZdKTtcclxuICAgICAgICB2Lm11bHRpcGx5U2NhbGFyKGRpc3RhbmNlKTtcclxuXHJcbiAgICAgICAgcGFuT2Zmc2V0LmFkZCh2KTtcclxuICAgICAgfTtcclxuICAgIH0pKCk7XHJcblxyXG4gICAgLy8gcGFzcyBpbiB4LHkgb2YgY2hhbmdlIGRlc2lyZWQgaW4gcGl4ZWwgc3BhY2UsXHJcbiAgICAvLyByaWdodCBhbmQgZG93biBhcmUgcG9zaXRpdmVcclxuICAgIHRoaXMucGFuID0gZnVuY3Rpb24gKGRlbHRhWCwgZGVsdGFZLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XHJcbiAgICAgIGlmIChzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSkge1xyXG4gICAgICAgIC8vIHBlcnNwZWN0aXZlXHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSBwb3NpdGlvbi5jbG9uZSgpLnN1YihzY29wZS50YXJnZXQpO1xyXG4gICAgICAgIHZhciB0YXJnZXREaXN0YW5jZSA9IG9mZnNldC5sZW5ndGgoKTtcclxuXHJcbiAgICAgICAgLy8gaGFsZiBvZiB0aGUgZm92IGlzIGNlbnRlciB0byB0b3Agb2Ygc2NyZWVuXHJcbiAgICAgICAgdGFyZ2V0RGlzdGFuY2UgKj0gTWF0aC50YW4oKChzY29wZS5vYmplY3QuZm92IC8gMikgKiBNYXRoLlBJKSAvIDE4MC4wKTtcclxuXHJcbiAgICAgICAgLy8gd2UgYWN0dWFsbHkgZG9uJ3QgdXNlIHNjcmVlbldpZHRoLCBzaW5jZSBwZXJzcGVjdGl2ZSBjYW1lcmEgaXMgZml4ZWQgdG8gc2NyZWVuIGhlaWdodFxyXG4gICAgICAgIHNjb3BlLnBhbkxlZnQoKDIgKiBkZWx0YVggKiB0YXJnZXREaXN0YW5jZSkgLyBzY3JlZW5IZWlnaHQpO1xyXG4gICAgICAgIHNjb3BlLnBhblVwKCgyICogZGVsdGFZICogdGFyZ2V0RGlzdGFuY2UpIC8gc2NyZWVuSGVpZ2h0KTtcclxuICAgICAgfSBlbHNlIGlmIChzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpIHtcclxuICAgICAgICAvLyBvcnRob2dyYXBoaWNcclxuICAgICAgICBzY29wZS5wYW5MZWZ0KChkZWx0YVggKiAoc2NvcGUub2JqZWN0LnJpZ2h0IC0gc2NvcGUub2JqZWN0LmxlZnQpKSAvIHNjcmVlbldpZHRoKTtcclxuICAgICAgICBzY29wZS5wYW5VcCgoZGVsdGFZICogKHNjb3BlLm9iamVjdC50b3AgLSBzY29wZS5vYmplY3QuYm90dG9tKSkgLyBzY3JlZW5IZWlnaHQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNhbWVyYSBuZWl0aGVyIG9ydGhvZ3JhcGhpYyBvciBwZXJzcGVjdGl2ZVxyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBwYW4gZGlzYWJsZWQuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kb2xseUluID0gZnVuY3Rpb24gKGRvbGx5U2NhbGUpIHtcclxuICAgICAgaWYgKHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKSB7XHJcbiAgICAgICAgc2NhbGUgLz0gZG9sbHlTY2FsZTtcclxuICAgICAgfSBlbHNlIGlmIChzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpIHtcclxuICAgICAgICBzY29wZS5vYmplY3Quem9vbSA9IE1hdGgubWF4KFxyXG4gICAgICAgICAgdGhpcy5taW5ab29tLFxyXG4gICAgICAgICAgTWF0aC5taW4odGhpcy5tYXhab29tLCB0aGlzLm9iamVjdC56b29tICogZG9sbHlTY2FsZSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgICAgem9vbUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLidcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZG9sbHlPdXQgPSBmdW5jdGlvbiAoZG9sbHlTY2FsZSkge1xyXG4gICAgICBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpIHtcclxuICAgICAgICBzY2FsZSAqPSBkb2xseVNjYWxlO1xyXG4gICAgICB9IGVsc2UgaWYgKHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkge1xyXG4gICAgICAgIHNjb3BlLm9iamVjdC56b29tID0gTWF0aC5tYXgoXHJcbiAgICAgICAgICB0aGlzLm1pblpvb20sXHJcbiAgICAgICAgICBNYXRoLm1pbih0aGlzLm1heFpvb20sIHRoaXMub2JqZWN0Lnpvb20gLyBkb2xseVNjYWxlKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc2NvcGUub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgICAgICB6b29tQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgb2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuXHJcbiAgICAgIC8vIHNvIGNhbWVyYS51cCBpcyB0aGUgb3JiaXQgYXhpc1xyXG4gICAgICB2YXIgcXVhdCA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCkuc2V0RnJvbVVuaXRWZWN0b3JzKG9iamVjdC51cCwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMCkpO1xyXG4gICAgICB2YXIgcXVhdEludmVyc2UgPSBxdWF0LmNsb25lKCkuaW52ZXJzZSgpO1xyXG5cclxuICAgICAgdmFyIGxhc3RQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbiAgICAgIHZhciBsYXN0UXVhdGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMub2JqZWN0LnBvc2l0aW9uO1xyXG5cclxuICAgICAgICBvZmZzZXQuY29weShwb3NpdGlvbikuc3ViKHRoaXMudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgLy8gcm90YXRlIG9mZnNldCB0byBcInktYXhpcy1pcy11cFwiIHNwYWNlXHJcbiAgICAgICAgb2Zmc2V0LmFwcGx5UXVhdGVybmlvbihxdWF0KTtcclxuXHJcbiAgICAgICAgLy8gYW5nbGUgZnJvbSB6LWF4aXMgYXJvdW5kIHktYXhpc1xyXG5cclxuICAgICAgICB0aGV0YSA9IE1hdGguYXRhbjIob2Zmc2V0LngsIG9mZnNldC56KTtcclxuXHJcbiAgICAgICAgLy8gYW5nbGUgZnJvbSB5LWF4aXNcclxuXHJcbiAgICAgICAgcGhpID0gTWF0aC5hdGFuMihNYXRoLnNxcnQob2Zmc2V0LnggKiBvZmZzZXQueCArIG9mZnNldC56ICogb2Zmc2V0LnopLCBvZmZzZXQueSk7XHJcblxyXG4gICAgICAgIHRoZXRhICs9IHRoZXRhRGVsdGE7XHJcbiAgICAgICAgcGhpICs9IHBoaURlbHRhO1xyXG5cclxuICAgICAgICAvLyByZXN0cmljdCB0aGV0YSB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXHJcbiAgICAgICAgdGhldGEgPSBNYXRoLm1heCh0aGlzLm1pbkF6aW11dGhBbmdsZSwgTWF0aC5taW4odGhpcy5tYXhBemltdXRoQW5nbGUsIHRoZXRhKSk7XHJcblxyXG4gICAgICAgIC8vIHJlc3RyaWN0IHBoaSB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXHJcbiAgICAgICAgcGhpID0gTWF0aC5tYXgodGhpcy5taW5Qb2xhckFuZ2xlLCBNYXRoLm1pbih0aGlzLm1heFBvbGFyQW5nbGUsIHBoaSkpO1xyXG5cclxuICAgICAgICAvLyByZXN0cmljdCBwaGkgdG8gYmUgYmV0d2VlIEVQUyBhbmQgUEktRVBTXHJcbiAgICAgICAgcGhpID0gTWF0aC5tYXgoRVBTLCBNYXRoLm1pbihNYXRoLlBJIC0gRVBTLCBwaGkpKTtcclxuXHJcbiAgICAgICAgdmFyIHJhZGl1cyA9IG9mZnNldC5sZW5ndGgoKSAqIHNjYWxlO1xyXG5cclxuICAgICAgICAvLyByZXN0cmljdCByYWRpdXMgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xyXG4gICAgICAgIHJhZGl1cyA9IE1hdGgubWF4KHRoaXMubWluRGlzdGFuY2UsIE1hdGgubWluKHRoaXMubWF4RGlzdGFuY2UsIHJhZGl1cykpO1xyXG5cclxuICAgICAgICAvLyBtb3ZlIHRhcmdldCB0byBwYW5uZWQgbG9jYXRpb25cclxuICAgICAgICB0aGlzLnRhcmdldC5hZGQocGFuT2Zmc2V0KTtcclxuXHJcbiAgICAgICAgb2Zmc2V0LnggPSByYWRpdXMgKiBNYXRoLnNpbihwaGkpICogTWF0aC5zaW4odGhldGEpO1xyXG4gICAgICAgIG9mZnNldC55ID0gcmFkaXVzICogTWF0aC5jb3MocGhpKTtcclxuICAgICAgICBvZmZzZXQueiA9IHJhZGl1cyAqIE1hdGguc2luKHBoaSkgKiBNYXRoLmNvcyh0aGV0YSk7XHJcblxyXG4gICAgICAgIC8vIHJvdGF0ZSBvZmZzZXQgYmFjayB0byBcImNhbWVyYS11cC12ZWN0b3ItaXMtdXBcIiBzcGFjZVxyXG4gICAgICAgIG9mZnNldC5hcHBseVF1YXRlcm5pb24ocXVhdEludmVyc2UpO1xyXG5cclxuICAgICAgICBwb3NpdGlvbi5jb3B5KHRoaXMudGFyZ2V0KS5hZGQob2Zmc2V0KTtcclxuXHJcbiAgICAgICAgdGhpcy5vYmplY3QubG9va0F0KHRoaXMudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlRGFtcGluZyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgdGhldGFEZWx0YSAqPSAxIC0gdGhpcy5kYW1waW5nRmFjdG9yO1xyXG4gICAgICAgICAgcGhpRGVsdGEgKj0gMSAtIHRoaXMuZGFtcGluZ0ZhY3RvcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhldGFEZWx0YSA9IDA7XHJcbiAgICAgICAgICBwaGlEZWx0YSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY2FsZSA9IDE7XHJcbiAgICAgICAgcGFuT2Zmc2V0LnNldCgwLCAwLCAwKTtcclxuXHJcbiAgICAgICAgLy8gdXBkYXRlIGNvbmRpdGlvbiBpczpcclxuICAgICAgICAvLyBtaW4oY2FtZXJhIGRpc3BsYWNlbWVudCwgY2FtZXJhIHJvdGF0aW9uIGluIHJhZGlhbnMpXjIgPiBFUFNcclxuICAgICAgICAvLyB1c2luZyBzbWFsbC1hbmdsZSBhcHByb3hpbWF0aW9uIGNvcyh4LzIpID0gMSAtIHheMiAvIDhcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgem9vbUNoYW5nZWQgfHxcclxuICAgICAgICAgIGxhc3RQb3NpdGlvbi5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLm9iamVjdC5wb3NpdGlvbikgPiBFUFMgfHxcclxuICAgICAgICAgIDggKiAoMSAtIGxhc3RRdWF0ZXJuaW9uLmRvdCh0aGlzLm9iamVjdC5xdWF0ZXJuaW9uKSkgPiBFUFNcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGxhc3RQb3NpdGlvbi5jb3B5KHRoaXMub2JqZWN0LnBvc2l0aW9uKTtcclxuICAgICAgICAgIGxhc3RRdWF0ZXJuaW9uLmNvcHkodGhpcy5vYmplY3QucXVhdGVybmlvbik7XHJcbiAgICAgICAgICB6b29tQ2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9O1xyXG4gICAgfSkoKTtcclxuICB9XHJcblxyXG4gIC8vIFRoaXMgc2V0IG9mIGNvbnRyb2xzIHBlcmZvcm1zIG9yYml0aW5nLCBkb2xseWluZyAoem9vbWluZyksIGFuZCBwYW5uaW5nLiBJdCBtYWludGFpbnNcclxuICAvLyB0aGUgXCJ1cFwiIGRpcmVjdGlvbiBhcyArWSwgdW5saWtlIHRoZSBUcmFja2JhbGxDb250cm9scy4gVG91Y2ggb24gdGFibGV0IGFuZCBwaG9uZXMgaXNcclxuICAvLyBzdXBwb3J0ZWQuXHJcbiAgLy9cclxuICAvLyAgICBPcmJpdCAtIGxlZnQgbW91c2UgLyB0b3VjaDogb25lIGZpbmdlciBtb3ZlXHJcbiAgLy8gICAgWm9vbSAtIG1pZGRsZSBtb3VzZSwgb3IgbW91c2V3aGVlbCAvIHRvdWNoOiB0d28gZmluZ2VyIHNwcmVhZCBvciBzcXVpc2hcclxuICAvLyAgICBQYW4gLSByaWdodCBtb3VzZSwgb3IgYXJyb3cga2V5cyAvIHRvdWNoOiB0aHJlZSBmaW50ZXIgc3dpcGVcclxuXHJcbiAgZnVuY3Rpb24gT3JiaXRDb250cm9scyhvYmplY3QsIGRvbUVsZW1lbnQpIHtcclxuICAgIHZhciBjb25zdHJhaW50ID0gbmV3IE9yYml0Q29uc3RyYWludChvYmplY3QpO1xyXG5cclxuICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQgIT09IHVuZGVmaW5lZCA/IGRvbUVsZW1lbnQgOiBkb2N1bWVudDtcclxuXHJcbiAgICAvLyBBUElcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvbnN0cmFpbnQnLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjb25zdHJhaW50O1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5nZXRQb2xhckFuZ2xlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gY29uc3RyYWludC5nZXRQb2xhckFuZ2xlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0QXppbXV0aGFsQW5nbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBjb25zdHJhaW50LmdldEF6aW11dGhhbEFuZ2xlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoaXMgY29udHJvbFxyXG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAvLyBjZW50ZXIgaXMgb2xkLCBkZXByZWNhdGVkOyB1c2UgXCJ0YXJnZXRcIiBpbnN0ZWFkXHJcbiAgICB0aGlzLmNlbnRlciA9IHRoaXMudGFyZ2V0O1xyXG5cclxuICAgIC8vIFRoaXMgb3B0aW9uIGFjdHVhbGx5IGVuYWJsZXMgZG9sbHlpbmcgaW4gYW5kIG91dDsgbGVmdCBhcyBcInpvb21cIiBmb3JcclxuICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxyXG4gICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgem9vbWluZ1xyXG4gICAgdGhpcy5lbmFibGVab29tID0gdHJ1ZTtcclxuICAgIHRoaXMuem9vbVNwZWVkID0gMS4wO1xyXG5cclxuICAgIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHJvdGF0aW5nXHJcbiAgICB0aGlzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcbiAgICB0aGlzLnJvdGF0ZVNwZWVkID0gMS4wO1xyXG5cclxuICAgIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHBhbm5pbmdcclxuICAgIHRoaXMuZW5hYmxlUGFuID0gdHJ1ZTtcclxuICAgIHRoaXMua2V5UGFuU3BlZWQgPSA3LjA7IC8vIHBpeGVscyBtb3ZlZCBwZXIgYXJyb3cga2V5IHB1c2hcclxuXHJcbiAgICAvLyBTZXQgdG8gdHJ1ZSB0byBhdXRvbWF0aWNhbGx5IHJvdGF0ZSBhcm91bmQgdGhlIHRhcmdldFxyXG4gICAgLy8gSWYgYXV0by1yb3RhdGUgaXMgZW5hYmxlZCwgeW91IG11c3QgY2FsbCBjb250cm9scy51cGRhdGUoKSBpbiB5b3VyIGFuaW1hdGlvbiBsb29wXHJcbiAgICB0aGlzLmF1dG9Sb3RhdGUgPSBmYWxzZTtcclxuICAgIHRoaXMuYXV0b1JvdGF0ZVNwZWVkID0gMi4wOyAvLyAzMCBzZWNvbmRzIHBlciByb3VuZCB3aGVuIGZwcyBpcyA2MFxyXG5cclxuICAgIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHVzZSBvZiB0aGUga2V5c1xyXG4gICAgdGhpcy5lbmFibGVLZXlzID0gdHJ1ZTtcclxuXHJcbiAgICAvLyBUaGUgZm91ciBhcnJvdyBrZXlzXHJcbiAgICB0aGlzLmtleXMgPSB7IExFRlQ6IDM3LCBVUDogMzgsIFJJR0hUOiAzOSwgQk9UVE9NOiA0MCB9O1xyXG5cclxuICAgIC8vIE1vdXNlIGJ1dHRvbnNcclxuICAgIHRoaXMubW91c2VCdXR0b25zID0ge1xyXG4gICAgICBPUkJJVDogVEhSRUUuTU9VU0UuTEVGVCxcclxuICAgICAgWk9PTTogVEhSRUUuTU9VU0UuTUlERExFLFxyXG4gICAgICBQQU46IFRIUkVFLk1PVVNFLlJJR0hULFxyXG4gICAgfTtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy9cclxuICAgIC8vIGludGVybmFsc1xyXG5cclxuICAgIHZhciBzY29wZSA9IHRoaXM7XHJcblxyXG4gICAgdmFyIHJvdGF0ZVN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgIHZhciByb3RhdGVFbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG4gICAgdmFyIHJvdGF0ZURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuXHJcbiAgICB2YXIgcGFuU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG4gICAgdmFyIHBhbkVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICB2YXIgcGFuRGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG5cclxuICAgIHZhciBkb2xseVN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgIHZhciBkb2xseUVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICB2YXIgZG9sbHlEZWx0YSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcblxyXG4gICAgdmFyIFNUQVRFID0ge1xyXG4gICAgICBOT05FOiAtMSxcclxuICAgICAgUk9UQVRFOiAwLFxyXG4gICAgICBET0xMWTogMSxcclxuICAgICAgUEFOOiAyLFxyXG4gICAgICBUT1VDSF9ST1RBVEU6IDMsXHJcbiAgICAgIFRPVUNIX0RPTExZOiA0LFxyXG4gICAgICBUT1VDSF9QQU46IDUsXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcblxyXG4gICAgLy8gZm9yIHJlc2V0XHJcblxyXG4gICAgdGhpcy50YXJnZXQwID0gdGhpcy50YXJnZXQuY2xvbmUoKTtcclxuICAgIHRoaXMucG9zaXRpb24wID0gdGhpcy5vYmplY3QucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIHRoaXMuem9vbTAgPSB0aGlzLm9iamVjdC56b29tO1xyXG5cclxuICAgIC8vIGV2ZW50c1xyXG5cclxuICAgIHZhciBjaGFuZ2VFdmVudCA9IHsgdHlwZTogJ2NoYW5nZScgfTtcclxuICAgIHZhciBzdGFydEV2ZW50ID0geyB0eXBlOiAnc3RhcnQnIH07XHJcbiAgICB2YXIgZW5kRXZlbnQgPSB7IHR5cGU6ICdlbmQnIH07XHJcblxyXG4gICAgLy8gcGFzcyBpbiB4LHkgb2YgY2hhbmdlIGRlc2lyZWQgaW4gcGl4ZWwgc3BhY2UsXHJcbiAgICAvLyByaWdodCBhbmQgZG93biBhcmUgcG9zaXRpdmVcclxuICAgIGZ1bmN0aW9uIHBhbihkZWx0YVgsIGRlbHRhWSkge1xyXG4gICAgICB2YXIgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQgPT09IGRvY3VtZW50ID8gc2NvcGUuZG9tRWxlbWVudC5ib2R5IDogc2NvcGUuZG9tRWxlbWVudDtcclxuXHJcbiAgICAgIGNvbnN0cmFpbnQucGFuKGRlbHRhWCwgZGVsdGFZLCBlbGVtZW50LmNsaWVudFdpZHRoLCBlbGVtZW50LmNsaWVudEhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICh0aGlzLmF1dG9Sb3RhdGUgJiYgc3RhdGUgPT09IFNUQVRFLk5PTkUpIHtcclxuICAgICAgICBjb25zdHJhaW50LnJvdGF0ZUxlZnQoZ2V0QXV0b1JvdGF0aW9uQW5nbGUoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjb25zdHJhaW50LnVwZGF0ZSgpID09PSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNoYW5nZUV2ZW50KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcblxyXG4gICAgICB0aGlzLnRhcmdldC5jb3B5KHRoaXMudGFyZ2V0MCk7XHJcbiAgICAgIHRoaXMub2JqZWN0LnBvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbjApO1xyXG4gICAgICB0aGlzLm9iamVjdC56b29tID0gdGhpcy56b29tMDtcclxuXHJcbiAgICAgIHRoaXMub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNoYW5nZUV2ZW50KTtcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkge1xyXG4gICAgICByZXR1cm4gKCgyICogTWF0aC5QSSkgLyA2MCAvIDYwKSAqIHNjb3BlLmF1dG9Sb3RhdGVTcGVlZDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRab29tU2NhbGUoKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLnBvdygwLjk1LCBzY29wZS56b29tU3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50KSB7XHJcbiAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIGlmIChldmVudC5idXR0b24gPT09IHNjb3BlLm1vdXNlQnV0dG9ucy5PUkJJVCkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHN0YXRlID0gU1RBVEUuUk9UQVRFO1xyXG5cclxuICAgICAgICByb3RhdGVTdGFydC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuWk9PTSkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVab29tID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBzdGF0ZSA9IFNUQVRFLkRPTExZO1xyXG5cclxuICAgICAgICBkb2xseVN0YXJ0LnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcclxuICAgICAgfSBlbHNlIGlmIChldmVudC5idXR0b24gPT09IHNjb3BlLm1vdXNlQnV0dG9ucy5QQU4pIHtcclxuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBzdGF0ZSA9IFNUQVRFLlBBTjtcclxuXHJcbiAgICAgICAgcGFuU3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3RhdGUgIT09IFNUQVRFLk5PTkUpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlKTtcclxuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KHN0YXJ0RXZlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHtcclxuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgdmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XHJcblxyXG4gICAgICBpZiAoc3RhdGUgPT09IFNUQVRFLlJPVEFURSkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHJvdGF0ZUVuZC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgICAgcm90YXRlRGVsdGEuc3ViVmVjdG9ycyhyb3RhdGVFbmQsIHJvdGF0ZVN0YXJ0KTtcclxuXHJcbiAgICAgICAgLy8gcm90YXRpbmcgYWNyb3NzIHdob2xlIHNjcmVlbiBnb2VzIDM2MCBkZWdyZWVzIGFyb3VuZFxyXG4gICAgICAgIGNvbnN0cmFpbnQucm90YXRlTGVmdChcclxuICAgICAgICAgICgoMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS54KSAvIGVsZW1lbnQuY2xpZW50V2lkdGgpICogc2NvcGUucm90YXRlU3BlZWRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyByb3RhdGluZyB1cCBhbmQgZG93biBhbG9uZyB3aG9sZSBzY3JlZW4gYXR0ZW1wdHMgdG8gZ28gMzYwLCBidXQgbGltaXRlZCB0byAxODBcclxuICAgICAgICBjb25zdHJhaW50LnJvdGF0ZVVwKFxyXG4gICAgICAgICAgKCgyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnkpIC8gZWxlbWVudC5jbGllbnRIZWlnaHQpICogc2NvcGUucm90YXRlU3BlZWRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByb3RhdGVTdGFydC5jb3B5KHJvdGF0ZUVuZCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFLkRPTExZKSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGRvbGx5RW5kLnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcclxuICAgICAgICBkb2xseURlbHRhLnN1YlZlY3RvcnMoZG9sbHlFbmQsIGRvbGx5U3RhcnQpO1xyXG5cclxuICAgICAgICBpZiAoZG9sbHlEZWx0YS55ID4gMCkge1xyXG4gICAgICAgICAgY29uc3RyYWludC5kb2xseUluKGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvbGx5RGVsdGEueSA8IDApIHtcclxuICAgICAgICAgIGNvbnN0cmFpbnQuZG9sbHlPdXQoZ2V0Wm9vbVNjYWxlKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9sbHlTdGFydC5jb3B5KGRvbGx5RW5kKTtcclxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEUuUEFOKSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgcGFuRW5kLnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcclxuICAgICAgICBwYW5EZWx0YS5zdWJWZWN0b3JzKHBhbkVuZCwgcGFuU3RhcnQpO1xyXG5cclxuICAgICAgICBwYW4ocGFuRGVsdGEueCwgcGFuRGVsdGEueSk7XHJcblxyXG4gICAgICAgIHBhblN0YXJ0LmNvcHkocGFuRW5kKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5OT05FKSBzY29wZS51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbk1vdXNlVXAoLyogZXZlbnQgKi8pIHtcclxuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UpO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwLCBmYWxzZSk7XHJcbiAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoZW5kRXZlbnQpO1xyXG4gICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25Nb3VzZVdoZWVsKGV2ZW50KSB7XHJcbiAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSB8fCBzdGF0ZSAhPT0gU1RBVEUuTk9ORSkgcmV0dXJuO1xyXG5cclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICB2YXIgZGVsdGEgPSAwO1xyXG5cclxuICAgICAgaWYgKGV2ZW50LndoZWVsRGVsdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vIFdlYktpdCAvIE9wZXJhIC8gRXhwbG9yZXIgOVxyXG5cclxuICAgICAgICBkZWx0YSA9IGV2ZW50LndoZWVsRGVsdGE7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGV0YWlsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAvLyBGaXJlZm94XHJcblxyXG4gICAgICAgIGRlbHRhID0gLWV2ZW50LmRldGFpbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRlbHRhID4gMCkge1xyXG4gICAgICAgIGNvbnN0cmFpbnQuZG9sbHlPdXQoZ2V0Wm9vbVNjYWxlKCkpO1xyXG4gICAgICB9IGVsc2UgaWYgKGRlbHRhIDwgMCkge1xyXG4gICAgICAgIGNvbnN0cmFpbnQuZG9sbHlJbihnZXRab29tU2NhbGUoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KHN0YXJ0RXZlbnQpO1xyXG4gICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KGVuZEV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcclxuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZUtleXMgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgICAgY2FzZSBzY29wZS5rZXlzLlVQOlxyXG4gICAgICAgICAgcGFuKDAsIHNjb3BlLmtleVBhblNwZWVkKTtcclxuICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2Ugc2NvcGUua2V5cy5CT1RUT006XHJcbiAgICAgICAgICBwYW4oMCwgLXNjb3BlLmtleVBhblNwZWVkKTtcclxuICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2Ugc2NvcGUua2V5cy5MRUZUOlxyXG4gICAgICAgICAgcGFuKHNjb3BlLmtleVBhblNwZWVkLCAwKTtcclxuICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2Ugc2NvcGUua2V5cy5SSUdIVDpcclxuICAgICAgICAgIHBhbigtc2NvcGUua2V5UGFuU3BlZWQsIDApO1xyXG4gICAgICAgICAgc2NvcGUudXBkYXRlKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvdWNoc3RhcnQoZXZlbnQpIHtcclxuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICBzd2l0Y2ggKGV2ZW50LnRvdWNoZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgY2FzZSAxOiAvLyBvbmUtZmluZ2VyZWQgdG91Y2g6IHJvdGF0ZVxyXG4gICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlRPVUNIX1JPVEFURTtcclxuXHJcbiAgICAgICAgICByb3RhdGVTdGFydC5zZXQoZXZlbnQudG91Y2hlc1swXS5wYWdlWCwgZXZlbnQudG91Y2hlc1swXS5wYWdlWSk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAyOiAvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XHJcbiAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlRPVUNIX0RPTExZO1xyXG5cclxuICAgICAgICAgIHZhciBkeCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVggLSBldmVudC50b3VjaGVzWzFdLnBhZ2VYO1xyXG4gICAgICAgICAgdmFyIGR5ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVk7XHJcbiAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgICAgICAgZG9sbHlTdGFydC5zZXQoMCwgZGlzdGFuY2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgMzogLy8gdGhyZWUtZmluZ2VyZWQgdG91Y2g6IHBhblxyXG4gICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlRPVUNIX1BBTjtcclxuXHJcbiAgICAgICAgICBwYW5TdGFydC5zZXQoZXZlbnQudG91Y2hlc1swXS5wYWdlWCwgZXZlbnQudG91Y2hlc1swXS5wYWdlWSk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5OT05FKSBzY29wZS5kaXNwYXRjaEV2ZW50KHN0YXJ0RXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvdWNobW92ZShldmVudCkge1xyXG4gICAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgdmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XHJcblxyXG4gICAgICBzd2l0Y2ggKGV2ZW50LnRvdWNoZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgY2FzZSAxOiAvLyBvbmUtZmluZ2VyZWQgdG91Y2g6IHJvdGF0ZVxyXG4gICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfUk9UQVRFKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgcm90YXRlRW5kLnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICAgIHJvdGF0ZURlbHRhLnN1YlZlY3RvcnMocm90YXRlRW5kLCByb3RhdGVTdGFydCk7XHJcblxyXG4gICAgICAgICAgLy8gcm90YXRpbmcgYWNyb3NzIHdob2xlIHNjcmVlbiBnb2VzIDM2MCBkZWdyZWVzIGFyb3VuZFxyXG4gICAgICAgICAgY29uc3RyYWludC5yb3RhdGVMZWZ0KFxyXG4gICAgICAgICAgICAoKDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCkgLyBlbGVtZW50LmNsaWVudFdpZHRoKSAqIHNjb3BlLnJvdGF0ZVNwZWVkXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgLy8gcm90YXRpbmcgdXAgYW5kIGRvd24gYWxvbmcgd2hvbGUgc2NyZWVuIGF0dGVtcHRzIHRvIGdvIDM2MCwgYnV0IGxpbWl0ZWQgdG8gMTgwXHJcbiAgICAgICAgICBjb25zdHJhaW50LnJvdGF0ZVVwKFxyXG4gICAgICAgICAgICAoKDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueSkgLyBlbGVtZW50LmNsaWVudEhlaWdodCkgKiBzY29wZS5yb3RhdGVTcGVlZFxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICByb3RhdGVTdGFydC5jb3B5KHJvdGF0ZUVuZCk7XHJcblxyXG4gICAgICAgICAgc2NvcGUudXBkYXRlKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAyOiAvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XHJcbiAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfRE9MTFkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICB2YXIgZHggPSBldmVudC50b3VjaGVzWzBdLnBhZ2VYIC0gZXZlbnQudG91Y2hlc1sxXS5wYWdlWDtcclxuICAgICAgICAgIHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgLSBldmVudC50b3VjaGVzWzFdLnBhZ2VZO1xyXG4gICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuXHJcbiAgICAgICAgICBkb2xseUVuZC5zZXQoMCwgZGlzdGFuY2UpO1xyXG4gICAgICAgICAgZG9sbHlEZWx0YS5zdWJWZWN0b3JzKGRvbGx5RW5kLCBkb2xseVN0YXJ0KTtcclxuXHJcbiAgICAgICAgICBpZiAoZG9sbHlEZWx0YS55ID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdHJhaW50LmRvbGx5T3V0KGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoZG9sbHlEZWx0YS55IDwgMCkge1xyXG4gICAgICAgICAgICBjb25zdHJhaW50LmRvbGx5SW4oZ2V0Wm9vbVNjYWxlKCkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGRvbGx5U3RhcnQuY29weShkb2xseUVuZCk7XHJcblxyXG4gICAgICAgICAgc2NvcGUudXBkYXRlKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAzOiAvLyB0aHJlZS1maW5nZXJlZCB0b3VjaDogcGFuXHJcbiAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5UT1VDSF9QQU4pIHJldHVybjtcclxuXHJcbiAgICAgICAgICBwYW5FbmQuc2V0KGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpO1xyXG4gICAgICAgICAgcGFuRGVsdGEuc3ViVmVjdG9ycyhwYW5FbmQsIHBhblN0YXJ0KTtcclxuXHJcbiAgICAgICAgICBwYW4ocGFuRGVsdGEueCwgcGFuRGVsdGEueSk7XHJcblxyXG4gICAgICAgICAgcGFuU3RhcnQuY29weShwYW5FbmQpO1xyXG5cclxuICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b3VjaGVuZCgvKiBldmVudCAqLykge1xyXG4gICAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoZW5kRXZlbnQpO1xyXG4gICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udGV4dG1lbnUoZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGNvbnRleHRtZW51LCBmYWxzZSk7XHJcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93biwgZmFsc2UpO1xyXG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIG9uTW91c2VXaGVlbCwgZmFsc2UpO1xyXG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignTW96TW91c2VQaXhlbFNjcm9sbCcsIG9uTW91c2VXaGVlbCwgZmFsc2UpOyAvLyBmaXJlZm94XHJcblxyXG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRvdWNoc3RhcnQsIGZhbHNlKTtcclxuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdG91Y2hlbmQsIGZhbHNlKTtcclxuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRvdWNobW92ZSwgZmFsc2UpO1xyXG5cclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UpO1xyXG5cclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd24sIGZhbHNlKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgY29udGV4dG1lbnUsIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24sIGZhbHNlKTtcclxuICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgb25Nb3VzZVdoZWVsLCBmYWxzZSk7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignTW96TW91c2VQaXhlbFNjcm9sbCcsIG9uTW91c2VXaGVlbCwgZmFsc2UpOyAvLyBmaXJlZm94XHJcblxyXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0b3VjaHN0YXJ0LCBmYWxzZSk7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0b3VjaGVuZCwgZmFsc2UpO1xyXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRvdWNobW92ZSwgZmFsc2UpO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlEb3duLCBmYWxzZSk7XHJcblxyXG4gICAgLy8gZm9yY2UgYW4gdXBkYXRlIGF0IHN0YXJ0XHJcbiAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgT3JiaXRDb250cm9scy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFRIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUpO1xyXG4gIE9yYml0Q29udHJvbHMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gT3JiaXRDb250cm9scztcclxuXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoT3JiaXRDb250cm9scy5wcm90b3R5cGUsIHtcclxuICAgIG9iamVjdDoge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50Lm9iamVjdDtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgdGFyZ2V0OiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQudGFyZ2V0O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLk9yYml0Q29udHJvbHM6IHRhcmdldCBpcyBub3cgaW1tdXRhYmxlLiBVc2UgdGFyZ2V0LnNldCgpIGluc3RlYWQuJyk7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50LnRhcmdldC5jb3B5KHZhbHVlKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgbWluRGlzdGFuY2U6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5taW5EaXN0YW5jZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1pbkRpc3RhbmNlID0gdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIG1heERpc3RhbmNlOiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQubWF4RGlzdGFuY2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC5tYXhEaXN0YW5jZSA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBtaW5ab29tOiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQubWluWm9vbTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1pblpvb20gPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgbWF4Wm9vbToge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50Lm1heFpvb207XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC5tYXhab29tID0gdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIG1pblBvbGFyQW5nbGU6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5taW5Qb2xhckFuZ2xlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbnN0cmFpbnQubWluUG9sYXJBbmdsZSA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBtYXhQb2xhckFuZ2xlOiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQubWF4UG9sYXJBbmdsZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1heFBvbGFyQW5nbGUgPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgbWluQXppbXV0aEFuZ2xlOiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQubWluQXppbXV0aEFuZ2xlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbnN0cmFpbnQubWluQXppbXV0aEFuZ2xlID0gdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIG1heEF6aW11dGhBbmdsZToge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50Lm1heEF6aW11dGhBbmdsZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1heEF6aW11dGhBbmdsZSA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBlbmFibGVEYW1waW5nOiB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQuZW5hYmxlRGFtcGluZztcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50LmVuYWJsZURhbXBpbmcgPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgZGFtcGluZ0ZhY3Rvcjoge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50LmRhbXBpbmdGYWN0b3I7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29uc3RyYWludC5kYW1waW5nRmFjdG9yID0gdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuXHJcbiAgICBub1pvb206IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9ab29tIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlWm9vbSBpbnN0ZWFkLicpO1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5lbmFibGVab29tO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1pvb20gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVab29tIGluc3RlYWQuJyk7XHJcbiAgICAgICAgdGhpcy5lbmFibGVab29tID0gIXZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBub1JvdGF0ZToge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vUm90YXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUm90YXRlIGluc3RlYWQuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmVuYWJsZVJvdGF0ZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1JvdGF0ZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVJvdGF0ZSBpbnN0ZWFkLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlUm90YXRlID0gIXZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBub1Bhbjoge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1BhbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVBhbiBpbnN0ZWFkLicpO1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5lbmFibGVQYW47XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuT3JiaXRDb250cm9sczogLm5vUGFuIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUGFuIGluc3RlYWQuJyk7XHJcbiAgICAgICAgdGhpcy5lbmFibGVQYW4gPSAhdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIG5vS2V5czoge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub0tleXMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVLZXlzIGluc3RlYWQuJyk7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmVuYWJsZUtleXM7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuT3JiaXRDb250cm9sczogLm5vS2V5cyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZUtleXMgaW5zdGVhZC4nKTtcclxuICAgICAgICB0aGlzLmVuYWJsZUtleXMgPSAhdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIHN0YXRpY01vdmluZzoge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogLnN0YXRpY01vdmluZyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZURhbXBpbmcgaW5zdGVhZC4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gIXRoaXMuY29uc3RyYWludC5lbmFibGVEYW1waW5nO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogLnN0YXRpY01vdmluZyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZURhbXBpbmcgaW5zdGVhZC4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZW5hYmxlRGFtcGluZyA9ICF2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgZHluYW1pY0RhbXBpbmdGYWN0b3I6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5keW5hbWljRGFtcGluZ0ZhY3RvciBoYXMgYmVlbiByZW5hbWVkLiBVc2UgLmRhbXBpbmdGYWN0b3IgaW5zdGVhZC4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50LmRhbXBpbmdGYWN0b3I7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuZHluYW1pY0RhbXBpbmdGYWN0b3IgaGFzIGJlZW4gcmVuYW1lZC4gVXNlIC5kYW1waW5nRmFjdG9yIGluc3RlYWQuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50LmRhbXBpbmdGYWN0b3IgPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBPcmJpdENvbnRyb2xzO1xyXG59O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQZWVyQ29ubmVjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAnaWNlU2VydmVycyc6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgJ3VybHMnOiAnc3R1bjpzdHVuLmwuZ29vZ2xlLmNvbToxOTMwMidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICd1cmxzJzogJ3R1cm46bnVtYi52aWFnZW5pZS5jYScsXHJcbiAgICAgICAgICAgICAgICAgICdjcmVkZW50aWFsJzogJ211YXpraCcsXHJcbiAgICAgICAgICAgICAgICAgICd1c2VybmFtZSc6ICd3ZWJydGNAbGl2ZS5jb20nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAndXJscyc6ICd0dXJuOjE5Mi4xNTguMjkuMzk6MzQ3OD90cmFuc3BvcnQ9dWRwJyxcclxuICAgICAgICAgICAgICAgICAgJ2NyZWRlbnRpYWwnOiAnSlpFT0V0MlYzUWIweTI3R1JudHQydTJQQVlBPScsXHJcbiAgICAgICAgICAgICAgICAgICd1c2VybmFtZSc6ICcyODIyNDUxMToxMzc5MzMwODA4J1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgJ3VybHMnOiAndHVybjoxOTIuMTU4LjI5LjM5OjM0Nzg/dHJhbnNwb3J0PXRjcCcsXHJcbiAgICAgICAgICAgICAgICAgICdjcmVkZW50aWFsJzogJ0paRU9FdDJWM1FiMHkyN0dSbnR0MnUyUEFZQT0nLFxyXG4gICAgICAgICAgICAgICAgICAndXNlcm5hbWUnOiAnMjgyMjQ1MTE6MTM3OTMzMDgwOCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucnRjUGVlckNvbm5lY3Rpb24gPSB0aGlzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuZGF0YUNoYW5uZWxzID0gW107XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAobG9jYXRpb24uaG9zdG5hbWUgIT09ICdsb2NhbGhvc3QnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucnRjUGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy5wZWVyQ29ubmVjdGlvbkNvbmZpZyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRoaXMucGVlckNvbm5lY3Rpb25Db25maWcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGVkIFJUQ1BlZXJDb25ubmVjdGlvbjogJyArIHRoaXMucnRjUGVlckNvbm5lY3Rpb24pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ydGNQZWVyQ29ubmVjdGlvbjtcclxuXHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gY3JlYXRlIFBlZXJDb25uZWN0aW9uLCBleGNlcHRpb246ICcgKyBlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBhbGVydCgnQ2Fubm90IGNyZWF0ZSBSVENQZWVyQ29ubmVjdGlvbiBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlRGF0YUNoYW5uZWwoY2hhbm5lbE5hbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5ydGNQZWVyQ29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICBsZXQgZGF0YUNoYW5uZWwgPSB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKGNoYW5uZWxOYW1lLCB7XHJcbiAgICAgICAgICAgICAgICBvcmRlcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlkOiByb29tXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWxzLnB1c2goZGF0YUNoYW5uZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQZWVyQ29ubmVjdGlvbiBmcm9tIFwiLi9wZWVyQ29ubmVjdGlvblwiO1xyXG5pbXBvcnQge3VwZGF0ZVJlbW90ZU9iamVjdHMsIG1vdmVSZW1vdGVWaWRlb1RvU2NlbmV9IGZyb20gJy4uL2FwcC9nYW1lJztcclxuXHJcbmV4cG9ydCBsZXQgZGF0YUNoYW5uZWw7XHJcbmV4cG9ydCBsZXQgaXNJbml0aWF0b3I7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWRlb0NhbGx7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBpc0luaXRpYXRvciA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBpc0NoYW5uZWxSZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBpc1N0YXJ0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IGxvY2FsU3RyZWFtO1xyXG4gICAgICAgIGxldCByZW1vdGVTdHJlYW07XHJcblxyXG4gICAgICAgIGxldCBwZWVyQ29ubmVjdGlvbjtcclxuICAgICAgICAvLyBsZXQgZGF0YUNoYW5uZWw7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vICAgc29ja2V0LmlvIHJvb20gaGFuZGxpbmcgICAvLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICAvLyBsZXQgcm9vbSA9ICcxMjMnO1xyXG4gICAgICAgIGxldCByb29tTmFtZSA9IHByb21wdCgnRW50ZXIgcm9vbSBuYW1lOicpO1xyXG5cclxuICAgICAgICBjb25zdCBzb2NrZXQgPSBpby5jb25uZWN0KCk7XHJcblxyXG4gICAgICAgIGlmIChyb29tTmFtZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2NyZWF0ZSBvciBqb2luJywgcm9vbU5hbWUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGVkIHRvIGNyZWF0ZSBvciBqb2luIHJvb20nLCByb29tTmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzb2NrZXQub24oJ2NyZWF0ZWQnLCBmdW5jdGlvbihyb29tKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGVkIHJvb20gJyArIHJvb20pO1xyXG4gICAgICAgICAgICBpc0luaXRpYXRvciA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNvY2tldC5vbignZnVsbCcsIGZ1bmN0aW9uKHJvb20pIHtcclxuICAgICAgICAgICAgLy9UT0RPIHNob3cgdXNlciB0aGF0IHJvb20gaXMgZnVsbC5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jvb20gJyArIHJvb20gKyAnIGlzIGZ1bGwnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc29ja2V0Lm9uKCdqb2luJywgZnVuY3Rpb24gKHJvb20pe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQW5vdGhlciBwZWVyIG1hZGUgYSByZXF1ZXN0IHRvIGpvaW4gcm9vbSAnICsgcm9vbSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaGlzIHBlZXIgaXMgdGhlIGluaXRpYXRvciBvZiByb29tICcgKyByb29tICsgJyEnKTtcclxuICAgICAgICAgICAgaXNDaGFubmVsUmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzb2NrZXQub24oJ2pvaW5lZCcsIGZ1bmN0aW9uKHJvb20pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2pvaW5lZDogJyArIHJvb20pO1xyXG4gICAgICAgICAgICBpc0NoYW5uZWxSZWFkeSA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNvY2tldC5vbignbG9nJywgZnVuY3Rpb24oYXJyYXkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJyYXkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzb2NrZXQub24oJ21lc3NhZ2UnLCBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQgcmVjZWl2ZWQgbWVzc2FnZTonLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UgPT09ICdnb3QgdXNlciBtZWRpYScpIHtcclxuICAgICAgICAgICAgICAgIG1heWJlU3RhcnQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdvZmZlcicpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNJbml0aWF0b3IgJiYgIWlzU3RhcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heWJlU3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG1lc3NhZ2UpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9BbnN3ZXIoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnYW5zd2VyJyAmJiBpc1N0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24obWVzc2FnZSkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ2NhbmRpZGF0ZScgJiYgaXNTdGFydGVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FuZGlkYXRlID0gbmV3IFJUQ0ljZUNhbmRpZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2RwTUxpbmVJbmRleDogbWVzc2FnZS5sYWJlbCxcclxuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGU6IG1lc3NhZ2UuY2FuZGlkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgPT09ICdieWUnICYmIGlzU3RhcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlUmVtb3RlSGFuZ3VwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VuZFNpZ25hbGluZ01lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xpZW50IHNlbmRpbmcgbWVzc2FnZTogJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdtZXNzYWdlJywgcm9vbU5hbWUsIG1lc3NhZ2UpOyBcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLyAgIGluaXQgdmlkZW8gY2FwdHVyZSBhbmQgc3RyZWFtICAgLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgY29uc3QgbG9jYWxWaWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2NhbFZpZGVvJyk7XHJcbiAgICAgICAgY29uc3QgcmVtb3RlVmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVtb3RlVmlkZW8nKTtcclxuXHJcbiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xyXG4gICAgICAgICAgICB2aWRlbzogdHJ1ZSxcclxuICAgICAgICAgICAgYXVkaW86IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKGluaXRMb2NhbFN0cmVhbSlcclxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBhbGVydCgnZ2V0VXNlck1lZGlhKCkgZXJyb3I6ICcgKyBlLm5hbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0TG9jYWxTdHJlYW0oc3RyZWFtKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgbG9jYWwgc3RyZWFtLicpO1xyXG4gICAgICAgICAgICBsb2NhbFN0cmVhbSA9IHN0cmVhbTtcclxuICAgICAgICAgICAgbG9jYWxWaWRlby5zcmNPYmplY3QgPSBzdHJlYW07XHJcbiAgICAgICAgICAgIHNlbmRTaWduYWxpbmdNZXNzYWdlKCdnb3QgdXNlciBtZWRpYScpO1xyXG4gICAgICAgICAgICBpZiAoaXNJbml0aWF0b3IpIHtcclxuICAgICAgICAgICAgICAgIG1heWJlU3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbWF5YmVTdGFydCA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJz4+Pj4+Pj4gbWF5YmVTdGFydCgpICcsIGlzU3RhcnRlZCwgbG9jYWxTdHJlYW0sIGlzQ2hhbm5lbFJlYWR5KTtcclxuICAgICAgICAgICAgaWYgKCFpc1N0YXJ0ZWQgJiYgdHlwZW9mIGxvY2FsU3RyZWFtICE9PSAndW5kZWZpbmVkJyAmJiBpc0NoYW5uZWxSZWFkeSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJz4+Pj4+PiBjcmVhdGluZyBwZWVyIGNvbm5lY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgIGluaXRQZWVyQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIGxvY2FsU3RyZWFtLmdldFRyYWNrcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24uYWRkVHJhY2sodHJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG1vdmVSZW1vdGVWaWRlb1RvU2NlbmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpc1N0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2lzSW5pdGlhdG9yJywgaXNJbml0aWF0b3IpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSW5pdGlhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdERhdGFDaGFubmVsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgUlRDRGF0YUNoYW5uZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICBkb0NhbGwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBnYW1lQ29udHJvbGxlci5zdGFydFNoYXJlZFNjZW5lU3luYygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHdpbmRvdy5vbnBhZ2VoaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGhhbmd1cCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGhhbmRsZSB0YWJzIGNsb3NpbmcoYWxtb3N0IGFsbCBicm93c2Vycykgb3IgcGFnZWhpZGUobmVlZGVkIGZvciBpUGFkL2lQaG9uZSlcclxuICAgICAgICB2YXIgaXNPbklPUyA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01hYy8pICYmIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyAmJiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAyOyAvLyBtdXN0IGJlIGlPUy4uLlxyXG4gICAgICAgIHZhciBldmVudE5hbWUgPSBpc09uSU9TID8gXCJwYWdlaGlkZVwiIDogXCJiZWZvcmV1bmxvYWRcIjtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jdGlvbiAoZXZlbnQpIHsgXHJcbiAgICAgICAgICAgIHNlbmRTaWduYWxpbmdNZXNzYWdlKCdieWUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vICAgY3JlYXRlIGFuZCBoYW5kbGUgUGVlckNvbm5lY3Rpb24gLy8vLy8gXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBjb25zdCBpbml0UGVlckNvbm5lY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uID0gbmV3IFBlZXJDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlID0gaGFuZGxlSWNlQ2FuZGlkYXRlO1xyXG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5vbnRyYWNrID0gaGFuZGxlVHJhY2tBZGRlZDtcclxuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24ub25kYXRhY2hhbm5lbCA9IGhhbmRsZURhdGFDaGFubmVsQWRkZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVJY2VDYW5kaWRhdGUoZXZlbnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2ljZWNhbmRpZGF0ZSBldmVudDogJywgZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuY2FuZGlkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBzZW5kU2lnbmFsaW5nTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NhbmRpZGF0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGV2ZW50LmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBldmVudC5jYW5kaWRhdGUuc2RwTWlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZTogZXZlbnQuY2FuZGlkYXRlLmNhbmRpZGF0ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRW5kIG9mIGNhbmRpZGF0ZXMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVRyYWNrQWRkZWQoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnN0cmVhbXMgJiYgZXZlbnQuc3RyZWFtc1swXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJldmVudCBzdHJlYW1zIGRldGVjdGVkXCIpXHJcbiAgICAgICAgICAgICAgICByZW1vdGVWaWRlby5zcmNPYmplY3QgPSBldmVudC5zdHJlYW1zWzBdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZW1vdGVTdHJlYW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIG5ldyBNZWRpYVN0cmVhbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZGRpbmcgdHJhY2sgdG8gcmVtb3RlIHN0cmVhbVwiKVxyXG4gICAgICAgICAgICAgICAgcmVtb3RlU3RyZWFtLmFkZFRyYWNrKGV2ZW50LnRyYWNrKTtcclxuICAgICAgICAgICAgICAgIHJlbW90ZVZpZGVvLnNldEF0dHJpYnV0ZSgnc3JjJywgcmVtb3RlU3RyZWFtKTtcclxuICAgICAgICAgICAgICAgIHJlbW90ZVZpZGVvLnNyY09iamVjdCA9IHJlbW90ZVN0cmVhbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZW1vdGVWaWRlby5hdXRvcGxheSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVDcmVhdGVPZmZlckVycm9yKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjcmVhdGVPZmZlcigpIGVycm9yOiAnLCBldmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkb0NhbGwoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIG9mZmVyIHRvIHBlZXInKTtcclxuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoc2V0TG9jYWxBbmRTZW5kTWVzc2FnZSwgaGFuZGxlQ3JlYXRlT2ZmZXJFcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkb0Fuc3dlcigpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgYW5zd2VyIHRvIHBlZXIuJyk7XHJcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBzZXRMb2NhbEFuZFNlbmRNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgb25DcmVhdGVTZXNzaW9uRGVzY3JpcHRpb25FcnJvclxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0TG9jYWxBbmRTZW5kTWVzc2FnZShzZXNzaW9uRGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihzZXNzaW9uRGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2V0TG9jYWxBbmRTZW5kTWVzc2FnZSBzZW5kaW5nIG1lc3NhZ2UnLCBzZXNzaW9uRGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICBzZW5kU2lnbmFsaW5nTWVzc2FnZShzZXNzaW9uRGVzY3JpcHRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25DcmVhdGVTZXNzaW9uRGVzY3JpcHRpb25FcnJvcihlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGNyZWF0ZSBzZXNzaW9uIGRlc2NyaXB0aW9uOiAnICsgZXJyb3IudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBoYW5ndXAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYW5naW5nIHVwLicpO1xyXG4gICAgICAgICAgICBzdG9wKCk7XHJcbiAgICAgICAgICAgIHNlbmRTaWduYWxpbmdNZXNzYWdlKCdieWUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlbW90ZUhhbmd1cCgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Nlc3Npb24gdGVybWluYXRlZC4nKTtcclxuICAgICAgICAgICAgc3RvcCgpO1xyXG4gICAgICAgICAgICBpc0luaXRpYXRvciA9IHRydWU7IC8vd2hlbiByZW1vdGUgbGVhdmVzLCB0aGlzIGNsaWVudCB3aWxsIGJlIHRoZSBuZXcgaW5pdGlhdG9yXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzdG9wKCkge1xyXG4gICAgICAgICAgICBpc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwuY2xvc2UoKTtcclxuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcclxuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICByZW1vdGVWaWRlby5wYXVzZSgpO1xyXG4gICAgICAgICAgICByZW1vdGVWaWRlby5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpOyAvLyBlbXB0eSBzb3VyY2VcclxuICAgICAgICAgICAgcmVtb3RlVmlkZW8ucmVtb3ZlQXR0cmlidXRlKCdhdXRvcGxheScpO1xyXG4gICAgICAgICAgICByZW1vdGVTdHJlYW0gPSBudWxsO1xyXG4gICAgICAgICAgICByZW1vdGVWaWRlby5sb2FkKCk7XHJcbiAgICAgICAgICAgIC8vICAgZ2FtZUNvbnRyb2xsZXIuc3RvcFNoYXJlZFNjZW5lU3luYygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8gICBjcmVhdGUgYW5kIGhhbmRsZSBkYXRhY2hhbm5lbCAgIC8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXREYXRhQ2hhbm5lbCgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NSRUFUSU5HIERBVEFDSEFOTkVMIGdhbWVVcGRhdGVzJylcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwgPSBwZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbCgnZ2FtZVVwZGF0ZXMnKTtcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwub25tZXNzYWdlID0gaGFuZGxlUmVjZWl2ZU1lc3NhZ2U7XHJcbiAgICAgICAgICAgIGRhdGFDaGFubmVsLm9uZXJyb3IgPSBoYW5kbGVEYXRhQ2hhbm5lbEVycm9yO1xyXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbC5vbm9wZW4gPSBoYW5kbGVEYXRhQ2hhbm5lbFN0YXR1c0NoYW5nZTtcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwub25jbG9zZSA9IGhhbmRsZURhdGFDaGFubmVsU3RhdHVzQ2hhbmdlO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NSRUFURUQgREFUQUNIQU5ORUwgZ2FtZVVwZGF0ZXMnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRGF0YUNoYW5uZWxBZGRlZChldmVudCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgQ2hhbm5lbCBDYWxsYmFjaycpO1xyXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbCA9IGV2ZW50LmNoYW5uZWw7XHJcbiAgICAgICAgICAgIGRhdGFDaGFubmVsLm9ubWVzc2FnZSA9IGhhbmRsZVJlY2VpdmVNZXNzYWdlO1xyXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbC5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRhdGEgQ2hhbm5lbCBFcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbC5vbm9wZW4gPSBoYW5kbGVEYXRhQ2hhbm5lbFN0YXR1c0NoYW5nZTtcclxuICAgICAgICAgICAgZGF0YUNoYW5uZWwub25jbG9zZSA9IGhhbmRsZURhdGFDaGFubmVsU3RhdHVzQ2hhbmdlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ1JFQVRFRCBEQVRBQ0hBTk5FTCBnYW1lVXBkYXRlcycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVjZWl2ZU1lc3NhZ2UoZXZlbnQpIHtcclxuICAgICAgICAgICAgdXBkYXRlUmVtb3RlT2JqZWN0cyhldmVudC5kYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZURhdGFDaGFubmVsRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEYXRhIENoYW5uZWwgRXJyb3I6XCIsIGVycm9yKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVEYXRhQ2hhbm5lbFN0YXR1c0NoYW5nZShldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YUNoYW5uZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IGRhdGFDaGFubmVsLnJlYWR5U3RhdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBcIm9wZW5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiREFUQSBDSEFOTkVMIFNUQVRFOiBvcGVuXCIpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiREFUQSBDSEFOTkVMIFNUQVRFOiBjbG9zZWRcIilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLyAgIHN5bmNocm9uaXphdGlvbiBvZiBnYW1lb2JqZWN0cyAgICAvLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vIGZ1bmN0aW9uIHN0YXJ0R2FtZVN5bmMoKSB7XHJcbiAgICAgICAgLy8gICBsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChzZW5kR2FtZW9iamVjdFBvc2l0aW9ucywgMzApO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gZnVuY3Rpb24gc2VuZEdhbWVvYmplY3RQb3NpdGlvbnMoc2NlbmVKc29uKSB7XHJcbiAgICAgICAgLy8gICAvL1RPRE8gc2VuZCBKU09OIFN0cmluZ3Mgb2YgZ2FtZW9iamVjdCBhbmQgcG9zaXRpb25zXHJcbiAgICAgICAgLy8gICBpZiAoZGF0YUNoYW5uZWwgJiYgZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcclxuICAgICAgICAvLyAgICAgZGF0YUNoYW5uZWwuc2VuZChzY2VuZUpzb24pO1xyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9